(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var tm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function Rw(){if(r0)return Fl;r0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var i0;function Nw(){return i0||(i0=1,tm.exports=Rw()),tm.exports}var v=Nw(),nm={exports:{}},ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function Cw(){if(s0)return ze;s0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,X={};function q(P,se,pe){this.props=P,this.context=se,this.refs=X,this.updater=pe||C}q.prototype.isReactComponent={},q.prototype.setState=function(P,se){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,se,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function W(){}W.prototype=q.prototype;function ee(P,se,pe){this.props=P,this.context=se,this.refs=X,this.updater=pe||C}var ae=ee.prototype=new W;ae.constructor=ee,V(ae,q.prototype),ae.isPureReactComponent=!0;var _e=Array.isArray,L={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function O(P,se,pe,de,me,Pe){return pe=Pe.ref,{$$typeof:r,type:P,key:se,ref:pe!==void 0?pe:null,props:Pe}}function A(P,se){return O(P.type,se,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function I(P){var se={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pe){return se[pe]})}var j=/\/+/g;function B(P,se){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):se.toString(36)}function D(){}function Tt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(D,D):(P.status="pending",P.then(function(se){P.status==="pending"&&(P.status="fulfilled",P.value=se)},function(se){P.status==="pending"&&(P.status="rejected",P.reason=se)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function qe(P,se,pe,de,me){var Pe=typeof P;(Pe==="undefined"||Pe==="boolean")&&(P=null);var Ue=!1;if(P===null)Ue=!0;else switch(Pe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(P.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=P._init,qe(Ue(P._payload),se,pe,de,me)}}if(Ue)return me=me(P),Ue=de===""?"."+B(P,0):de,_e(me)?(pe="",Ue!=null&&(pe=Ue.replace(j,"$&/")+"/"),qe(me,se,pe,"",function(Ke){return Ke})):me!=null&&(S(me)&&(me=A(me,pe+(me.key==null||P&&P.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+Ue)),se.push(me)),1;Ue=0;var Ct=de===""?".":de+":";if(_e(P))for(var et=0;et<P.length;et++)de=P[et],Pe=Ct+B(de,et),Ue+=qe(de,se,pe,Pe,me);else if(et=R(P),typeof et=="function")for(P=et.call(P),et=0;!(de=P.next()).done;)de=de.value,Pe=Ct+B(de,et++),Ue+=qe(de,se,pe,Pe,me);else if(Pe==="object"){if(typeof P.then=="function")return qe(Tt(P),se,pe,de,me);throw se=String(P),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function ue(P,se,pe){if(P==null)return P;var de=[],me=0;return qe(P,de,"","",function(Pe){return se.call(pe,Pe,me++)}),de}function Ce(P){if(P._status===-1){var se=P._result;se=se(),se.then(function(pe){(P._status===0||P._status===-1)&&(P._status=1,P._result=pe)},function(pe){(P._status===0||P._status===-1)&&(P._status=2,P._result=pe)}),P._status===-1&&(P._status=0,P._result=se)}if(P._status===1)return P._result.default;throw P._result}var Ee=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Be(){}return ze.Children={map:ue,forEach:function(P,se,pe){ue(P,function(){se.apply(this,arguments)},pe)},count:function(P){var se=0;return ue(P,function(){se++}),se},toArray:function(P){return ue(P,function(se){return se})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ze.Component=q,ze.Fragment=n,ze.Profiler=o,ze.PureComponent=ee,ze.StrictMode=s,ze.Suspense=p,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ze.act=function(){throw Error("act(...) is not supported in production builds of React.")},ze.cache=function(P){return function(){return P.apply(null,arguments)}},ze.cloneElement=function(P,se,pe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var de=V({},P.props),me=P.key,Pe=void 0;if(se!=null)for(Ue in se.ref!==void 0&&(Pe=void 0),se.key!==void 0&&(me=""+se.key),se)!he.call(se,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&se.ref===void 0||(de[Ue]=se[Ue]);var Ue=arguments.length-2;if(Ue===1)de.children=pe;else if(1<Ue){for(var Ct=Array(Ue),et=0;et<Ue;et++)Ct[et]=arguments[et+2];de.children=Ct}return O(P.type,me,void 0,void 0,Pe,de)},ze.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},ze.createElement=function(P,se,pe){var de,me={},Pe=null;if(se!=null)for(de in se.key!==void 0&&(Pe=""+se.key),se)he.call(se,de)&&de!=="key"&&de!=="__self"&&de!=="__source"&&(me[de]=se[de]);var Ue=arguments.length-2;if(Ue===1)me.children=pe;else if(1<Ue){for(var Ct=Array(Ue),et=0;et<Ue;et++)Ct[et]=arguments[et+2];me.children=Ct}if(P&&P.defaultProps)for(de in Ue=P.defaultProps,Ue)me[de]===void 0&&(me[de]=Ue[de]);return O(P,Pe,void 0,void 0,null,me)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(P){return{$$typeof:f,render:P}},ze.isValidElement=S,ze.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:Ce}},ze.memo=function(P,se){return{$$typeof:g,type:P,compare:se===void 0?null:se}},ze.startTransition=function(P){var se=L.T,pe={};L.T=pe;try{var de=P(),me=L.S;me!==null&&me(pe,de),typeof de=="object"&&de!==null&&typeof de.then=="function"&&de.then(Be,Ee)}catch(Pe){Ee(Pe)}finally{L.T=se}},ze.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ze.use=function(P){return L.H.use(P)},ze.useActionState=function(P,se,pe){return L.H.useActionState(P,se,pe)},ze.useCallback=function(P,se){return L.H.useCallback(P,se)},ze.useContext=function(P){return L.H.useContext(P)},ze.useDebugValue=function(){},ze.useDeferredValue=function(P,se){return L.H.useDeferredValue(P,se)},ze.useEffect=function(P,se){return L.H.useEffect(P,se)},ze.useId=function(){return L.H.useId()},ze.useImperativeHandle=function(P,se,pe){return L.H.useImperativeHandle(P,se,pe)},ze.useInsertionEffect=function(P,se){return L.H.useInsertionEffect(P,se)},ze.useLayoutEffect=function(P,se){return L.H.useLayoutEffect(P,se)},ze.useMemo=function(P,se){return L.H.useMemo(P,se)},ze.useOptimistic=function(P,se){return L.H.useOptimistic(P,se)},ze.useReducer=function(P,se,pe){return L.H.useReducer(P,se,pe)},ze.useRef=function(P){return L.H.useRef(P)},ze.useState=function(P){return L.H.useState(P)},ze.useSyncExternalStore=function(P,se,pe){return L.H.useSyncExternalStore(P,se,pe)},ze.useTransition=function(){return L.H.useTransition()},ze.version="19.0.0",ze}var a0;function Zm(){return a0||(a0=1,nm.exports=Cw()),nm.exports}var K=Zm(),rm={exports:{}},Gl={},im={exports:{}},sm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function Iw(){return o0||(o0=1,function(r){function e(ue,Ce){var Ee=ue.length;ue.push(Ce);e:for(;0<Ee;){var Be=Ee-1>>>1,P=ue[Be];if(0<o(P,Ce))ue[Be]=Ce,ue[Ee]=P,Ee=Be;else break e}}function n(ue){return ue.length===0?null:ue[0]}function s(ue){if(ue.length===0)return null;var Ce=ue[0],Ee=ue.pop();if(Ee!==Ce){ue[0]=Ee;e:for(var Be=0,P=ue.length,se=P>>>1;Be<se;){var pe=2*(Be+1)-1,de=ue[pe],me=pe+1,Pe=ue[me];if(0>o(de,Ee))me<P&&0>o(Pe,de)?(ue[Be]=Pe,ue[me]=Ee,Be=me):(ue[Be]=de,ue[pe]=Ee,Be=pe);else if(me<P&&0>o(Pe,Ee))ue[Be]=Pe,ue[me]=Ee,Be=me;else break e}}return Ce}function o(ue,Ce){var Ee=ue.sortIndex-Ce.sortIndex;return Ee!==0?Ee:ue.id-Ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],g=[],E=1,w=null,R=3,C=!1,V=!1,X=!1,q=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function ae(ue){for(var Ce=n(g);Ce!==null;){if(Ce.callback===null)s(g);else if(Ce.startTime<=ue)s(g),Ce.sortIndex=Ce.expirationTime,e(p,Ce);else break;Ce=n(g)}}function _e(ue){if(X=!1,ae(ue),!V)if(n(p)!==null)V=!0,Tt();else{var Ce=n(g);Ce!==null&&qe(_e,Ce.startTime-ue)}}var L=!1,he=-1,O=5,A=-1;function S(){return!(r.unstable_now()-A<O)}function I(){if(L){var ue=r.unstable_now();A=ue;var Ce=!0;try{e:{V=!1,X&&(X=!1,W(he),he=-1),C=!0;var Ee=R;try{t:{for(ae(ue),w=n(p);w!==null&&!(w.expirationTime>ue&&S());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,R=w.priorityLevel;var P=Be(w.expirationTime<=ue);if(ue=r.unstable_now(),typeof P=="function"){w.callback=P,ae(ue),Ce=!0;break t}w===n(p)&&s(p),ae(ue)}else s(p);w=n(p)}if(w!==null)Ce=!0;else{var se=n(g);se!==null&&qe(_e,se.startTime-ue),Ce=!1}}break e}finally{w=null,R=Ee,C=!1}Ce=void 0}}finally{Ce?j():L=!1}}}var j;if(typeof ee=="function")j=function(){ee(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,D=B.port2;B.port1.onmessage=I,j=function(){D.postMessage(null)}}else j=function(){q(I,0)};function Tt(){L||(L=!0,j())}function qe(ue,Ce){he=q(function(){ue(r.unstable_now())},Ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ue){ue.callback=null},r.unstable_continueExecution=function(){V||C||(V=!0,Tt())},r.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ue?Math.floor(1e3/ue):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ue){switch(R){case 1:case 2:case 3:var Ce=3;break;default:Ce=R}var Ee=R;R=Ce;try{return ue()}finally{R=Ee}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ue,Ce){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Ee=R;R=ue;try{return Ce()}finally{R=Ee}},r.unstable_scheduleCallback=function(ue,Ce,Ee){var Be=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Be+Ee:Be):Ee=Be,ue){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=Ee+P,ue={id:E++,callback:Ce,priorityLevel:ue,startTime:Ee,expirationTime:P,sortIndex:-1},Ee>Be?(ue.sortIndex=Ee,e(g,ue),n(p)===null&&ue===n(g)&&(X?(W(he),he=-1):X=!0,qe(_e,Ee-Be))):(ue.sortIndex=P,e(p,ue),V||C||(V=!0,Tt())),ue},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ue){var Ce=R;return function(){var Ee=R;R=Ce;try{return ue.apply(this,arguments)}finally{R=Ee}}}}(sm)),sm}var l0;function Dw(){return l0||(l0=1,im.exports=Iw()),im.exports}var am={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function Ow(){if(u0)return bn;u0=1;var r=Zm();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,bn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},bn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},bn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},bn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},bn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=f(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:C}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=f(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},bn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=f(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=f(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},bn.requestFormReset=function(p){s.d.r(p)},bn.unstable_batchedUpdates=function(p,g){return p(g)},bn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},bn.useFormStatus=function(){return h.H.useHostTransitionStatus()},bn.version="19.0.0",bn}var c0;function ub(){if(c0)return am.exports;c0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=Ow(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function Mw(){if(h0)return Gl;h0=1;var r=Dw(),e=Zm(),n=ub();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),f=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),_e=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=L&&t[L]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case f:return"Portal";case E:return"Profiler";case g:return"StrictMode";case X:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case V:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return i=t.displayName||null,i!==null?i:A(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return A(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,j,B;function D(t){if(j===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);j=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+j+t+B}var Tt=!1;function qe(t,i){if(!t||Tt)return"";Tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var Q=Z}Reflect.construct(t,[],ie)}else{try{ie.call()}catch(Z){Q=Z}t.call(ie.prototype)}}else{try{throw Error()}catch(Z){Q=Z}(ie=t())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&Q&&typeof Z.stack=="string")return[Z.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),b=m[0],x=m[1];if(b&&x){var N=b.split(`
`),U=x.split(`
`);for(d=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(l===N.length||d===U.length)for(l=N.length-1,d=U.length-1;1<=l&&0<=d&&N[l]!==U[d];)d--;for(;1<=l&&0<=d;l--,d--)if(N[l]!==U[d]){if(l!==1||d!==1)do if(l--,d--,0>d||N[l]!==U[d]){var J=`
`+N[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=d);break}}}finally{Tt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function ue(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=qe(t.type,!1),t;case 11:return t=qe(t.type.render,!1),t;case 1:return t=qe(t.type,!0),t;default:return""}}function Ce(t){try{var i="";do i+=ue(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ee(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Be(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function P(t){if(Ee(t)!==t)throw Error(s(188))}function se(t){var i=t.alternate;if(!i){if(i=Ee(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var d=a.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===a)return P(d),t;if(m===l)return P(d),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=d,l=m;else{for(var b=!1,x=d.child;x;){if(x===a){b=!0,a=d,l=m;break}if(x===l){b=!0,l=d,a=m;break}x=x.sibling}if(!b){for(x=m.child;x;){if(x===a){b=!0,a=m,l=d;break}if(x===l){b=!0,l=m,a=d;break}x=x.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function pe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=pe(t),i!==null)return i;t=t.sibling}return null}var de=Array.isArray,me=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pe={pending:!1,data:null,method:null,action:null},Ue=[],Ct=-1;function et(t){return{current:t}}function Ke(t){0>Ct||(t.current=Ue[Ct],Ue[Ct]=null,Ct--)}function $e(t,i){Ct++,Ue[Ct]=t.current,t.current=i}var Wt=et(null),vr=et(null),Lt=et(null),Dr=et(null);function Or(t,i){switch($e(Lt,i),$e(vr,t),$e(Wt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ov(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Ov(t),i=Mv(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ke(Wt),$e(Wt,i)}function $n(){Ke(Wt),Ke(vr),Ke(Lt)}function qs(t){t.memoizedState!==null&&$e(Dr,t);var i=Wt.current,a=Mv(i,t.type);i!==a&&($e(vr,t),$e(Wt,a))}function Gi(t){vr.current===t&&(Ke(Wt),Ke(vr)),Dr.current===t&&(Ke(Dr),Ul._currentValue=Pe)}var Ki=Object.prototype.hasOwnProperty,ai=r.unstable_scheduleCallback,Mn=r.unstable_cancelCallback,oi=r.unstable_shouldYield,Qi=r.unstable_requestPaint,Zt=r.unstable_now,Un=r.unstable_getCurrentPriorityLevel,mt=r.unstable_ImmediatePriority,Pt=r.unstable_UserBlockingPriority,zn=r.unstable_NormalPriority,La=r.unstable_LowPriority,Pn=r.unstable_IdlePriority,Ua=r.log,Mr=r.unstable_setDisableYieldValue,_r=null,Jt=null;function Yi(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(_r,t,void 0,(t.current.flags&128)===128)}catch{}}function An(t){if(typeof Ua=="function"&&Mr(t),Jt&&typeof Jt.setStrictMode=="function")try{Jt.setStrictMode(_r,t)}catch{}}var en=Math.clz32?Math.clz32:Fs,li=Math.log,za=Math.LN2;function Fs(t){return t>>>=0,t===0?32:31-(li(t)/za|0)|0}var Xn=128,br=4194304;function vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function un(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,d=t.suspendedLanes,m=t.pingedLanes,b=t.warmLanes;t=t.finishedLanes!==0;var x=a&134217727;return x!==0?(a=x&~d,a!==0?l=vn(a):(m&=x,m!==0?l=vn(m):t||(b=x&~b,b!==0&&(l=vn(b))))):(x=a&~d,x!==0?l=vn(x):m!==0?l=vn(m):t||(b=a&~b,b!==0&&(l=vn(b)))),l===0?0:i!==0&&i!==l&&(i&d)===0&&(d=l&-l,b=i&-i,d>=b||d===32&&(b&4194176)!==0)?i:l}function Pr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function $i(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M(){var t=Xn;return Xn<<=1,(Xn&4194176)===0&&(Xn=128),t}function z(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function Y(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function te(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ce(t,i,a,l,d,m){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,N=t.expirationTimes,U=t.hiddenUpdates;for(a=b&~a;0<a;){var J=31-en(a),ie=1<<J;x[J]=0,N[J]=-1;var Q=U[J];if(Q!==null)for(U[J]=null,J=0;J<Q.length;J++){var Z=Q[J];Z!==null&&(Z.lane&=-536870913)}a&=~ie}l!==0&&Ae(t,l,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~i))}function Ae(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-en(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Se(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-en(a),d=1<<l;d&i|t[l]&i&&(t[l]|=i),a&=~d}}function xe(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Te(){var t=me.p;return t!==0?t:(t=window.event,t===void 0?32:Wv(t.type))}function fe(t,i){var a=me.p;try{return me.p=t,i()}finally{me.p=a}}var ye=Math.random().toString(36).slice(2),ve="__reactFiber$"+ye,Ie="__reactProps$"+ye,at="__reactContainer$"+ye,wt="__reactEvents$"+ye,yt="__reactListeners$"+ye,st="__reactHandles$"+ye,xt="__reactResources$"+ye,Rn="__reactMarker$"+ye;function Bn(t){delete t[ve],delete t[Ie],delete t[wt],delete t[yt],delete t[st]}function jt(t){var i=t[ve];if(i)return i;for(var a=t.parentNode;a;){if(i=a[at]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Vv(t);t!==null;){if(a=t[ve])return a;t=Vv(t)}return i}t=a,a=t.parentNode}return null}function Ut(t){if(t=t[ve]||t[at]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Wn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function jn(t){var i=t[xt];return i||(i=t[xt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[Rn]=!0}var jr=new Set,Er={};function He(t,i){ht(t,i),ht(t+"Capture",i)}function ht(t,i){for(Er[t]=i,t=0;t<i.length;t++)jr.add(i[t])}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_t={},Zn={};function Gs(t){return Ki.call(Zn,t)?!0:Ki.call(_t,t)?!1:ui.test(t)?Zn[t]=!0:(_t[t]=!0,!1)}function Vr(t,i,a){if(Gs(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Xi(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Jn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sd(t){var i=Pu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,m=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(b){l=""+b,m.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ks(t){t._valueTracker||(t._valueTracker=sd(t))}function $o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Pu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function It(t){return t.replace(ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Wi(t,i,a,l,d,m,b,x){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Nn(i)):t.value!==""+Nn(i)&&(t.value=""+Nn(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?Ha(t,b,Nn(i)):a!=null?Ha(t,b,Nn(a)):l!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Nn(x):t.removeAttribute("name")}function Qs(t,i,a,l,d,m,b,x){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+Nn(a):"",i=i!=null?""+Nn(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=x?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Ha(t,i,a){i==="number"&&Ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ot(t,i,a,l){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Nn(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Ys(t,i,a){if(i!=null&&(i=""+Nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Nn(a):""}function Zi(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(de(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Nn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function er(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ad=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ad.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function ju(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in i)l=i[d],i.hasOwnProperty(d)&&a[d]!==l&&Xo(t,d,l)}else for(var m in i)i.hasOwnProperty(m)&&Xo(t,m,i[m])}function Wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var od=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ld=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kr(t){return ld.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var tr=null;function qa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,di=null;function fi(t){var i=Ut(t);if(i&&(t=i.stateNode)){var a=t[Ie]||null;e:switch(t=i.stateNode,i.type){case"input":if(Wi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var d=l[Ie]||null;if(!d)throw Error(s(90));Wi(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$o(l)}break e;case"textarea":Ys(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&ot(t,!!a.multiple,i,!1)}}}var Zo=!1;function Vu(t,i,a){if(Zo)return t(i,a);Zo=!0;try{var l=t(i);return l}finally{if(Zo=!1,(hi!==null||di!==null)&&(Rc(),hi&&(i=hi,t=di,di=hi=null,fi(i),t)))for(i=0;i<t.length;i++)fi(t[i])}}function $s(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ie]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var nr=!1;if(tn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{nr=!1}var Lr=null,Ji=null,mi=null;function Jo(){if(mi)return mi;var t,i=Ji,a=i.length,l,d="value"in Lr?Lr.value:Lr.textContent,m=d.length;for(t=0;t<a&&i[t]===d[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===d[m-l];l++);return mi=d.slice(t,1<l?1-l:void 0)}function Ur(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zr(){return!0}function el(){return!1}function nn(t){function i(a,l,d,m,b){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(m):m[x]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?zr:el,this.isPropagationStopped=el,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zr)},persist:function(){},isPersistent:zr}),i}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=nn(dt),Ws=I({},dt,{view:0,detail:0}),ku=nn(Ws),Ga,Ka,Br,Zs=I({},Ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Br&&(Br&&t.type==="mousemove"?(Ga=t.screenX-Br.screenX,Ka=t.screenY-Br.screenY):Ka=Ga=0,Br=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),rr=nn(Zs),Lu=I({},Zs,{dataTransfer:0}),ud=nn(Lu),Js=I({},Ws,{relatedTarget:0}),Qa=nn(Js),tl=I({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ya=nn(tl),Uu=I({},dt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$a=nn(Uu),cd=I({},dt,{data:0}),nl=nn(cd),ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rl(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bu[t])?!!i[t]:!1}function ta(){return rl}var Hu=I({},Ws,{key:function(t){if(t.key){var i=ea[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ur(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Ur(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ur(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xa=nn(Hu),qu=I({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),il=nn(qu),pi=I({},Ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Fu=nn(pi),Gu=I({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=nn(Gu),Qu=I({},Zs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=nn(Qu),Cn=I({},dt,{newState:0,oldState:0}),Yu=nn(Cn),$u=[9,13,27,32],Hr=tn&&"CompositionEvent"in window,c=null;tn&&"documentMode"in document&&(c=document.documentMode);var y=tn&&"TextEvent"in window&&!c,_=tn&&(!Hr||c&&8<c&&11>=c),T=" ",F=!1;function $(t,i){switch(t){case"keyup":return $u.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tt=!1;function Ft(t,i){switch(t){case"compositionend":return le(i);case"keypress":return i.which!==32?null:(F=!0,T);case"textInput":return t=i.data,t===T&&F?null:t;default:return null}}function nt(t,i){if(tt)return t==="compositionend"||!Hr&&$(t,i)?(t=Jo(),mi=Ji=Lr=null,tt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!rn[t.type]:i==="textarea"}function gi(t,i,a,l){hi?di?di.push(l):di=[l]:hi=l,i=Oc(i,"onChange"),0<i.length&&(a=new Fa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var cn=null,qr=null;function sl(t){Rv(t,0)}function Xu(t){var i=Wn(t);if($o(i))return t}function ng(t,i){if(t==="change")return i}var rg=!1;if(tn){var hd;if(tn){var dd="oninput"in document;if(!dd){var ig=document.createElement("div");ig.setAttribute("oninput","return;"),dd=typeof ig.oninput=="function"}hd=dd}else hd=!1;rg=hd&&(!document.documentMode||9<document.documentMode)}function sg(){cn&&(cn.detachEvent("onpropertychange",ag),qr=cn=null)}function ag(t){if(t.propertyName==="value"&&Xu(qr)){var i=[];gi(i,qr,t,qa(t)),Vu(sl,i)}}function rT(t,i,a){t==="focusin"?(sg(),cn=i,qr=a,cn.attachEvent("onpropertychange",ag)):t==="focusout"&&sg()}function iT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(qr)}function sT(t,i){if(t==="click")return Xu(i)}function aT(t,i){if(t==="input"||t==="change")return Xu(i)}function oT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Hn=typeof Object.is=="function"?Object.is:oT;function al(t,i){if(Hn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!Ki.call(i,d)||!Hn(t[d],i[d]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,i){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ug(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ba(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ba(t.document)}return i}function fd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function lT(t,i){var a=cg(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&ug(i.ownerDocument.documentElement,i)){if(l!==null&&fd(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var d=i.textContent.length,m=Math.min(l.start,d);l=l.end===void 0?m:Math.min(l.end,d),!a.extend&&m>l&&(d=l,l=m,m=d),d=lg(i,m);var b=lg(i,l);d&&b&&(a.rangeCount!==1||a.anchorNode!==d.node||a.anchorOffset!==d.offset||a.focusNode!==b.node||a.focusOffset!==b.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),a.removeAllRanges(),m>l?(a.addRange(t),a.extend(b.node,b.offset)):(t.setEnd(b.node,b.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var uT=tn&&"documentMode"in document&&11>=document.documentMode,Za=null,md=null,ol=null,pd=!1;function hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pd||Za==null||Za!==Ba(l)||(l=Za,"selectionStart"in l&&fd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Oc(md,"onSelect"),0<l.length&&(i=new Fa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Za)))}function na(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ja={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},gd={},dg={};tn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ra(t){if(gd[t])return gd[t];if(!Ja[t])return t;var i=Ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return gd[t]=i[a];return t}var fg=ra("animationend"),mg=ra("animationiteration"),pg=ra("animationstart"),cT=ra("transitionrun"),hT=ra("transitionstart"),dT=ra("transitioncancel"),gg=ra("transitionend"),yg=new Map,vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function xr(t,i){yg.set(t,i),He(i,[t])}var ir=[],eo=0,yd=0;function Wu(){for(var t=eo,i=yd=eo=0;i<t;){var a=ir[i];ir[i++]=null;var l=ir[i];ir[i++]=null;var d=ir[i];ir[i++]=null;var m=ir[i];if(ir[i++]=null,l!==null&&d!==null){var b=l.pending;b===null?d.next=d:(d.next=b.next,b.next=d),l.pending=d}m!==0&&_g(a,d,m)}}function Zu(t,i,a,l){ir[eo++]=t,ir[eo++]=i,ir[eo++]=a,ir[eo++]=l,yd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function vd(t,i,a,l){return Zu(t,i,a,l),Ju(t)}function es(t,i){return Zu(t,null,null,i),Ju(t)}function _g(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;d&&i!==null&&t.tag===3&&(m=t.stateNode,d=31-en(a),m=m.hiddenUpdates,t=m[d],t===null?m[d]=[i]:t.push(i),i.lane=a|536870912)}function Ju(t){if(50<Ol)throw Ol=0,Sf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var to={},bg=new WeakMap;function sr(t,i){if(typeof t=="object"&&t!==null){var a=bg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ce(i)},bg.set(t,i),i)}return{value:t,source:i,stack:Ce(i)}}var no=[],ro=0,ec=null,tc=0,ar=[],or=0,ia=null,yi=1,vi="";function sa(t,i){no[ro++]=tc,no[ro++]=ec,ec=t,tc=i}function Eg(t,i,a){ar[or++]=yi,ar[or++]=vi,ar[or++]=ia,ia=t;var l=yi;t=vi;var d=32-en(l)-1;l&=~(1<<d),a+=1;var m=32-en(i)+d;if(30<m){var b=d-d%5;m=(l&(1<<b)-1).toString(32),l>>=b,d-=b,yi=1<<32-en(i)+d|a<<d|l,vi=m+t}else yi=1<<m|a<<d|l,vi=t}function _d(t){t.return!==null&&(sa(t,1),Eg(t,1,0))}function bd(t){for(;t===ec;)ec=no[--ro],no[ro]=null,tc=no[--ro],no[ro]=null;for(;t===ia;)ia=ar[--or],ar[or]=null,vi=ar[--or],ar[or]=null,yi=ar[--or],ar[or]=null}var In=null,hn=null,lt=!1,Tr=null,Fr=!1,Ed=Error(s(519));function aa(t){var i=Error(s(418,""));throw cl(sr(i,t)),Ed}function xg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[ve]=t,i[Ie]=l,a){case"dialog":Ze("cancel",i),Ze("close",i);break;case"iframe":case"object":case"embed":Ze("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Ze(Pl[a],i);break;case"source":Ze("error",i);break;case"img":case"image":case"link":Ze("error",i),Ze("load",i);break;case"details":Ze("toggle",i);break;case"input":Ze("invalid",i),Qs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ks(i);break;case"select":Ze("invalid",i);break;case"textarea":Ze("invalid",i),Zi(i,l.value,l.defaultValue,l.children),Ks(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Dv(i.textContent,a)?(l.popover!=null&&(Ze("beforetoggle",i),Ze("toggle",i)),l.onScroll!=null&&Ze("scroll",i),l.onScrollEnd!=null&&Ze("scrollend",i),l.onClick!=null&&(i.onclick=Mc),i=!0):i=!1,i||aa(t)}function Tg(t){for(In=t.return;In;)switch(In.tag){case 3:case 27:Fr=!0;return;case 5:case 13:Fr=!1;return;default:In=In.return}}function ll(t){if(t!==In)return!1;if(!lt)return Tg(t),lt=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&hn&&aa(t),Tg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){hn=Sr(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}hn=null}}else hn=In?Sr(t.stateNode.nextSibling):null;return!0}function ul(){hn=In=null,lt=!1}function cl(t){Tr===null?Tr=[t]:Tr.push(t)}var hl=Error(s(460)),wg=Error(s(474)),xd={then:function(){}};function Sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function Ag(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(nc,nc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===hl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(nc,nc);else{if(t=bt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=l}},function(l){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===hl?Error(s(483)):t}throw dl=i,hl}}var dl=null;function Rg(){if(dl===null)throw Error(s(459));var t=dl;return dl=null,t}var io=null,fl=0;function rc(t){var i=fl;return fl+=1,io===null&&(io=[]),Ag(io,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ic(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ng(t){var i=t._init;return i(t._payload)}function Cg(t){function i(H,k){if(t){var G=H.deletions;G===null?(H.deletions=[k],H.flags|=16):G.push(k)}}function a(H,k){if(!t)return null;for(;k!==null;)i(H,k),k=k.sibling;return null}function l(H){for(var k=new Map;H!==null;)H.key!==null?k.set(H.key,H):k.set(H.index,H),H=H.sibling;return k}function d(H,k){return H=ds(H,k),H.index=0,H.sibling=null,H}function m(H,k,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<k?(H.flags|=33554434,k):G):(H.flags|=33554434,k)):(H.flags|=1048576,k)}function b(H){return t&&H.alternate===null&&(H.flags|=33554434),H}function x(H,k,G,ne){return k===null||k.tag!==6?(k=yf(G,H.mode,ne),k.return=H,k):(k=d(k,G),k.return=H,k)}function N(H,k,G,ne){var be=G.type;return be===p?J(H,k,G.props.children,ne,G.key):k!==null&&(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Ng(be)===k.type)?(k=d(k,G.props),ml(k,G),k.return=H,k):(k=xc(G.type,G.key,G.props,null,H.mode,ne),ml(k,G),k.return=H,k)}function U(H,k,G,ne){return k===null||k.tag!==4||k.stateNode.containerInfo!==G.containerInfo||k.stateNode.implementation!==G.implementation?(k=vf(G,H.mode,ne),k.return=H,k):(k=d(k,G.children||[]),k.return=H,k)}function J(H,k,G,ne,be){return k===null||k.tag!==7?(k=ga(G,H.mode,ne,be),k.return=H,k):(k=d(k,G),k.return=H,k)}function ie(H,k,G){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=yf(""+k,H.mode,G),k.return=H,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case h:return G=xc(k.type,k.key,k.props,null,H.mode,G),ml(G,k),G.return=H,G;case f:return k=vf(k,H.mode,G),k.return=H,k;case ee:var ne=k._init;return k=ne(k._payload),ie(H,k,G)}if(de(k)||he(k))return k=ga(k,H.mode,G,null),k.return=H,k;if(typeof k.then=="function")return ie(H,rc(k),G);if(k.$$typeof===C)return ie(H,_c(H,k),G);ic(H,k)}return null}function Q(H,k,G,ne){var be=k!==null?k.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return be!==null?null:x(H,k,""+G,ne);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case h:return G.key===be?N(H,k,G,ne):null;case f:return G.key===be?U(H,k,G,ne):null;case ee:return be=G._init,G=be(G._payload),Q(H,k,G,ne)}if(de(G)||he(G))return be!==null?null:J(H,k,G,ne,null);if(typeof G.then=="function")return Q(H,k,rc(G),ne);if(G.$$typeof===C)return Q(H,k,_c(H,G),ne);ic(H,G)}return null}function Z(H,k,G,ne,be){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return H=H.get(G)||null,x(k,H,""+ne,be);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case h:return H=H.get(ne.key===null?G:ne.key)||null,N(k,H,ne,be);case f:return H=H.get(ne.key===null?G:ne.key)||null,U(k,H,ne,be);case ee:var Qe=ne._init;return ne=Qe(ne._payload),Z(H,k,G,ne,be)}if(de(ne)||he(ne))return H=H.get(G)||null,J(k,H,ne,be,null);if(typeof ne.then=="function")return Z(H,k,G,rc(ne),be);if(ne.$$typeof===C)return Z(H,k,G,_c(k,ne),be);ic(k,ne)}return null}function we(H,k,G,ne){for(var be=null,Qe=null,Re=k,Oe=k=0,on=null;Re!==null&&Oe<G.length;Oe++){Re.index>Oe?(on=Re,Re=null):on=Re.sibling;var ut=Q(H,Re,G[Oe],ne);if(ut===null){Re===null&&(Re=on);break}t&&Re&&ut.alternate===null&&i(H,Re),k=m(ut,k,Oe),Qe===null?be=ut:Qe.sibling=ut,Qe=ut,Re=on}if(Oe===G.length)return a(H,Re),lt&&sa(H,Oe),be;if(Re===null){for(;Oe<G.length;Oe++)Re=ie(H,G[Oe],ne),Re!==null&&(k=m(Re,k,Oe),Qe===null?be=Re:Qe.sibling=Re,Qe=Re);return lt&&sa(H,Oe),be}for(Re=l(Re);Oe<G.length;Oe++)on=Z(Re,H,Oe,G[Oe],ne),on!==null&&(t&&on.alternate!==null&&Re.delete(on.key===null?Oe:on.key),k=m(on,k,Oe),Qe===null?be=on:Qe.sibling=on,Qe=on);return t&&Re.forEach(function(_s){return i(H,_s)}),lt&&sa(H,Oe),be}function ke(H,k,G,ne){if(G==null)throw Error(s(151));for(var be=null,Qe=null,Re=k,Oe=k=0,on=null,ut=G.next();Re!==null&&!ut.done;Oe++,ut=G.next()){Re.index>Oe?(on=Re,Re=null):on=Re.sibling;var _s=Q(H,Re,ut.value,ne);if(_s===null){Re===null&&(Re=on);break}t&&Re&&_s.alternate===null&&i(H,Re),k=m(_s,k,Oe),Qe===null?be=_s:Qe.sibling=_s,Qe=_s,Re=on}if(ut.done)return a(H,Re),lt&&sa(H,Oe),be;if(Re===null){for(;!ut.done;Oe++,ut=G.next())ut=ie(H,ut.value,ne),ut!==null&&(k=m(ut,k,Oe),Qe===null?be=ut:Qe.sibling=ut,Qe=ut);return lt&&sa(H,Oe),be}for(Re=l(Re);!ut.done;Oe++,ut=G.next())ut=Z(Re,H,Oe,ut.value,ne),ut!==null&&(t&&ut.alternate!==null&&Re.delete(ut.key===null?Oe:ut.key),k=m(ut,k,Oe),Qe===null?be=ut:Qe.sibling=ut,Qe=ut);return t&&Re.forEach(function(Aw){return i(H,Aw)}),lt&&sa(H,Oe),be}function Mt(H,k,G,ne){if(typeof G=="object"&&G!==null&&G.type===p&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case h:e:{for(var be=G.key;k!==null;){if(k.key===be){if(be=G.type,be===p){if(k.tag===7){a(H,k.sibling),ne=d(k,G.props.children),ne.return=H,H=ne;break e}}else if(k.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ee&&Ng(be)===k.type){a(H,k.sibling),ne=d(k,G.props),ml(ne,G),ne.return=H,H=ne;break e}a(H,k);break}else i(H,k);k=k.sibling}G.type===p?(ne=ga(G.props.children,H.mode,ne,G.key),ne.return=H,H=ne):(ne=xc(G.type,G.key,G.props,null,H.mode,ne),ml(ne,G),ne.return=H,H=ne)}return b(H);case f:e:{for(be=G.key;k!==null;){if(k.key===be)if(k.tag===4&&k.stateNode.containerInfo===G.containerInfo&&k.stateNode.implementation===G.implementation){a(H,k.sibling),ne=d(k,G.children||[]),ne.return=H,H=ne;break e}else{a(H,k);break}else i(H,k);k=k.sibling}ne=vf(G,H.mode,ne),ne.return=H,H=ne}return b(H);case ee:return be=G._init,G=be(G._payload),Mt(H,k,G,ne)}if(de(G))return we(H,k,G,ne);if(he(G)){if(be=he(G),typeof be!="function")throw Error(s(150));return G=be.call(G),ke(H,k,G,ne)}if(typeof G.then=="function")return Mt(H,k,rc(G),ne);if(G.$$typeof===C)return Mt(H,k,_c(H,G),ne);ic(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,k!==null&&k.tag===6?(a(H,k.sibling),ne=d(k,G),ne.return=H,H=ne):(a(H,k),ne=yf(G,H.mode,ne),ne.return=H,H=ne),b(H)):a(H,k)}return function(H,k,G,ne){try{fl=0;var be=Mt(H,k,G,ne);return io=null,be}catch(Re){if(Re===hl)throw Re;var Qe=hr(29,Re,null,H.mode);return Qe.lanes=ne,Qe.return=H,Qe}finally{}}}var oa=Cg(!0),Ig=Cg(!1),so=et(null),sc=et(0);function Dg(t,i){t=Ci,$e(sc,t),$e(so,i),Ci=t|i.baseLanes}function Td(){$e(sc,Ci),$e(so,so.current)}function wd(){Ci=sc.current,Ke(so),Ke(sc)}var lr=et(null),Gr=null;function ts(t){var i=t.alternate;$e(Kt,Kt.current&1),$e(lr,t),Gr===null&&(i===null||so.current!==null||i.memoizedState!==null)&&(Gr=t)}function Og(t){if(t.tag===22){if($e(Kt,Kt.current),$e(lr,t),Gr===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Gr=t)}}else ns()}function ns(){$e(Kt,Kt.current),$e(lr,lr.current)}function _i(t){Ke(lr),Gr===t&&(Gr=null),Ke(Kt)}var Kt=et(0);function ac(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var fT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},mT=r.unstable_scheduleCallback,pT=r.unstable_NormalPriority,Qt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new fT,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&mT(pT,function(){t.controller.abort()})}var gl=null,Ad=0,ao=0,oo=null;function gT(t,i){if(gl===null){var a=gl=[];Ad=0,ao=Mf(),oo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ad++,i.then(Mg,Mg),i}function Mg(){if(--Ad===0&&gl!==null){oo!==null&&(oo.status="fulfilled");var t=gl;gl=null,ao=0,oo=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var Pg=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&gT(t,i),Pg!==null&&Pg(t,i)};var la=et(null);function Rd(){var t=la.current;return t!==null?t:bt.pooledCache}function oc(t,i){i===null?$e(la,la.current):$e(la,i.pool)}function jg(){var t=Rd();return t===null?null:{parent:Qt._currentValue,pool:t}}var rs=0,Fe=null,pt=null,zt=null,lc=!1,lo=!1,ua=!1,uc=0,yl=0,uo=null,vT=0;function Vt(){throw Error(s(321))}function Nd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Hn(t[a],i[a]))return!1;return!0}function Cd(t,i,a,l,d,m){return rs=m,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?ca:is,ua=!1,m=a(l,d),ua=!1,lo&&(m=kg(i,a,l,d)),Vg(t),m}function Vg(t){S.H=Kr;var i=pt!==null&&pt.next!==null;if(rs=0,zt=pt=Fe=null,lc=!1,yl=0,uo=null,i)throw Error(s(300));t===null||sn||(t=t.dependencies,t!==null&&vc(t)&&(sn=!0))}function kg(t,i,a,l){Fe=t;var d=0;do{if(lo&&(uo=null),yl=0,lo=!1,25<=d)throw Error(s(301));if(d+=1,zt=pt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=ha,m=i(a,l)}while(lo);return m}function _T(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?vl(i):i,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Fe.flags|=1024),i}function Id(){var t=uc!==0;return uc=0,t}function Dd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Od(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}rs=0,zt=pt=Fe=null,lo=!1,yl=uc=0,uo=null}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Fe.memoizedState=zt=t:zt=zt.next=t,zt}function Bt(){if(pt===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var i=zt===null?Fe.memoizedState:zt.next;if(i!==null)zt=i,pt=t;else{if(t===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},zt===null?Fe.memoizedState=zt=t:zt=zt.next=t}return zt}var cc;cc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function vl(t){var i=yl;return yl+=1,uo===null&&(uo=[]),t=Ag(uo,t,i),i=Fe,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ca:is),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===C)return _n(t)}throw Error(s(438,String(t)))}function Md(t){var i=null,a=Fe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Fe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),Fe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=_e;return i.index++,a}function bi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Bt();return Pd(i,pt,t)}function Pd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var d=t.baseQueue,m=l.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}i.baseQueue=d=m,l.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{i=d.next;var x=b=null,N=null,U=i,J=!1;do{var ie=U.lane&-536870913;if(ie!==U.lane?(rt&ie)===ie:(rs&ie)===ie){var Q=U.revertLane;if(Q===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ie===ao&&(J=!0);else if((rs&Q)===Q){U=U.next,Q===ao&&(J=!0);continue}else ie={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(x=N=ie,b=m):N=N.next=ie,Fe.lanes|=Q,fs|=Q;ie=U.action,ua&&a(m,ie),m=U.hasEagerState?U.eagerState:a(m,ie)}else Q={lane:ie,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(x=N=Q,b=m):N=N.next=Q,Fe.lanes|=ie,fs|=ie;U=U.next}while(U!==null&&U!==i);if(N===null?b=m:N.next=x,!Hn(m,t.memoizedState)&&(sn=!0,J&&(a=oo,a!==null)))throw a;t.memoizedState=m,t.baseState=b,t.baseQueue=N,l.lastRenderedState=m}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function jd(t){var i=Bt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,m=i.memoizedState;if(d!==null){a.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);Hn(m,i.memoizedState)||(sn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Lg(t,i,a){var l=Fe,d=Bt(),m=lt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!Hn((pt||d).memoizedState,a);if(b&&(d.memoizedState=a,sn=!0),d=d.queue,Ld(Bg.bind(null,l,d,t),[t]),d.getSnapshot!==i||b||zt!==null&&zt.memoizedState.tag&1){if(l.flags|=2048,co(9,zg.bind(null,l,d,a,i),{destroy:void 0},null),bt===null)throw Error(s(349));m||(rs&60)!==0||Ug(l,i,a)}return a}function Ug(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Fe.updateQueue,i===null?(i=cc(),Fe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zg(t,i,a,l){i.value=a,i.getSnapshot=l,Hg(i)&&qg(t)}function Bg(t,i,a){return a(function(){Hg(i)&&qg(t)})}function Hg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Hn(t,a)}catch{return!0}}function qg(t){var i=es(t,2);i!==null&&Dn(i,t,2)}function Vd(t){var i=Vn();if(typeof t=="function"){var a=t;if(t=a(),ua){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:t},i}function Fg(t,i,a,l){return t.baseState=a,Pd(t,pt,typeof l=="function"?l:bi)}function bT(t,i,a,l,d){if(pc(t))throw Error(s(485));if(t=i.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Gg(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Gg(t,i){var a=i.action,l=i.payload,d=t.state;if(i.isTransition){var m=S.T,b={};S.T=b;try{var x=a(d,l),N=S.S;N!==null&&N(b,x),Kg(t,i,x)}catch(U){kd(t,i,U)}finally{S.T=m}}else try{m=a(d,l),Kg(t,i,m)}catch(U){kd(t,i,U)}}function Kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Qg(t,i,l)},function(l){return kd(t,i,l)}):Qg(t,i,a)}function Qg(t,i,a){i.status="fulfilled",i.value=a,Yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function kd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Yg(i),i=i.next;while(i!==l)}t.action=null}function Yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function $g(t,i){return i}function Xg(t,i){if(lt){var a=bt.formState;if(a!==null){e:{var l=Fe;if(lt){if(hn){t:{for(var d=hn,m=Fr;d.nodeType!==8;){if(!m){d=null;break t}if(d=Sr(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){hn=Sr(d.nextSibling),l=d.data==="F!";break e}}aa(l)}l=!1}l&&(i=a[0])}}return a=Vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:i},a.queue=l,a=my.bind(null,Fe,l),l.dispatch=a,l=Vd(!1),m=qd.bind(null,Fe,!1,l.queue),l=Vn(),d={state:i,dispatch:null,action:t,pending:null},l.queue=d,a=bT.bind(null,Fe,d,m,a),d.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=Bt();return Zg(i,pt,t)}function Zg(t,i,a){i=Pd(t,i,$g)[0],t=dc(bi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?vl(i):i;var l=Bt(),d=l.queue,m=d.dispatch;return a!==l.memoizedState&&(Fe.flags|=2048,co(9,ET.bind(null,d,a),{destroy:void 0},null)),[i,m,t]}function ET(t,i){t.action=i}function Jg(t){var i=Bt(),a=pt;if(a!==null)return Zg(i,a,t);Bt(),i=i.memoizedState,a=Bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function co(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Fe.updateQueue,i===null&&(i=cc(),Fe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ey(){return Bt().memoizedState}function fc(t,i,a,l){var d=Vn();Fe.flags|=t,d.memoizedState=co(1|i,a,{destroy:void 0},l===void 0?null:l)}function mc(t,i,a,l){var d=Bt();l=l===void 0?null:l;var m=d.memoizedState.inst;pt!==null&&l!==null&&Nd(l,pt.memoizedState.deps)?d.memoizedState=co(i,a,m,l):(Fe.flags|=t,d.memoizedState=co(1|i,a,m,l))}function ty(t,i){fc(8390656,8,t,i)}function Ld(t,i){mc(2048,8,t,i)}function ny(t,i){return mc(4,2,t,i)}function ry(t,i){return mc(4,4,t,i)}function iy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function sy(t,i,a){a=a!=null?a.concat([t]):null,mc(4,4,iy.bind(null,i,t),a)}function Ud(){}function ay(t,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Nd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function oy(t,i){var a=Bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Nd(i,l[1]))return l[0];if(l=t(),ua){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l}function zd(t,i,a){return a===void 0||(rs&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=uv(),Fe.lanes|=t,fs|=t,a)}function ly(t,i,a,l){return Hn(a,i)?a:so.current!==null?(t=zd(t,a,l),Hn(t,i)||(sn=!0),t):(rs&42)===0?(sn=!0,t.memoizedState=a):(t=uv(),Fe.lanes|=t,fs|=t,i)}function uy(t,i,a,l,d){var m=me.p;me.p=m!==0&&8>m?m:8;var b=S.T,x={};S.T=x,qd(t,!1,i,a);try{var N=d(),U=S.S;if(U!==null&&U(x,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=yT(N,l);_l(t,i,J,Kn(t))}else _l(t,i,l,Kn(t))}catch(ie){_l(t,i,{then:function(){},status:"rejected",reason:ie},Kn())}finally{me.p=m,S.T=b}}function xT(){}function Bd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var d=cy(t).queue;uy(t,d,i,Pe,a===null?xT:function(){return hy(t),a(l)})}function cy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Pe,baseState:Pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:Pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function hy(t){var i=cy(t).next.queue;_l(t,i,{},Kn())}function Hd(){return _n(Ul)}function dy(){return Bt().memoizedState}function fy(){return Bt().memoizedState}function TT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Kn();t=os(a);var l=ls(i,t,a);l!==null&&(Dn(l,i,a),xl(l,i,a)),i={cache:Sd()},t.payload=i;return}i=i.return}}function wT(t,i,a){var l=Kn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?py(i,a):(a=vd(t,i,a,l),a!==null&&(Dn(a,t,l),gy(a,i,l)))}function my(t,i,a){var l=Kn();_l(t,i,a,l)}function _l(t,i,a,l){var d={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))py(i,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var b=i.lastRenderedState,x=m(b,a);if(d.hasEagerState=!0,d.eagerState=x,Hn(x,b))return Zu(t,i,d,0),bt===null&&Wu(),!1}catch{}finally{}if(a=vd(t,i,d,l),a!==null)return Dn(a,t,l),gy(a,i,l),!0}return!1}function qd(t,i,a,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(s(479))}else i=vd(t,a,l,2),i!==null&&Dn(i,t,2)}function pc(t){var i=t.alternate;return t===Fe||i!==null&&i===Fe}function py(t,i){lo=lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function gy(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Se(t,a)}}var Kr={readContext:_n,use:hc,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useLayoutEffect:Vt,useInsertionEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useSyncExternalStore:Vt,useId:Vt};Kr.useCacheRefresh=Vt,Kr.useMemoCache=Vt,Kr.useHostTransitionStatus=Vt,Kr.useFormState=Vt,Kr.useActionState=Vt,Kr.useOptimistic=Vt;var ca={readContext:_n,use:hc,useCallback:function(t,i){return Vn().memoizedState=[t,i===void 0?null:i],t},useContext:_n,useEffect:ty,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fc(4194308,4,iy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fc(4194308,4,t,i)},useInsertionEffect:function(t,i){fc(4,2,t,i)},useMemo:function(t,i){var a=Vn();i=i===void 0?null:i;var l=t();if(ua){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=Vn();if(a!==void 0){var d=a(i);if(ua){An(!0);try{a(i)}finally{An(!1)}}}else d=i;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=wT.bind(null,Fe,t),[l.memoizedState,t]},useRef:function(t){var i=Vn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vd(t);var i=t.queue,a=my.bind(null,Fe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ud,useDeferredValue:function(t,i){var a=Vn();return zd(a,t,i)},useTransition:function(){var t=Vd(!1);return t=uy.bind(null,Fe,t.queue,!0,!1),Vn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Fe,d=Vn();if(lt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),bt===null)throw Error(s(349));(rt&60)!==0||Ug(l,i,a)}d.memoizedState=a;var m={value:a,getSnapshot:i};return d.queue=m,ty(Bg.bind(null,l,m,t),[t]),l.flags|=2048,co(9,zg.bind(null,l,m,a,i),{destroy:void 0},null),a},useId:function(){var t=Vn(),i=bt.identifierPrefix;if(lt){var a=vi,l=yi;a=(l&~(1<<32-en(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=vT++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Vn().memoizedState=TT.bind(null,Fe)}};ca.useMemoCache=Md,ca.useHostTransitionStatus=Hd,ca.useFormState=Xg,ca.useActionState=Xg,ca.useOptimistic=function(t){var i=Vn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qd.bind(null,Fe,!0,a),a.dispatch=i,[t,i]};var is={readContext:_n,use:hc,useCallback:ay,useContext:_n,useEffect:Ld,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:dc,useRef:ey,useState:function(){return dc(bi)},useDebugValue:Ud,useDeferredValue:function(t,i){var a=Bt();return ly(a,pt.memoizedState,t,i)},useTransition:function(){var t=dc(bi)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:Lg,useId:dy};is.useCacheRefresh=fy,is.useMemoCache=Md,is.useHostTransitionStatus=Hd,is.useFormState=Wg,is.useActionState=Wg,is.useOptimistic=function(t,i){var a=Bt();return Fg(a,pt,t,i)};var ha={readContext:_n,use:hc,useCallback:ay,useContext:_n,useEffect:Ld,useImperativeHandle:sy,useInsertionEffect:ny,useLayoutEffect:ry,useMemo:oy,useReducer:jd,useRef:ey,useState:function(){return jd(bi)},useDebugValue:Ud,useDeferredValue:function(t,i){var a=Bt();return pt===null?zd(a,t,i):ly(a,pt.memoizedState,t,i)},useTransition:function(){var t=jd(bi)[0],i=Bt().memoizedState;return[typeof t=="boolean"?t:vl(t),i]},useSyncExternalStore:Lg,useId:dy};ha.useCacheRefresh=fy,ha.useMemoCache=Md,ha.useHostTransitionStatus=Hd,ha.useFormState=Jg,ha.useActionState=Jg,ha.useOptimistic=function(t,i){var a=Bt();return pt!==null?Fg(a,pt,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Fd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gd={isMounted:function(t){return(t=t._reactInternals)?Ee(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Kn(),d=os(l);d.payload=i,a!=null&&(d.callback=a),i=ls(t,d,l),i!==null&&(Dn(i,t,l),xl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Kn(),d=os(l);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=ls(t,d,l),i!==null&&(Dn(i,t,l),xl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Kn(),l=os(a);l.tag=2,i!=null&&(l.callback=i),i=ls(t,l,a),i!==null&&(Dn(i,t,a),xl(i,t,a))}};function yy(t,i,a,l,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,b):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(d,m):!0}function vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Gd.enqueueReplaceState(i,i.state,null)}function da(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function _y(t){gc(t)}function by(t){console.error(t)}function Ey(t){gc(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function xy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Kd(t,i,a){return a=os(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function Ty(t){return t=os(t),t.tag=3,t}function wy(t,i,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;t.payload=function(){return d(m)},t.callback=function(){xy(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){xy(i,a,l),typeof d!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function ST(t,i,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&El(i,a,d,!0),a=lr.current,a!==null){switch(a.tag){case 13:return Gr===null?Nf():a.alternate===null&&Ot===0&&(Ot=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===xd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),If(t,l,d)),!1;case 22:return a.flags|=65536,l===xd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),If(t,l,d)),!1}throw Error(s(435,a.tag))}return If(t,l,d),Nf(),!1}if(lt)return i=lr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,l!==Ed&&(t=Error(s(422),{cause:l}),cl(sr(t,a)))):(l!==Ed&&(i=Error(s(423),{cause:l}),cl(sr(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=sr(l,a),d=Kd(t.stateNode,l,d),lf(t,d),Ot!==4&&(Ot=2)),!1;var m=Error(s(520),{cause:l});if(m=sr(m,a),Il===null?Il=[m]:Il.push(m),Ot!==4&&(Ot=2),i===null)return!0;l=sr(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Kd(a.stateNode,l,t),lf(a,t),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ms===null||!ms.has(m))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Ty(d),wy(d,t,a,l),lf(a,d),!1}a=a.return}while(a!==null);return!1}var Sy=Error(s(461)),sn=!1;function dn(t,i,a,l){i.child=t===null?Ig(i,null,a,l):oa(i,t.child,a,l)}function Ay(t,i,a,l,d){a=a.render;var m=i.ref;if("ref"in l){var b={};for(var x in l)x!=="ref"&&(b[x]=l[x])}else b=l;return ma(i),l=Cd(t,i,a,b,m,d),x=Id(),t!==null&&!sn?(Dd(t,i,d),Ei(t,i,d)):(lt&&x&&_d(i),i.flags|=1,dn(t,i,l,d),i.child)}function Ry(t,i,a,l,d){if(t===null){var m=a.type;return typeof m=="function"&&!gf(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,Ny(t,i,m,l,d)):(t=xc(a.type,null,l,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!tf(t,d)){var b=m.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(b,l)&&t.ref===i.ref)return Ei(t,i,d)}return i.flags|=1,t=ds(m,l),t.ref=i.ref,t.return=i,i.child=t}function Ny(t,i,a,l,d){if(t!==null){var m=t.memoizedProps;if(al(m,l)&&t.ref===i.ref)if(sn=!1,i.pendingProps=l=m,tf(t,d))(t.flags&131072)!==0&&(sn=!0);else return i.lanes=t.lanes,Ei(t,i,d)}return Qd(t,i,a,l,d)}function Cy(t,i,a){var l=i.pendingProps,d=l.children,m=(i.stateNode._pendingVisibility&2)!==0,b=t!==null?t.memoizedState:null;if(bl(t,i),l.mode==="hidden"||m){if((i.flags&128)!==0){if(l=b!==null?b.baseLanes|a:a,t!==null){for(d=i.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return Iy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(i,b!==null?b.cachePool:null),b!==null?Dg(i,b):Td(),Og(i);else return i.lanes=i.childLanes=536870912,Iy(t,i,b!==null?b.baseLanes|a:a,a)}else b!==null?(oc(i,b.cachePool),Dg(i,b),ns(),i.memoizedState=null):(t!==null&&oc(i,null),Td(),ns());return dn(t,i,d,a),i.child}function Iy(t,i,a,l){var d=Rd();return d=d===null?null:{parent:Qt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&oc(i,null),Td(),Og(i),t!==null&&El(t,i,l,!0),null}function bl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Qd(t,i,a,l,d){return ma(i),a=Cd(t,i,a,l,void 0,d),l=Id(),t!==null&&!sn?(Dd(t,i,d),Ei(t,i,d)):(lt&&l&&_d(i),i.flags|=1,dn(t,i,a,d),i.child)}function Dy(t,i,a,l,d,m){return ma(i),i.updateQueue=null,a=kg(i,l,a,d),Vg(t),l=Id(),t!==null&&!sn?(Dd(t,i,m),Ei(t,i,m)):(lt&&l&&_d(i),i.flags|=1,dn(t,i,a,m),i.child)}function Oy(t,i,a,l,d){if(ma(i),i.stateNode===null){var m=to,b=a.contextType;typeof b=="object"&&b!==null&&(m=_n(b)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Gd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},af(i),b=a.contextType,m.context=typeof b=="object"&&b!==null?_n(b):to,m.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(Fd(i,a,b,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Gd.enqueueReplaceState(m,m.state,null),wl(i,l,m,d),Tl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){m=i.stateNode;var x=i.memoizedProps,N=da(a,x);m.props=N;var U=m.context,J=a.contextType;b=to,typeof J=="object"&&J!==null&&(b=_n(J));var ie=a.getDerivedStateFromProps;J=typeof ie=="function"||typeof m.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x||U!==b)&&vy(i,m,l,b),as=!1;var Q=i.memoizedState;m.state=Q,wl(i,l,m,d),Tl(),U=i.memoizedState,x||Q!==U||as?(typeof ie=="function"&&(Fd(i,a,ie,l),U=i.memoizedState),(N=as||yy(i,a,N,l,Q,U,b))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=U),m.props=l,m.state=U,m.context=b,l=N):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,of(t,i),b=i.memoizedProps,J=da(a,b),m.props=J,ie=i.pendingProps,Q=m.context,U=a.contextType,N=to,typeof U=="object"&&U!==null&&(N=_n(U)),x=a.getDerivedStateFromProps,(U=typeof x=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ie||Q!==N)&&vy(i,m,l,N),as=!1,Q=i.memoizedState,m.state=Q,wl(i,l,m,d),Tl();var Z=i.memoizedState;b!==ie||Q!==Z||as||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof x=="function"&&(Fd(i,a,x,l),Z=i.memoizedState),(J=as||yy(i,a,J,l,Q,Z,N)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(U||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Z,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Z,N)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Z),m.props=l,m.state=Z,m.context=N,l=J):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&Q===t.memoizedState||(i.flags|=1024),l=!1)}return m=l,bl(t,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&l?(i.child=oa(i,t.child,null,d),i.child=oa(i,null,a,d)):dn(t,i,a,d),i.memoizedState=m.state,t=i.child):t=Ei(t,i,d),t}function My(t,i,a,l){return ul(),i.flags|=256,dn(t,i,a,l),i.child}var Yd={dehydrated:null,treeContext:null,retryLane:0};function $d(t){return{baseLanes:t,cachePool:jg()}}function Xd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=dr),t}function Py(t,i,a){var l=i.pendingProps,d=!1,m=(i.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Kt.current&2)!==0),b&&(d=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(lt){if(d?ts(i):ns(),lt){var x=hn,N;if(N=x){e:{for(N=x,x=Fr;N.nodeType!==8;){if(!x){x=null;break e}if(N=Sr(N.nextSibling),N===null){x=null;break e}}x=N}x!==null?(i.memoizedState={dehydrated:x,treeContext:ia!==null?{id:yi,overflow:vi}:null,retryLane:536870912},N=hr(18,null,null,0),N.stateNode=x,N.return=i,i.child=N,In=i,hn=null,N=!0):N=!1}N||aa(i)}if(x=i.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return x.data==="$!"?i.lanes=16:i.lanes=536870912,null;_i(i)}return x=l.children,l=l.fallback,d?(ns(),d=i.mode,x=Zd({mode:"hidden",children:x},d),l=ga(l,d,a,null),x.return=i,l.return=i,x.sibling=l,i.child=x,d=i.child,d.memoizedState=$d(a),d.childLanes=Xd(t,b,a),i.memoizedState=Yd,l):(ts(i),Wd(i,x))}if(N=t.memoizedState,N!==null&&(x=N.dehydrated,x!==null)){if(m)i.flags&256?(ts(i),i.flags&=-257,i=Jd(t,i,a)):i.memoizedState!==null?(ns(),i.child=t.child,i.flags|=128,i=null):(ns(),d=l.fallback,x=i.mode,l=Zd({mode:"visible",children:l.children},x),d=ga(d,x,a,null),d.flags|=2,l.return=i,d.return=i,l.sibling=d,i.child=l,oa(i,t.child,null,a),l=i.child,l.memoizedState=$d(a),l.childLanes=Xd(t,b,a),i.memoizedState=Yd,i=d);else if(ts(i),x.data==="$!"){if(b=x.nextSibling&&x.nextSibling.dataset,b)var U=b.dgst;b=U,l=Error(s(419)),l.stack="",l.digest=b,cl({value:l,source:null,stack:null}),i=Jd(t,i,a)}else if(sn||El(t,i,a,!1),b=(a&t.childLanes)!==0,sn||b){if(b=bt,b!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane)throw N.retryLane=l,es(t,l),Dn(b,t,l),Sy}x.data==="$?"||Nf(),i=Jd(t,i,a)}else x.data==="$?"?(i.flags|=128,i.child=t.child,i=zT.bind(null,t),x._reactRetry=i,i=null):(t=N.treeContext,hn=Sr(x.nextSibling),In=i,lt=!0,Tr=null,Fr=!1,t!==null&&(ar[or++]=yi,ar[or++]=vi,ar[or++]=ia,yi=t.id,vi=t.overflow,ia=i),i=Wd(i,l.children),i.flags|=4096);return i}return d?(ns(),d=l.fallback,x=i.mode,N=t.child,U=N.sibling,l=ds(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&31457280,U!==null?d=ds(U,d):(d=ga(d,x,a,null),d.flags|=2),d.return=i,l.return=i,l.sibling=d,i.child=l,l=d,d=i.child,x=t.child.memoizedState,x===null?x=$d(a):(N=x.cachePool,N!==null?(U=Qt._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=jg(),x={baseLanes:x.baseLanes|a,cachePool:N}),d.memoizedState=x,d.childLanes=Xd(t,b,a),i.memoizedState=Yd,l):(ts(i),a=t.child,t=a.sibling,a=ds(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function Wd(t,i){return i=Zd({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zd(t,i){return av(t,i,0,null)}function Jd(t,i,a){return oa(i,t.child,null,a),t=Wd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),rf(t.return,i,a)}function ef(t,i,a,l,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=d)}function Vy(t,i,a){var l=i.pendingProps,d=l.revealOrder,m=l.tail;if(dn(t,i,l.children,a),l=Kt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jy(t,a,i);else if(t.tag===19)jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($e(Kt,l),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&ac(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),ef(i,!1,d,a,m);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&ac(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}ef(i,!0,a,null,m);break;case"together":ef(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ei(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),fs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(El(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=ds(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=ds(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function tf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function AT(t,i,a){switch(i.tag){case 3:Or(i,i.stateNode.containerInfo),ss(i,Qt,t.memoizedState.cache),ul();break;case 27:case 5:qs(i);break;case 4:Or(i,i.stateNode.containerInfo);break;case 10:ss(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(ts(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Py(t,i,a):(ts(i),t=Ei(t,i,a),t!==null?t.sibling:null);ts(i);break;case 19:var d=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(El(t,i,a,!1),l=(a&i.childLanes)!==0),d){if(l)return Vy(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$e(Kt,Kt.current),l)break;return null;case 22:case 23:return i.lanes=0,Cy(t,i,a);case 24:ss(i,Qt,t.memoizedState.cache)}return Ei(t,i,a)}function ky(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)sn=!0;else{if(!tf(t,a)&&(i.flags&128)===0)return sn=!1,AT(t,i,a);sn=(t.flags&131072)!==0}else sn=!1,lt&&(i.flags&1048576)!==0&&Eg(i,tc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,d=l._init;if(l=d(l._payload),i.type=l,typeof l=="function")gf(l)?(t=da(l,t),i.tag=1,i=Oy(null,i,l,t,a)):(i.tag=0,i=Qd(null,i,l,t,a));else{if(l!=null){if(d=l.$$typeof,d===V){i.tag=11,i=Ay(null,i,l,t,a);break e}else if(d===W){i.tag=14,i=Ry(null,i,l,t,a);break e}}throw i=A(l)||l,Error(s(306,i,""))}}return i;case 0:return Qd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,d=da(l,i.pendingProps),Oy(t,i,l,d,a);case 3:e:{if(Or(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var m=i.pendingProps;d=i.memoizedState,l=d.element,of(t,i),wl(i,m,null,a);var b=i.memoizedState;if(m=b.cache,ss(i,Qt,m),m!==d.cache&&sf(i,[Qt],a,!0),Tl(),m=b.element,d.isDehydrated)if(d={element:m,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=My(t,i,m,a);break e}else if(m!==l){l=sr(Error(s(424)),i),cl(l),i=My(t,i,m,a);break e}else for(hn=Sr(i.stateNode.containerInfo.firstChild),In=i,lt=!0,Tr=null,Fr=!0,a=Ig(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ul(),m===l){i=Ei(t,i,a);break e}dn(t,i,m,a)}i=i.child}return i;case 26:return bl(t,i),t===null?(a=zv(i.type,null,i.pendingProps,null))?i.memoizedState=a:lt||(a=i.type,t=i.pendingProps,l=Pc(Lt.current).createElement(a),l[ve]=i,l[Ie]=t,fn(l,a,t),ct(l),i.stateNode=l):i.memoizedState=zv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return qs(i),t===null&&lt&&(l=i.stateNode=kv(i.type,i.pendingProps,Lt.current),In=i,Fr=!0,hn=Sr(l.firstChild)),l=i.pendingProps.children,t!==null||lt?dn(t,i,l,a):i.child=oa(i,null,l,a),bl(t,i),i.child;case 5:return t===null&&lt&&((d=l=hn)&&(l=nw(l,i.type,i.pendingProps,Fr),l!==null?(i.stateNode=l,In=i,hn=Sr(l.firstChild),Fr=!1,d=!0):d=!1),d||aa(i)),qs(i),d=i.type,m=i.pendingProps,b=t!==null?t.memoizedProps:null,l=m.children,Hf(d,m)?l=null:b!==null&&Hf(d,b)&&(i.flags|=32),i.memoizedState!==null&&(d=Cd(t,i,_T,null,null,a),Ul._currentValue=d),bl(t,i),dn(t,i,l,a),i.child;case 6:return t===null&&lt&&((t=a=hn)&&(a=rw(a,i.pendingProps,Fr),a!==null?(i.stateNode=a,In=i,hn=null,t=!0):t=!1),t||aa(i)),null;case 13:return Py(t,i,a);case 4:return Or(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=oa(i,null,l,a):dn(t,i,l,a),i.child;case 11:return Ay(t,i,i.type,i.pendingProps,a);case 7:return dn(t,i,i.pendingProps,a),i.child;case 8:return dn(t,i,i.pendingProps.children,a),i.child;case 12:return dn(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ss(i,i.type,l.value),dn(t,i,l.children,a),i.child;case 9:return d=i.type._context,l=i.pendingProps.children,ma(i),d=_n(d),l=l(d),i.flags|=1,dn(t,i,l,a),i.child;case 14:return Ry(t,i,i.type,i.pendingProps,a);case 15:return Ny(t,i,i.type,i.pendingProps,a);case 19:return Vy(t,i,a);case 22:return Cy(t,i,a);case 24:return ma(i),l=_n(Qt),t===null?(d=Rd(),d===null&&(d=bt,m=Sd(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=a),d=m),i.memoizedState={parent:l,cache:d},af(i),ss(i,Qt,d)):((t.lanes&a)!==0&&(of(t,i),wl(i,null,null,a),Tl()),d=t.memoizedState,m=i.memoizedState,d.parent!==l?(d={parent:l,cache:l},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),ss(i,Qt,l)):(l=m.cache,ss(i,Qt,l),l!==d.cache&&sf(i,[Qt],a,!0))),dn(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var nf=et(null),fa=null,xi=null;function ss(t,i,a){$e(nf,i._currentValue),i._currentValue=a}function Ti(t){t._currentValue=nf.current,Ke(nf)}function rf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function sf(t,i,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var x=m;m=d;for(var N=0;N<i.length;N++)if(x.context===i[N]){m.lanes|=a,x=m.alternate,x!==null&&(x.lanes|=a),rf(m.return,a,t),l||(b=null);break e}m=x.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(s(341));b.lanes|=a,m=b.alternate,m!==null&&(m.lanes|=a),rf(b,a,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function El(t,i,a,l){t=null;for(var d=i,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var x=d.type;Hn(d.pendingProps.value,b.value)||(t!==null?t.push(x):t=[x])}}else if(d===Dr.current){if(b=d.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}d=d.return}t!==null&&sf(i,t,a,l),i.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!Hn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){fa=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function _n(t){return Ly(fa,t)}function _c(t,i){return fa===null&&ma(t),Ly(t,i)}function Ly(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},xi===null){if(t===null)throw Error(s(308));xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else xi=xi.next=i;return a}var as=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ls(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Rt&2)!==0){var d=l.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),l.pending=i,i=Ju(t),_g(t,null,a),i}return Zu(t,l,i,a),Ju(t)}function xl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Se(t,a)}}function lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,a=a.next}while(a!==null);m===null?d=m=i:m=m.next=i}else d=m=i;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var uf=!1;function Tl(){if(uf){var t=oo;if(t!==null)throw t}}function wl(t,i,a,l){uf=!1;var d=t.updateQueue;as=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,x=d.shared.pending;if(x!==null){d.shared.pending=null;var N=x,U=N.next;N.next=null,b===null?m=U:b.next=U,b=N;var J=t.alternate;J!==null&&(J=J.updateQueue,x=J.lastBaseUpdate,x!==b&&(x===null?J.firstBaseUpdate=U:x.next=U,J.lastBaseUpdate=N))}if(m!==null){var ie=d.baseState;b=0,J=U=N=null,x=m;do{var Q=x.lane&-536870913,Z=Q!==x.lane;if(Z?(rt&Q)===Q:(l&Q)===Q){Q!==0&&Q===ao&&(uf=!0),J!==null&&(J=J.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var we=t,ke=x;Q=i;var Mt=a;switch(ke.tag){case 1:if(we=ke.payload,typeof we=="function"){ie=we.call(Mt,ie,Q);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=ke.payload,Q=typeof we=="function"?we.call(Mt,ie,Q):we,Q==null)break e;ie=I({},ie,Q);break e;case 2:as=!0}}Q=x.callback,Q!==null&&(t.flags|=64,Z&&(t.flags|=8192),Z=d.callbacks,Z===null?d.callbacks=[Q]:Z.push(Q))}else Z={lane:Q,tag:x.tag,payload:x.payload,callback:x.callback,next:null},J===null?(U=J=Z,N=ie):J=J.next=Z,b|=Q;if(x=x.next,x===null){if(x=d.shared.pending,x===null)break;Z=x,x=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);J===null&&(N=ie),d.baseState=N,d.firstBaseUpdate=U,d.lastBaseUpdate=J,m===null&&(d.shared.lanes=0),fs|=b,t.lanes=b,t.memoizedState=ie}}function Uy(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function zy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Uy(a[t],i)}function Sl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var m=a.create,b=a.inst;l=m(),b.destroy=l}a=a.next}while(a!==d)}}catch(x){vt(i,i.return,x)}}function us(t,i,a){try{var l=i.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&t)===t){var b=l.inst,x=b.destroy;if(x!==void 0){b.destroy=void 0,d=i;var N=a;try{x()}catch(U){vt(d,N,U)}}}l=l.next}while(l!==m)}}catch(U){vt(i,i.return,U)}}function By(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{zy(i,a)}catch(l){vt(t,t.return,l)}}}function Hy(t,i,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){vt(t,i,l)}}function pa(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var d=l;break;default:d=l}typeof a=="function"?t.refCleanup=a(d):a.current=d}}catch(m){vt(t,i,m)}}function qn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){vt(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){vt(t,i,d)}else a.current=null}function qy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){vt(t,t.return,d)}}function Fy(t,i,a){try{var l=t.stateNode;WT(l,t.type,a,i),l[Ie]=i}catch(d){vt(t,t.return,d)}}function Gy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Mc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(hf(t,i,a),t=t.sibling;t!==null;)hf(t,i,a),t=t.sibling}function bc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(bc(t,i,a),t=t.sibling;t!==null;)bc(t,i,a),t=t.sibling}var wi=!1,Dt=!1,df=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,an=null,Qy=!1;function RT(t,i){if(t=t.containerInfo,zf=zc,t=cg(t),fd(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var b=0,x=-1,N=-1,U=0,J=0,ie=t,Q=null;t:for(;;){for(var Z;ie!==a||d!==0&&ie.nodeType!==3||(x=b+d),ie!==m||l!==0&&ie.nodeType!==3||(N=b+l),ie.nodeType===3&&(b+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)Q=ie,ie=Z;for(;;){if(ie===t)break t;if(Q===a&&++U===d&&(x=b),Q===m&&++J===l&&(N=b),(Z=ie.nextSibling)!==null)break;ie=Q,Q=ie.parentNode}ie=Z}a=x===-1||N===-1?null:{start:x,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Bf={focusedElem:t,selectionRange:a},zc=!1,an=i;an!==null;)if(i=an,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,an=t;else for(;an!==null;){switch(i=an,m=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=i,d=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var we=da(a.type,d,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(ke){vt(a,a.return,ke)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,an=t;break}an=i.return}return we=Qy,Qy=!1,we}function Yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ai(t,a),l&4&&Sl(5,a);break;case 1:if(Ai(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(x){vt(a,a.return,x)}else{var d=da(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(x){vt(a,a.return,x)}}l&64&&By(a),l&512&&pa(a,a.return);break;case 3:if(Ai(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zy(l,t)}catch(x){vt(a,a.return,x)}}break;case 26:Ai(t,a),l&512&&pa(a,a.return);break;case 27:case 5:Ai(t,a),i===null&&l&4&&qy(a),l&512&&pa(a,a.return);break;case 12:Ai(t,a);break;case 13:Ai(t,a),l&4&&Wy(t,a);break;case 22:if(d=a.memoizedState!==null||wi,!d){i=i!==null&&i.memoizedState!==null||Dt;var m=wi,b=Dt;wi=d,(Dt=i)&&!b?cs(t,a,(a.subtreeFlags&8772)!==0):Ai(t,a),wi=m,Dt=b}l&512&&(a.memoizedProps.mode==="manual"?pa(a,a.return):qn(a,a.return));break;default:Ai(t,a)}}function $y(t){var i=t.alternate;i!==null&&(t.alternate=null,$y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Bn(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ht=null,Fn=!1;function Si(t,i,a){for(a=a.child;a!==null;)Xy(t,i,a),a=a.sibling}function Xy(t,i,a){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(_r,a)}catch{}switch(a.tag){case 26:Dt||qn(a,i),Si(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||qn(a,i);var l=Ht,d=Fn;for(Ht=a.stateNode,Si(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Bn(a),Ht=l,Fn=d;break;case 5:Dt||qn(a,i);case 6:d=Ht;var m=Fn;if(Ht=null,Si(t,i,a),Ht=d,Fn=m,Ht!==null)if(Fn)try{t=Ht,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(b){vt(a,i,b)}else try{Ht.removeChild(a.stateNode)}catch(b){vt(a,i,b)}break;case 18:Ht!==null&&(Fn?(i=Ht,a=a.stateNode,i.nodeType===8?Ff(i.parentNode,a):i.nodeType===1&&Ff(i,a),ql(i)):Ff(Ht,a.stateNode));break;case 4:l=Ht,d=Fn,Ht=a.stateNode.containerInfo,Fn=!0,Si(t,i,a),Ht=l,Fn=d;break;case 0:case 11:case 14:case 15:Dt||us(2,a,i),Dt||us(4,a,i),Si(t,i,a);break;case 1:Dt||(qn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Hy(a,i,l)),Si(t,i,a);break;case 21:Si(t,i,a);break;case 22:Dt||qn(a,i),Dt=(l=Dt)||a.memoizedState!==null,Si(t,i,a),Dt=l;break;default:Si(t,i,a)}}function Wy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(a){vt(i,i.return,a)}}function NT(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Ky),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Ky),i;default:throw Error(s(435,t.tag))}}function ff(t,i){var a=NT(t);i.forEach(function(l){var d=BT.bind(null,t,l);a.has(l)||(a.add(l),l.then(d,d))})}function ur(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],m=t,b=i,x=b;e:for(;x!==null;){switch(x.tag){case 27:case 5:Ht=x.stateNode,Fn=!1;break e;case 3:Ht=x.stateNode.containerInfo,Fn=!0;break e;case 4:Ht=x.stateNode.containerInfo,Fn=!0;break e}x=x.return}if(Ht===null)throw Error(s(160));Xy(m,b,d),Ht=null,Fn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Zy(i,t),i=i.sibling}var wr=null;function Zy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ur(i,t),cr(t),l&4&&(us(3,t,t.return),Sl(3,t),us(5,t,t.return));break;case 1:ur(i,t),cr(t),l&512&&(Dt||a===null||qn(a,a.return)),l&64&&wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=wr;if(ur(i,t),cr(t),l&512&&(Dt||a===null||qn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Rn]||m[ve]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),fn(m,l,a),m[ve]=t,ct(m),l=m;break e;case"link":var b=qv("link","href",d).get(l+(a.href||""));if(b){for(var x=0;x<b.length;x++)if(m=b[x],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(x,1);break t}}m=d.createElement(l),fn(m,l,a),d.head.appendChild(m);break;case"meta":if(b=qv("meta","content",d).get(l+(a.content||""))){for(x=0;x<b.length;x++)if(m=b[x],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(x,1);break t}}m=d.createElement(l),fn(m,l,a),d.head.appendChild(m);break;default:throw Error(s(468,l))}m[ve]=t,ct(m),l=m}t.stateNode=l}else Fv(d,t.type,t.stateNode);else t.stateNode=Hv(d,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?Fv(d,t.type,t.stateNode):Hv(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){d=t.stateNode,m=t.memoizedProps;try{for(var N=d.firstChild;N;){var U=N.nextSibling,J=N.nodeName;N[Rn]||J==="HEAD"||J==="BODY"||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&N.rel.toLowerCase()==="stylesheet"||d.removeChild(N),N=U}for(var ie=t.type,Q=d.attributes;Q.length;)d.removeAttributeNode(Q[0]);fn(d,ie,m),d[ve]=t,d[Ie]=m}catch(we){vt(t,t.return,we)}}case 5:if(ur(i,t),cr(t),l&512&&(Dt||a===null||qn(a,a.return)),t.flags&32){d=t.stateNode;try{er(d,"")}catch(we){vt(t,t.return,we)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Fy(t,d,a!==null?a.memoizedProps:d)),l&1024&&(df=!0);break;case 6:if(ur(i,t),cr(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(we){vt(t,t.return,we)}}break;case 3:if(kc=null,d=wr,wr=jc(i.containerInfo),ur(i,t),wr=d,cr(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(i.containerInfo)}catch(we){vt(t,t.return,we)}df&&(df=!1,Jy(t));break;case 4:l=wr,wr=jc(t.stateNode.containerInfo),ur(i,t),cr(t),wr=l;break;case 12:ur(i,t),cr(t);break;case 13:ur(i,t),cr(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xf=Zt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ff(t,l)));break;case 22:if(l&512&&(Dt||a===null||qn(a,a.return)),N=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,J=wi,ie=Dt,wi=J||N,Dt=ie||U,ur(i,t),Dt=ie,wi=J,cr(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=N?i._visibility&-2:i._visibility|1,N&&(i=wi||Dt,a===null||U||i||ho(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){U=a=i;try{if(d=U.stateNode,N)m=d.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{b=U.stateNode,x=U.memoizedProps.style;var Z=x!=null&&x.hasOwnProperty("display")?x.display:null;b.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(we){vt(U,U.return,we)}}}else if(i.tag===6){if(a===null){U=i;try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(we){vt(U,U.return,we)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ff(t,a))));break;case 19:ur(i,t),cr(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ff(t,l)));break;case 21:break;default:ur(i,t),cr(t)}}function cr(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Gy(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var d=l.stateNode,m=cf(t);bc(t,m,d);break;case 5:var b=l.stateNode;l.flags&32&&(er(b,""),l.flags&=-33);var x=cf(t);bc(t,x,b);break;case 3:case 4:var N=l.stateNode.containerInfo,U=cf(t);hf(t,U,N);break;default:throw Error(s(161))}}}catch(J){vt(t,t.return,J)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Jy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Jy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ai(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Yy(t,i.alternate,i),i=i.sibling}function ho(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:us(4,i,i.return),ho(i);break;case 1:qn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Hy(i,i.return,a),ho(i);break;case 26:case 27:case 5:qn(i,i.return),ho(i);break;case 22:qn(i,i.return),i.memoizedState===null&&ho(i);break;default:ho(i)}t=t.sibling}}function cs(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,d=t,m=i,b=m.flags;switch(m.tag){case 0:case 11:case 15:cs(d,m,a),Sl(4,m);break;case 1:if(cs(d,m,a),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){vt(l,l.return,U)}if(l=m,d=l.updateQueue,d!==null){var x=l.stateNode;try{var N=d.shared.hiddenCallbacks;if(N!==null)for(d.shared.hiddenCallbacks=null,d=0;d<N.length;d++)Uy(N[d],x)}catch(U){vt(l,l.return,U)}}a&&b&64&&By(m),pa(m,m.return);break;case 26:case 27:case 5:cs(d,m,a),a&&l===null&&b&4&&qy(m),pa(m,m.return);break;case 12:cs(d,m,a);break;case 13:cs(d,m,a),a&&b&4&&Wy(d,m);break;case 22:m.memoizedState===null&&cs(d,m,a),pa(m,m.return);break;default:cs(d,m,a)}i=i.sibling}}function mf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function pf(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function hs(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ev(t,i,a,l),i=i.sibling}function ev(t,i,a,l){var d=i.flags;switch(i.tag){case 0:case 11:case 15:hs(t,i,a,l),d&2048&&Sl(9,i);break;case 3:hs(t,i,a,l),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(d&2048){hs(t,i,a,l),t=i.stateNode;try{var m=i.memoizedProps,b=m.id,x=m.onPostCommit;typeof x=="function"&&x(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){vt(i,i.return,N)}}else hs(t,i,a,l);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?hs(t,i,a,l):Al(t,i):m._visibility&4?hs(t,i,a,l):(m._visibility|=4,fo(t,i,a,l,(i.subtreeFlags&10256)!==0)),d&2048&&mf(i.alternate,i);break;case 24:hs(t,i,a,l),d&2048&&pf(i.alternate,i);break;default:hs(t,i,a,l)}}function fo(t,i,a,l,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=t,b=i,x=a,N=l,U=b.flags;switch(b.tag){case 0:case 11:case 15:fo(m,b,x,N,d),Sl(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&4?fo(m,b,x,N,d):Al(m,b):(J._visibility|=4,fo(m,b,x,N,d)),d&&U&2048&&mf(b.alternate,b);break;case 24:fo(m,b,x,N,d),d&&U&2048&&pf(b.alternate,b);break;default:fo(m,b,x,N,d)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,d=l.flags;switch(l.tag){case 22:Al(a,l),d&2048&&mf(l.alternate,l);break;case 24:Al(a,l),d&2048&&pf(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var Rl=8192;function mo(t){if(t.subtreeFlags&Rl)for(t=t.child;t!==null;)tv(t),t=t.sibling}function tv(t){switch(t.tag){case 26:mo(t),t.flags&Rl&&t.memoizedState!==null&&gw(wr,t.memoizedState,t.memoizedProps);break;case 5:mo(t);break;case 3:case 4:var i=wr;wr=jc(t.stateNode.containerInfo),mo(t),wr=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,mo(t),Rl=i):mo(t));break;default:mo(t)}}function nv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Nl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];an=l,iv(l,t)}nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rv(t),t=t.sibling}function rv(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&us(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Ec(t)):Nl(t);break;default:Nl(t)}}function Ec(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];an=l,iv(l,t)}nv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:us(8,i,i.return),Ec(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Ec(i));break;default:Ec(i)}t=t.sibling}}function iv(t,i){for(;an!==null;){var a=an;switch(a.tag){case 0:case 11:case 15:us(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,an=l;else e:for(a=t;an!==null;){l=an;var d=l.sibling,m=l.return;if($y(l),l===a){an=null;break e}if(d!==null){d.return=m,an=d;break e}an=m}}}function CT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(t,i,a,l){return new CT(t,i,a,l)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ds(t,i){var a=t.alternate;return a===null?(a=hr(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sv(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function xc(t,i,a,l,d,m){var b=0;if(l=t,typeof t=="function")gf(t)&&(b=1);else if(typeof t=="string")b=mw(t,a,Wt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ga(a.children,d,m,i);case g:b=8,d|=24;break;case E:return t=hr(12,a,i,d|2),t.elementType=E,t.lanes=m,t;case X:return t=hr(13,a,i,d),t.elementType=X,t.lanes=m,t;case q:return t=hr(19,a,i,d),t.elementType=q,t.lanes=m,t;case ae:return av(a,d,m,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case C:b=10;break e;case R:b=9;break e;case V:b=11;break e;case W:b=14;break e;case ee:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=hr(b,a,i,d),i.elementType=t,i.type=l,i.lanes=m,i}function ga(t,i,a,l){return t=hr(7,t,l,i),t.lanes=a,t}function av(t,i,a,l){t=hr(22,t,l,i),t.elementType=ae,t.lanes=a;var d={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=d._current;if(m===null)throw Error(s(456));if((d._pendingVisibility&2)===0){var b=es(m,2);b!==null&&(d._pendingVisibility|=2,Dn(b,m,2))}},attach:function(){var m=d._current;if(m===null)throw Error(s(456));if((d._pendingVisibility&2)!==0){var b=es(m,2);b!==null&&(d._pendingVisibility&=-3,Dn(b,m,2))}}};return t.stateNode=d,t}function yf(t,i,a){return t=hr(6,t,null,i),t.lanes=a,t}function vf(t,i,a){return i=hr(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ri(t){t.flags|=4}function ov(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gv(i)){if(i=lr.current,i!==null&&((rt&4194176)===rt?Gr!==null:(rt&62914560)!==rt&&(rt&536870912)===0||i!==Gr))throw dl=xd,wg;t.flags|=8192}}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?z():536870912,t.lanes|=i,go|=i)}function Cl(t,i){if(!lt)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function At(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&31457280,l|=d.flags&31457280,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function IT(t,i,a){var l=i.pendingProps;switch(bd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(i),null;case 1:return At(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ti(Qt),$n(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ll(i)?Ri(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Tr!==null&&(Af(Tr),Tr=null))),At(i),null;case 26:return a=i.memoizedState,t===null?(Ri(i),a!==null?(At(i),ov(i,a)):(At(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ri(i),At(i),ov(i,a)):(At(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ri(i),At(i),i.flags&=-16777217),null;case 27:Gi(i),a=Lt.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return At(i),null}t=Wt.current,ll(i)?xg(i):(t=kv(d,l,a),i.stateNode=t,Ri(i))}return At(i),null;case 5:if(Gi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ri(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return At(i),null}if(t=Wt.current,ll(i))xg(i);else{switch(d=Pc(Lt.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?d.createElement("select",{is:l.is}):d.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?d.createElement(a,{is:l.is}):d.createElement(a)}}t[ve]=i,t[Ie]=l;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(fn(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ri(i)}}return At(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ri(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Lt.current,ll(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,d=In,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[ve]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Dv(t.nodeValue,a)),t||aa(i)}else t=Pc(t).createTextNode(l),t[ve]=i,i.stateNode=t}return At(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ll(i),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(s(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[ve]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;At(i),d=!1}else Tr!==null&&(Af(Tr),Tr=null),d=!0;if(!d)return i.flags&256?(_i(i),i):(_i(i),null)}if(_i(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),At(i),null;case 4:return $n(),t===null&&kf(i.stateNode.containerInfo),At(i),null;case 10:return Ti(i.type),At(i),null;case 19:if(Ke(Kt),d=i.memoizedState,d===null)return At(i),null;if(l=(i.flags&128)!==0,m=d.rendering,m===null)if(l)Cl(d,!1);else{if(Ot!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=ac(t),m!==null){for(i.flags|=128,Cl(d,!1),t=m.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sv(a,t),a=a.sibling;return $e(Kt,Kt.current&1|2),i.child}t=t.sibling}d.tail!==null&&Zt()>wc&&(i.flags|=128,l=!0,Cl(d,!1),i.lanes=4194304)}else{if(!l)if(t=ac(m),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),Cl(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!lt)return At(i),null}else 2*Zt()-d.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,l=!0,Cl(d,!1),i.lanes=4194304);d.isBackwards?(m.sibling=i.child,i.child=m):(t=d.last,t!==null?t.sibling=m:i.child=m,d.last=m)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=Zt(),i.sibling=null,t=Kt.current,$e(Kt,l?t&1|2:t&1),i):(At(i),null);case 22:case 23:return _i(i),wd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(At(i),i.subtreeFlags&6&&(i.flags|=8192)):At(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Ke(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ti(Qt),At(i),null;case 25:return null}throw Error(s(156,i.tag))}function DT(t,i){switch(bd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ti(Qt),$n(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Gi(i),null;case 13:if(_i(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ul()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Ke(Kt),null;case 4:return $n(),null;case 10:return Ti(i.type),null;case 22:case 23:return _i(i),wd(),t!==null&&Ke(la),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ti(Qt),null;case 25:return null;default:return null}}function lv(t,i){switch(bd(i),i.tag){case 3:Ti(Qt),$n();break;case 26:case 27:case 5:Gi(i);break;case 4:$n();break;case 13:_i(i);break;case 19:Ke(Kt);break;case 10:Ti(i.type);break;case 22:case 23:_i(i),wd(),t!==null&&Ke(la);break;case 24:Ti(Qt)}}var OT={getCacheForType:function(t){var i=_n(Qt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},MT=typeof WeakMap=="function"?WeakMap:Map,Rt=0,bt=null,Ye=null,rt=0,Et=0,Gn=null,Ni=!1,po=!1,_f=!1,Ci=0,Ot=0,fs=0,ya=0,bf=0,dr=0,go=0,Il=null,Qr=null,Ef=!1,xf=0,wc=1/0,Sc=null,ms=null,Ac=!1,va=null,Dl=0,Tf=0,wf=null,Ol=0,Sf=null;function Kn(){if((Rt&2)!==0&&rt!==0)return rt&-rt;if(S.T!==null){var t=ao;return t!==0?t:Mf()}return Te()}function uv(){dr===0&&(dr=(rt&536870912)===0||lt?M():536870912);var t=lr.current;return t!==null&&(t.flags|=32),dr}function Dn(t,i,a){(t===bt&&Et===2||t.cancelPendingCommit!==null)&&(yo(t,0),Ii(t,rt,dr,!1)),te(t,a),((Rt&2)===0||t!==bt)&&(t===bt&&((Rt&2)===0&&(ya|=a),Ot===4&&Ii(t,rt,dr,!1)),Yr(t))}function cv(t,i,a){if((Rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||Pr(t,i),d=l?VT(t,i):Cf(t,i,!0),m=l;do{if(d===0){po&&!l&&Ii(t,i,0,!1);break}else if(d===6)Ii(t,i,0,!Ni);else{if(a=t.current.alternate,m&&!PT(a)){d=Cf(t,i,!1),m=!1;continue}if(d===2){if(m=i,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var x=t;d=Il;var N=x.current.memoizedState.isDehydrated;if(N&&(yo(x,b).flags|=256),b=Cf(x,b,!1),b!==2){if(_f&&!N){x.errorRecoveryDisabledLanes|=m,ya|=m,d=4;break e}m=Qr,Qr=d,m!==null&&Af(m)}d=b}if(m=!1,d!==2)continue}}if(d===1){yo(t,0),Ii(t,i,0,!0);break}e:{switch(l=t,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Ii(l,i,dr,!Ni);break e}break;case 2:Qr=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(m=xf+300-Zt(),10<m)){if(Ii(l,i,dr,!Ni),un(l,0)!==0)break e;l.timeoutHandle=Pv(hv.bind(null,l,a,Qr,Sc,Ef,i,dr,ya,go,Ni,2,-0,0),m);break e}hv(l,a,Qr,Sc,Ef,i,dr,ya,go,Ni,0,-0,0)}}break}while(!0);Yr(t)}function Af(t){Qr===null?Qr=t:Qr.push.apply(Qr,t)}function hv(t,i,a,l,d,m,b,x,N,U,J,ie,Q){var Z=i.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:pw},tv(i),i=yw(),i!==null)){t.cancelPendingCommit=i(vv.bind(null,t,a,l,d,b,x,N,1,ie,Q)),Ii(t,m,b,!U);return}vv(t,a,l,d,b,x,N,J,ie,Q)}function PT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],m=d.getSnapshot;d=d.value;try{if(!Hn(m(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ii(t,i,a,l){i&=~bf,i&=~ya,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var d=i;0<d;){var m=31-en(d),b=1<<m;l[m]=-1,d&=~b}a!==0&&Ae(t,a,i)}function Rc(){return(Rt&6)===0?(Ml(0),!1):!0}function Rf(){if(Ye!==null){if(Et===0)var t=Ye.return;else t=Ye,xi=fa=null,Od(t),io=null,fl=0,t=Ye;for(;t!==null;)lv(t.alternate,t),t=t.return;Ye=null}}function yo(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rf(),bt=t,Ye=a=ds(t.current,null),rt=i,Et=0,Gn=null,Ni=!1,po=Pr(t,i),_f=!1,go=dr=bf=ya=fs=Ot=0,Qr=Il=null,Ef=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var d=31-en(l),m=1<<d;i|=t[d],l&=~m}return Ci=i,Wu(),a}function dv(t,i){Fe=null,S.H=Kr,i===hl?(i=Rg(),Et=3):i===wg?(i=Rg(),Et=4):Et=i===Sy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Gn=i,Ye===null&&(Ot=1,yc(t,sr(i,t.current)))}function fv(){var t=S.H;return S.H=Kr,t===null?Kr:t}function mv(){var t=S.A;return S.A=OT,t}function Nf(){Ot=4,Ni||(rt&4194176)!==rt&&lr.current!==null||(po=!0),(fs&134217727)===0&&(ya&134217727)===0||bt===null||Ii(bt,rt,dr,!1)}function Cf(t,i,a){var l=Rt;Rt|=2;var d=fv(),m=mv();(bt!==t||rt!==i)&&(Sc=null,yo(t,i)),i=!1;var b=Ot;e:do try{if(Et!==0&&Ye!==null){var x=Ye,N=Gn;switch(Et){case 8:Rf(),b=6;break e;case 3:case 2:case 6:lr.current===null&&(i=!0);var U=Et;if(Et=0,Gn=null,vo(t,x,N,U),a&&po){b=0;break e}break;default:U=Et,Et=0,Gn=null,vo(t,x,N,U)}}jT(),b=Ot;break}catch(J){dv(t,J)}while(!0);return i&&t.shellSuspendCounter++,xi=fa=null,Rt=l,S.H=d,S.A=m,Ye===null&&(bt=null,rt=0,Wu()),b}function jT(){for(;Ye!==null;)pv(Ye)}function VT(t,i){var a=Rt;Rt|=2;var l=fv(),d=mv();bt!==t||rt!==i?(Sc=null,wc=Zt()+500,yo(t,i)):po=Pr(t,i);e:do try{if(Et!==0&&Ye!==null){i=Ye;var m=Gn;t:switch(Et){case 1:Et=0,Gn=null,vo(t,i,m,1);break;case 2:if(Sg(m)){Et=0,Gn=null,gv(i);break}i=function(){Et===2&&bt===t&&(Et=7),Yr(t)},m.then(i,i);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:Sg(m)?(Et=0,Gn=null,gv(i)):(Et=0,Gn=null,vo(t,i,m,7));break;case 5:var b=null;switch(Ye.tag){case 26:b=Ye.memoizedState;case 5:case 27:var x=Ye;if(!b||Gv(b)){Et=0,Gn=null;var N=x.sibling;if(N!==null)Ye=N;else{var U=x.return;U!==null?(Ye=U,Nc(U)):Ye=null}break t}}Et=0,Gn=null,vo(t,i,m,5);break;case 6:Et=0,Gn=null,vo(t,i,m,6);break;case 8:Rf(),Ot=6;break e;default:throw Error(s(462))}}kT();break}catch(J){dv(t,J)}while(!0);return xi=fa=null,S.H=l,S.A=d,Rt=a,Ye!==null?0:(bt=null,rt=0,Wu(),Ot)}function kT(){for(;Ye!==null&&!oi();)pv(Ye)}function pv(t){var i=ky(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,i===null?Nc(t):Ye=i}function gv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Dy(a,i,i.pendingProps,i.type,void 0,rt);break;case 11:i=Dy(a,i,i.pendingProps,i.type.render,i.ref,rt);break;case 5:Od(i);default:lv(a,i),i=Ye=sv(i,Ci),i=ky(a,i,Ci)}t.memoizedProps=t.pendingProps,i===null?Nc(t):Ye=i}function vo(t,i,a,l){xi=fa=null,Od(i),io=null,fl=0;var d=i.return;try{if(ST(t,d,i,a,rt)){Ot=1,yc(t,sr(a,t.current)),Ye=null;return}}catch(m){if(d!==null)throw Ye=d,m;Ot=1,yc(t,sr(a,t.current)),Ye=null;return}i.flags&32768?(lt||l===1?t=!0:po||(rt&536870912)!==0?t=!1:(Ni=t=!0,(l===2||l===3||l===6)&&(l=lr.current,l!==null&&l.tag===13&&(l.flags|=16384))),yv(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){yv(i,Ni);return}t=i.return;var a=IT(i.alternate,i,Ci);if(a!==null){Ye=a;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=t}while(i!==null);Ot===0&&(Ot=5)}function yv(t,i){do{var a=DT(t.alternate,t);if(a!==null){a.flags&=32767,Ye=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ye=t;return}Ye=t=a}while(t!==null);Ot=6,Ye=null}function vv(t,i,a,l,d,m,b,x,N,U){var J=S.T,ie=me.p;try{me.p=2,S.T=null,LT(t,i,a,l,ie,d,m,b,x,N,U)}finally{S.T=J,me.p=ie}}function LT(t,i,a,l,d,m,b,x){do _o();while(va!==null);if((Rt&6)!==0)throw Error(s(327));var N=t.finishedWork;if(l=t.finishedLanes,N===null)return null;if(t.finishedWork=null,t.finishedLanes=0,N===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=N.lanes|N.childLanes;if(U|=yd,ce(t,l,U,m,b,x),t===bt&&(Ye=bt=null,rt=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||Ac||(Ac=!0,Tf=U,wf=a,HT(zn,function(){return _o(),null})),a=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=me.p,me.p=2,b=Rt,Rt|=4,RT(t,N),Zy(N,t),lT(Bf,t.containerInfo),zc=!!zf,Bf=zf=null,t.current=N,Yy(t,N.alternate,N),Qi(),Rt=b,me.p=m,S.T=a):t.current=N,Ac?(Ac=!1,va=t,Dl=l):_v(t,U),U=t.pendingLanes,U===0&&(ms=null),Yi(N.stateNode),Yr(t),i!==null)for(d=t.onRecoverableError,N=0;N<i.length;N++)U=i[N],d(U.value,{componentStack:U.stack});return(Dl&3)!==0&&_o(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===Sf?Ol++:(Ol=0,Sf=t):Ol=0,Ml(0),null}function _v(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function _o(){if(va!==null){var t=va,i=Tf;Tf=0;var a=xe(Dl),l=S.T,d=me.p;try{if(me.p=32>a?32:a,S.T=null,va===null)var m=!1;else{a=wf,wf=null;var b=va,x=Dl;if(va=null,Dl=0,(Rt&6)!==0)throw Error(s(331));var N=Rt;if(Rt|=4,rv(b.current),ev(b,b.current,x,a),Rt=N,Ml(0,!1),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(_r,b)}catch{}m=!0}return m}finally{me.p=d,S.T=l,_v(t,i)}}return!1}function bv(t,i,a){i=sr(a,i),i=Kd(t.stateNode,i,2),t=ls(t,i,2),t!==null&&(te(t,2),Yr(t))}function vt(t,i,a){if(t.tag===3)bv(t,t,a);else for(;i!==null;){if(i.tag===3){bv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ms===null||!ms.has(l))){t=sr(a,t),a=Ty(2),l=ls(i,a,2),l!==null&&(wy(a,l,i,t),te(l,2),Yr(l));break}}i=i.return}}function If(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new MT;var d=new Set;l.set(i,d)}else d=l.get(i),d===void 0&&(d=new Set,l.set(i,d));d.has(a)||(_f=!0,d.add(a),t=UT.bind(null,t,i,a),i.then(t,t))}function UT(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,bt===t&&(rt&a)===a&&(Ot===4||Ot===3&&(rt&62914560)===rt&&300>Zt()-xf?(Rt&2)===0&&yo(t,0):bf|=a,go===rt&&(go=0)),Yr(t)}function Ev(t,i){i===0&&(i=z()),t=es(t,i),t!==null&&(te(t,i),Yr(t))}function zT(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ev(t,a)}function BT(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ev(t,a)}function HT(t,i){return ai(t,i)}var Cc=null,bo=null,Df=!1,Ic=!1,Of=!1,_a=0;function Yr(t){t!==bo&&t.next===null&&(bo===null?Cc=bo=t:bo=bo.next=t),Ic=!0,Df||(Df=!0,FT(qT))}function Ml(t,i){if(!Of&&Ic){Of=!0;do for(var a=!1,l=Cc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var b=l.suspendedLanes,x=l.pingedLanes;m=(1<<31-en(42|t)+1)-1,m&=d&~(b&~x),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,wv(l,m))}else m=rt,m=un(l,l===bt?m:0),(m&3)===0||Pr(l,m)||(a=!0,wv(l,m));l=l.next}while(a);Of=!1}}function qT(){Ic=Df=!1;var t=0;_a!==0&&(ZT()&&(t=_a),_a=0);for(var i=Zt(),a=null,l=Cc;l!==null;){var d=l.next,m=xv(l,i);m===0?(l.next=null,a===null?Cc=d:a.next=d,d===null&&(bo=a)):(a=l,(t!==0||(m&3)!==0)&&(Ic=!0)),l=d}Ml(t)}function xv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-en(m),x=1<<b,N=d[b];N===-1?((x&a)===0||(x&l)!==0)&&(d[b]=$i(x,i)):N<=i&&(t.expiredLanes|=x),m&=~x}if(i=bt,a=rt,a=un(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&Et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Mn(l),xe(a)){case 2:case 8:a=Pt;break;case 32:a=zn;break;case 268435456:a=Pn;break;default:a=zn}return l=Tv.bind(null,t),a=ai(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Mn(l),t.callbackPriority=2,t.callbackNode=null,2}function Tv(t,i){var a=t.callbackNode;if(_o()&&t.callbackNode!==a)return null;var l=rt;return l=un(t,t===bt?l:0),l===0?null:(cv(t,l,i),xv(t,Zt()),t.callbackNode!=null&&t.callbackNode===a?Tv.bind(null,t):null)}function wv(t,i){if(_o())return null;cv(t,i,!0)}function FT(t){ew(function(){(Rt&6)!==0?ai(mt,t):t()})}function Mf(){return _a===0&&(_a=M()),_a}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kr(""+t)}function Av(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function GT(t,i,a,l,d){if(i==="submit"&&a&&a.stateNode===d){var m=Sv((d[Ie]||null).action),b=l.submitter;b&&(i=(i=b[Ie]||null)?Sv(i.formAction):b.getAttribute("formAction"),i!==null&&(m=i,b=null));var x=new Fa("action","action",null,l,d);t.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_a!==0){var N=b?Av(d,b):new FormData(d);Bd(a,{pending:!0,data:N,method:d.method,action:m},null,N)}}else typeof m=="function"&&(x.preventDefault(),N=b?Av(d,b):new FormData(d),Bd(a,{pending:!0,data:N,method:d.method,action:m},m,N))},currentTarget:d}]})}}for(var Pf=0;Pf<vg.length;Pf++){var jf=vg[Pf],KT=jf.toLowerCase(),QT=jf[0].toUpperCase()+jf.slice(1);xr(KT,"on"+QT)}xr(fg,"onAnimationEnd"),xr(mg,"onAnimationIteration"),xr(pg,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(cT,"onTransitionRun"),xr(hT,"onTransitionStart"),xr(dT,"onTransitionCancel"),xr(gg,"onTransitionEnd"),ht("onMouseEnter",["mouseout","mouseover"]),ht("onMouseLeave",["mouseout","mouseover"]),ht("onPointerEnter",["pointerout","pointerover"]),ht("onPointerLeave",["pointerout","pointerover"]),He("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),He("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),He("onBeforeInput",["compositionend","keypress","textInput","paste"]),He("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function Rv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var m=void 0;if(i)for(var b=l.length-1;0<=b;b--){var x=l[b],N=x.instance,U=x.currentTarget;if(x=x.listener,N!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=U;try{m(d)}catch(J){gc(J)}d.currentTarget=null,m=N}else for(b=0;b<l.length;b++){if(x=l[b],N=x.instance,U=x.currentTarget,x=x.listener,N!==m&&d.isPropagationStopped())break e;m=x,d.currentTarget=U;try{m(d)}catch(J){gc(J)}d.currentTarget=null,m=N}}}}function Ze(t,i){var a=i[wt];a===void 0&&(a=i[wt]=new Set);var l=t+"__bubble";a.has(l)||(Nv(i,t,2,!1),a.add(l))}function Vf(t,i,a){var l=0;i&&(l|=4),Nv(a,t,l,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[Dc]){t[Dc]=!0,jr.forEach(function(a){a!=="selectionchange"&&(YT.has(a)||Vf(a,!1,t),Vf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,Vf("selectionchange",!1,i))}}function Nv(t,i,a,l){switch(Wv(i)){case 2:var d=bw;break;case 8:d=Ew;break;default:d=Xf}a=d.bind(null,i,a,t),d=void 0,!nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function Lf(t,i,a,l,d){var m=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var x=l.stateNode.containerInfo;if(x===d||x.nodeType===8&&x.parentNode===d)break;if(b===4)for(b=l.return;b!==null;){var N=b.tag;if((N===3||N===4)&&(N=b.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;b=b.return}for(;x!==null;){if(b=jt(x),b===null)return;if(N=b.tag,N===5||N===6||N===26||N===27){l=m=b;continue e}x=x.parentNode}}l=l.return}Vu(function(){var U=m,J=qa(a),ie=[];e:{var Q=yg.get(t);if(Q!==void 0){var Z=Fa,we=t;switch(t){case"keypress":if(Ur(a)===0)break e;case"keydown":case"keyup":Z=Xa;break;case"focusin":we="focus",Z=Qa;break;case"focusout":we="blur",Z=Qa;break;case"beforeblur":case"afterblur":Z=Qa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=ud;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=Fu;break;case fg:case mg:case pg:Z=Ya;break;case gg:Z=Ku;break;case"scroll":case"scrollend":Z=ku;break;case"wheel":Z=Wa;break;case"copy":case"cut":case"paste":Z=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=il;break;case"toggle":case"beforetoggle":Z=Yu}var ke=(i&4)!==0,Mt=!ke&&(t==="scroll"||t==="scrollend"),H=ke?Q!==null?Q+"Capture":null:Q;ke=[];for(var k=U,G;k!==null;){var ne=k;if(G=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||G===null||H===null||(ne=$s(k,H),ne!=null&&ke.push(jl(k,ne,G))),Mt)break;k=k.return}0<ke.length&&(Q=new Z(Q,we,null,a,J),ie.push({event:Q,listeners:ke}))}}if((i&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Z=t==="mouseout"||t==="pointerout",Q&&a!==tr&&(we=a.relatedTarget||a.fromElement)&&(jt(we)||we[at]))break e;if((Z||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,Z?(we=a.relatedTarget||a.toElement,Z=U,we=we?jt(we):null,we!==null&&(Mt=Ee(we),ke=we.tag,we!==Mt||ke!==5&&ke!==27&&ke!==6)&&(we=null)):(Z=null,we=U),Z!==we)){if(ke=rr,ne="onMouseLeave",H="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ke=il,ne="onPointerLeave",H="onPointerEnter",k="pointer"),Mt=Z==null?Q:Wn(Z),G=we==null?Q:Wn(we),Q=new ke(ne,k+"leave",Z,a,J),Q.target=Mt,Q.relatedTarget=G,ne=null,jt(J)===U&&(ke=new ke(H,k+"enter",we,a,J),ke.target=G,ke.relatedTarget=Mt,ne=ke),Mt=ne,Z&&we)t:{for(ke=Z,H=we,k=0,G=ke;G;G=Eo(G))k++;for(G=0,ne=H;ne;ne=Eo(ne))G++;for(;0<k-G;)ke=Eo(ke),k--;for(;0<G-k;)H=Eo(H),G--;for(;k--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=Eo(ke),H=Eo(H)}ke=null}else ke=null;Z!==null&&Cv(ie,Q,Z,ke,!1),we!==null&&Mt!==null&&Cv(ie,Mt,we,ke,!0)}}e:{if(Q=U?Wn(U):window,Z=Q.nodeName&&Q.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Q.type==="file")var be=ng;else if(Gt(Q))if(rg)be=aT;else{be=iT;var Qe=rT}else Z=Q.nodeName,!Z||Z.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?U&&Wo(U.elementType)&&(be=ng):be=sT;if(be&&(be=be(t,U))){gi(ie,be,a,J);break e}Qe&&Qe(t,Q,U),t==="focusout"&&U&&Q.type==="number"&&U.memoizedProps.value!=null&&Ha(Q,"number",Q.value)}switch(Qe=U?Wn(U):window,t){case"focusin":(Gt(Qe)||Qe.contentEditable==="true")&&(Za=Qe,md=U,ol=null);break;case"focusout":ol=md=Za=null;break;case"mousedown":pd=!0;break;case"contextmenu":case"mouseup":case"dragend":pd=!1,hg(ie,a,J);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":hg(ie,a,J)}var Re;if(Hr)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else tt?$(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(_&&a.locale!=="ko"&&(tt||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&tt&&(Re=Jo()):(Lr=J,Ji="value"in Lr?Lr.value:Lr.textContent,tt=!0)),Qe=Oc(U,Oe),0<Qe.length&&(Oe=new nl(Oe,t,null,a,J),ie.push({event:Oe,listeners:Qe}),Re?Oe.data=Re:(Re=le(a),Re!==null&&(Oe.data=Re)))),(Re=y?Ft(t,a):nt(t,a))&&(Oe=Oc(U,"onBeforeInput"),0<Oe.length&&(Qe=new nl("onBeforeInput","beforeinput",null,a,J),ie.push({event:Qe,listeners:Oe}),Qe.data=Re)),GT(ie,t,U,a,J)}Rv(ie,i)})}function jl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Oc(t,i){for(var a=i+"Capture",l=[];t!==null;){var d=t,m=d.stateNode;d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=$s(t,a),d!=null&&l.unshift(jl(t,d,m)),d=$s(t,i),d!=null&&l.push(jl(t,d,m))),t=t.return}return l}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Cv(t,i,a,l,d){for(var m=i._reactName,b=[];a!==null&&a!==l;){var x=a,N=x.alternate,U=x.stateNode;if(x=x.tag,N!==null&&N===l)break;x!==5&&x!==26&&x!==27||U===null||(N=U,d?(U=$s(a,m),U!=null&&b.unshift(jl(a,U,N))):d||(U=$s(a,m),U!=null&&b.push(jl(a,U,N)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var $T=/\r\n?/g,XT=/\u0000|\uFFFD/g;function Iv(t){return(typeof t=="string"?t:""+t).replace($T,`
`).replace(XT,"")}function Dv(t,i){return i=Iv(i),Iv(t)===i}function Mc(){}function gt(t,i,a,l,d,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||er(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&er(t,""+l);break;case"className":Xi(t,"class",l);break;case"tabIndex":Xi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Xi(t,a,l);break;case"style":ju(t,l,m);break;case"data":if(i!=="object"){Xi(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=kr(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&gt(t,i,"name",d.name,d,null),gt(t,i,"formEncType",d.formEncType,d,null),gt(t,i,"formMethod",d.formMethod,d,null),gt(t,i,"formTarget",d.formTarget,d,null)):(gt(t,i,"encType",d.encType,d,null),gt(t,i,"method",d.method,d,null),gt(t,i,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=kr(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mc);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=kr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ze("beforetoggle",t),Ze("toggle",t),Vr(t,"popover",l);break;case"xlinkActuate":Jn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Jn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Jn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Jn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Jn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Jn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Jn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=od.get(a)||a,Vr(t,a,l))}}function Uf(t,i,a,l,d,m){switch(a){case"style":ju(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?er(t,l):(typeof l=="number"||typeof l=="bigint")&&er(t,""+l);break;case"onScroll":l!=null&&Ze("scroll",t);break;case"onScrollEnd":l!=null&&Ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),m=t[Ie]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(i,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Vr(t,a,l)}}}function fn(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",t),Ze("load",t);var l=!1,d=!1,m;for(m in a)if(a.hasOwnProperty(m)){var b=a[m];if(b!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:gt(t,i,m,b,a,null)}}d&&gt(t,i,"srcSet",a.srcSet,a,null),l&&gt(t,i,"src",a.src,a,null);return;case"input":Ze("invalid",t);var x=m=b=d=null,N=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":d=J;break;case"type":b=J;break;case"checked":N=J;break;case"defaultChecked":U=J;break;case"value":m=J;break;case"defaultValue":x=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,i));break;default:gt(t,i,l,J,a,null)}}Qs(t,m,x,N,U,b,d,!1),Ks(t);return;case"select":Ze("invalid",t),l=b=m=null;for(d in a)if(a.hasOwnProperty(d)&&(x=a[d],x!=null))switch(d){case"value":m=x;break;case"defaultValue":b=x;break;case"multiple":l=x;default:gt(t,i,d,x,a,null)}i=m,a=b,t.multiple=!!l,i!=null?ot(t,!!l,i,!1):a!=null&&ot(t,!!l,a,!0);return;case"textarea":Ze("invalid",t),m=d=l=null;for(b in a)if(a.hasOwnProperty(b)&&(x=a[b],x!=null))switch(b){case"value":l=x;break;case"defaultValue":d=x;break;case"children":m=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:gt(t,i,b,x,a,null)}Zi(t,l,d,m),Ks(t);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:gt(t,i,N,l,a,null)}return;case"dialog":Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":Ze("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ze(Pl[l],t);break;case"image":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"embed":case"source":case"link":Ze("error",t),Ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:gt(t,i,U,l,a,null)}return;default:if(Wo(i)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&Uf(t,i,J,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&gt(t,i,x,l,a,null))}function WT(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,x=null,N=null,U=null,J=null;for(Z in a){var ie=a[Z];if(a.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":N=ie;default:l.hasOwnProperty(Z)||gt(t,i,Z,null,l,ie)}}for(var Q in l){var Z=l[Q];if(ie=a[Q],l.hasOwnProperty(Q)&&(Z!=null||ie!=null))switch(Q){case"type":m=Z;break;case"name":d=Z;break;case"checked":U=Z;break;case"defaultChecked":J=Z;break;case"value":b=Z;break;case"defaultValue":x=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==ie&&gt(t,i,Q,Z,l,ie)}}Wi(t,b,x,N,U,J,m,d);return;case"select":Z=b=x=Q=null;for(m in a)if(N=a[m],a.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":Z=N;default:l.hasOwnProperty(m)||gt(t,i,m,null,l,N)}for(d in l)if(m=l[d],N=a[d],l.hasOwnProperty(d)&&(m!=null||N!=null))switch(d){case"value":Q=m;break;case"defaultValue":x=m;break;case"multiple":b=m;default:m!==N&&gt(t,i,d,m,l,N)}i=x,a=b,l=Z,Q!=null?ot(t,!!a,Q,!1):!!l!=!!a&&(i!=null?ot(t,!!a,i,!0):ot(t,!!a,a?[]:"",!1));return;case"textarea":Z=Q=null;for(x in a)if(d=a[x],a.hasOwnProperty(x)&&d!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:gt(t,i,x,null,l,d)}for(b in l)if(d=l[b],m=a[b],l.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":Q=d;break;case"defaultValue":Z=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==m&&gt(t,i,b,d,l,m)}Ys(t,Q,Z);return;case"option":for(var we in a)if(Q=a[we],a.hasOwnProperty(we)&&Q!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:gt(t,i,we,null,l,Q)}for(N in l)if(Q=l[N],Z=a[N],l.hasOwnProperty(N)&&Q!==Z&&(Q!=null||Z!=null))switch(N){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:gt(t,i,N,Q,l,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ke in a)Q=a[ke],a.hasOwnProperty(ke)&&Q!=null&&!l.hasOwnProperty(ke)&&gt(t,i,ke,null,l,Q);for(U in l)if(Q=l[U],Z=a[U],l.hasOwnProperty(U)&&Q!==Z&&(Q!=null||Z!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:gt(t,i,U,Q,l,Z)}return;default:if(Wo(i)){for(var Mt in a)Q=a[Mt],a.hasOwnProperty(Mt)&&Q!==void 0&&!l.hasOwnProperty(Mt)&&Uf(t,i,Mt,void 0,l,Q);for(J in l)Q=l[J],Z=a[J],!l.hasOwnProperty(J)||Q===Z||Q===void 0&&Z===void 0||Uf(t,i,J,Q,l,Z);return}}for(var H in a)Q=a[H],a.hasOwnProperty(H)&&Q!=null&&!l.hasOwnProperty(H)&&gt(t,i,H,null,l,Q);for(ie in l)Q=l[ie],Z=a[ie],!l.hasOwnProperty(ie)||Q===Z||Q==null&&Z==null||gt(t,i,ie,Q,l,Z)}var zf=null,Bf=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function Ov(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Mv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Hf(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qf=null;function ZT(){var t=window.event;return t&&t.type==="popstate"?t===qf?!1:(qf=t,!0):(qf=null,!1)}var Pv=typeof setTimeout=="function"?setTimeout:void 0,JT=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,ew=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(tw)}:Pv;function tw(t){setTimeout(function(){throw t})}function Ff(t,i){var a=i,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(l===0){t.removeChild(d),ql(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=d}while(a);ql(i)}function Gf(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Gf(a),Bn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function nw(t,i,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rn])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Sr(t.nextSibling),t===null)break}return null}function rw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Sr(t.nextSibling),t===null))return null;return t}function Sr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Vv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function kv(t,i,a){switch(i=Pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var fr=new Map,Lv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Di=me.d;me.d={f:iw,r:sw,D:aw,C:ow,L:lw,m:uw,X:hw,S:cw,M:dw};function iw(){var t=Di.f(),i=Rc();return t||i}function sw(t){var i=Ut(t);i!==null&&i.tag===5&&i.type==="form"?hy(i):Di.r(t)}var xo=typeof document>"u"?null:document;function Uv(t,i,a){var l=xo;if(l&&typeof i=="string"&&i){var d=It(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),Lv.has(d)||(Lv.add(d),t={rel:t,crossOrigin:a,href:i},l.querySelector(d)===null&&(i=l.createElement("link"),fn(i,"link",t),ct(i),l.head.appendChild(i)))}}function aw(t){Di.D(t),Uv("dns-prefetch",t,null)}function ow(t,i){Di.C(t,i),Uv("preconnect",t,i)}function lw(t,i,a){Di.L(t,i,a);var l=xo;if(l&&t&&i){var d='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+It(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+It(a.imageSizes)+'"]')):d+='[href="'+It(t)+'"]';var m=d;switch(i){case"style":m=To(t);break;case"script":m=wo(t)}fr.has(m)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),fr.set(m,t),l.querySelector(d)!==null||i==="style"&&l.querySelector(Vl(m))||i==="script"&&l.querySelector(kl(m))||(i=l.createElement("link"),fn(i,"link",t),ct(i),l.head.appendChild(i)))}}function uw(t,i){Di.m(t,i);var a=xo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+It(l)+'"][href="'+It(t)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=wo(t)}if(!fr.has(m)&&(t=I({rel:"modulepreload",href:t},i),fr.set(m,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(m)))return}l=a.createElement("link"),fn(l,"link",t),ct(l),a.head.appendChild(l)}}}function cw(t,i,a){Di.S(t,i,a);var l=xo;if(l&&t){var d=jn(l).hoistableStyles,m=To(t);i=i||"default";var b=d.get(m);if(!b){var x={loading:0,preload:null};if(b=l.querySelector(Vl(m)))x.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=fr.get(m))&&Kf(t,a);var N=b=l.createElement("link");ct(N),fn(N,"link",t),N._p=new Promise(function(U,J){N.onload=U,N.onerror=J}),N.addEventListener("load",function(){x.loading|=1}),N.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Vc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:x},d.set(m,b)}}}function hw(t,i){Di.X(t,i);var a=xo;if(a&&t){var l=jn(a).hoistableScripts,d=wo(t),m=l.get(d);m||(m=a.querySelector(kl(d)),m||(t=I({src:t,async:!0},i),(i=fr.get(d))&&Qf(t,i),m=a.createElement("script"),ct(m),fn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function dw(t,i){Di.M(t,i);var a=xo;if(a&&t){var l=jn(a).hoistableScripts,d=wo(t),m=l.get(d);m||(m=a.querySelector(kl(d)),m||(t=I({src:t,async:!0,type:"module"},i),(i=fr.get(d))&&Qf(t,i),m=a.createElement("script"),ct(m),fn(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function zv(t,i,a,l){var d=(d=Lt.current)?jc(d):null;if(!d)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=To(a.href),a=jn(d).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=To(a.href);var m=jn(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Vl(t)))&&!m._p&&(b.instance=m,b.state.loading=5),fr.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},fr.set(t,a),m||fw(d,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=wo(a),a=jn(d).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+It(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Bv(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function fw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),fn(i,"link",a),ct(i),t.head.appendChild(i))}function wo(t){return'[src="'+It(t)+'"]'}function kl(t){return"script[async]"+t}function Hv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+It(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var d=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),fn(l,"style",d),Vc(l,a.precedence,t),i.instance=l;case"stylesheet":d=To(a.href);var m=t.querySelector(Vl(d));if(m)return i.state.loading|=4,i.instance=m,ct(m),m;l=Bv(a),(d=fr.get(d))&&Kf(l,d),m=(t.ownerDocument||t).createElement("link"),ct(m);var b=m;return b._p=new Promise(function(x,N){b.onload=x,b.onerror=N}),fn(m,"link",l),i.state.loading|=4,Vc(m,a.precedence,t),i.instance=m;case"script":return m=wo(a.src),(d=t.querySelector(kl(m)))?(i.instance=d,ct(d),d):(l=a,(d=fr.get(m))&&(l=I({},a),Qf(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),ct(d),fn(d,"link",l),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Vc(l,a.precedence,t));return i.instance}function Vc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,b=0;b<l.length;b++){var x=l[b];if(x.dataset.precedence===i)m=x;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Kf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Qf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function qv(t,i,a){if(kc===null){var l=new Map,d=kc=new Map;d.set(a,l)}else d=kc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var m=a[d];if(!(m[Rn]||m[ve]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(i)||"";b=t+b;var x=l.get(b);x?x.push(m):l.set(b,[m])}}return l}function Fv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function mw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function pw(){}function gw(t,i,a){if(Ll===null)throw Error(s(475));var l=Ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=To(a.href),m=t.querySelector(Vl(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Lc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=m,ct(m);return}m=t.ownerDocument||t,a=Bv(a),(d=fr.get(d))&&Kf(a,d),m=m.createElement("link"),ct(m);var b=m;b._p=new Promise(function(x,N){b.onload=x,b.onerror=N}),fn(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Lc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function yw(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&Yf(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Yf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Lc(){if(this.count--,this.count===0){if(this.stylesheets)Yf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function Yf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,i.forEach(vw,t),Uc=null,Lc.call(t))}function vw(t,i){if(!(i.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}d=i.instance,b=d.getAttribute("data-precedence"),m=a.get(b)||l,m===l&&a.set(null,d),a.set(b,d),this.count++,l=Lc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:C,Provider:null,Consumer:null,_currentValue:Pe,_currentValue2:Pe,_threadCount:0};function _w(t,i,a,l,d,m,b,x){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Y(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Y(0),this.hiddenUpdates=Y(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Kv(t,i,a,l,d,m,b,x,N,U,J,ie){return t=new _w(t,i,a,b,x,N,U,ie),i=1,m===!0&&(i|=24),m=hr(3,null,null,i),t.current=m,m.stateNode=t,i=Sd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},af(m),t}function Qv(t){return t?(t=to,t):to}function Yv(t,i,a,l,d,m){d=Qv(d),l.context===null?l.context=d:l.pendingContext=d,l=os(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=ls(t,l,i),a!==null&&(Dn(a,t,i),xl(a,t,i))}function $v(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $f(t,i){$v(t,i),(t=t.alternate)&&$v(t,i)}function Xv(t){if(t.tag===13){var i=es(t,67108864);i!==null&&Dn(i,t,67108864),$f(t,67108864)}}var zc=!0;function bw(t,i,a,l){var d=S.T;S.T=null;var m=me.p;try{me.p=2,Xf(t,i,a,l)}finally{me.p=m,S.T=d}}function Ew(t,i,a,l){var d=S.T;S.T=null;var m=me.p;try{me.p=8,Xf(t,i,a,l)}finally{me.p=m,S.T=d}}function Xf(t,i,a,l){if(zc){var d=Wf(l);if(d===null)Lf(t,i,l,Bc,a),Zv(t,l);else if(Tw(d,t,i,a,l))l.stopPropagation();else if(Zv(t,l),i&4&&-1<xw.indexOf(t)){for(;d!==null;){var m=Ut(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=vn(m.pendingLanes);if(b!==0){var x=m;for(x.pendingLanes|=2,x.entangledLanes|=2;b;){var N=1<<31-en(b);x.entanglements[1]|=N,b&=~N}Yr(m),(Rt&6)===0&&(wc=Zt()+500,Ml(0))}}break;case 13:x=es(m,2),x!==null&&Dn(x,m,2),Rc(),$f(m,2)}if(m=Wf(l),m===null&&Lf(t,i,l,Bc,a),m===d)break;d=m}d!==null&&l.stopPropagation()}else Lf(t,i,l,null,a)}}function Wf(t){return t=qa(t),Zf(t)}var Bc=null;function Zf(t){if(Bc=null,t=jt(t),t!==null){var i=Ee(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Be(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Bc=t,null}function Wv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case mt:return 2;case Pt:return 8;case zn:case La:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var Jf=!1,ps=null,gs=null,ys=null,zl=new Map,Bl=new Map,vs=[],xw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zv(t,i){switch(t){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function Hl(t,i,a,l,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},i!==null&&(i=Ut(i),i!==null&&Xv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function Tw(t,i,a,l,d){switch(i){case"focusin":return ps=Hl(ps,t,i,a,l,d),!0;case"dragenter":return gs=Hl(gs,t,i,a,l,d),!0;case"mouseover":return ys=Hl(ys,t,i,a,l,d),!0;case"pointerover":var m=d.pointerId;return zl.set(m,Hl(zl.get(m)||null,t,i,a,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Bl.set(m,Hl(Bl.get(m)||null,t,i,a,l,d)),!0}return!1}function Jv(t){var i=jt(t.target);if(i!==null){var a=Ee(i);if(a!==null){if(i=a.tag,i===13){if(i=Be(a),i!==null){t.blockedOn=i,fe(t.priority,function(){if(a.tag===13){var l=Kn(),d=es(a,l);d!==null&&Dn(d,a,l),$f(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);tr=l,a.target.dispatchEvent(l),tr=null}else return i=Ut(a),i!==null&&Xv(i),t.blockedOn=a,!1;i.shift()}return!0}function e0(t,i,a){Hc(t)&&a.delete(i)}function ww(){Jf=!1,ps!==null&&Hc(ps)&&(ps=null),gs!==null&&Hc(gs)&&(gs=null),ys!==null&&Hc(ys)&&(ys=null),zl.forEach(e0),Bl.forEach(e0)}function qc(t,i){t.blockedOn===i&&(t.blockedOn=null,Jf||(Jf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ww)))}var Fc=null;function t0(t){Fc!==t&&(Fc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Fc===t&&(Fc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],d=t[i+2];if(typeof l!="function"){if(Zf(l||a)===null)continue;break}var m=Ut(a);m!==null&&(t.splice(i,3),i-=3,Bd(m,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function ql(t){function i(N){return qc(N,t)}ps!==null&&qc(ps,t),gs!==null&&qc(gs,t),ys!==null&&qc(ys,t),zl.forEach(i),Bl.forEach(i);for(var a=0;a<vs.length;a++){var l=vs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vs.length&&(a=vs[0],a.blockedOn===null);)Jv(a),a.blockedOn===null&&vs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],b=d[Ie]||null;if(typeof m=="function")b||t0(a);else if(b){var x=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Ie]||null)x=b.formAction;else if(Zf(d)!==null)continue}else x=b.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),t0(a)}}}function em(t){this._internalRoot=t}Gc.prototype.render=em.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Kn();Yv(a,l,t,i,null,null)},Gc.prototype.unmount=em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&_o(),Yv(t.current,2,null,t,null,null),Rc(),i[at]=null}};function Gc(t){this._internalRoot=t}Gc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Te();t={blockedOn:null,target:t,priority:i};for(var a=0;a<vs.length&&i!==0&&i<vs[a].priority;a++);vs.splice(a,0,t),a===0&&Jv(t)}};var n0=e.version;if(n0!=="19.0.0")throw Error(s(527,n0,"19.0.0"));me.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=se(i),t=t!==null?pe(t):null,t=t===null?null:t.stateNode,t};var Sw={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:jt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{_r=Kc.inject(Sw),Jt=Kc}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",d=_y,m=by,b=Ey,x=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(x=i.unstable_transitionCallbacks)),i=Kv(t,1,!1,null,null,a,l,d,m,b,x,null),t[at]=i.current,kf(t.nodeType===8?t.parentNode:t),new em(i)},Gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,d="",m=_y,b=by,x=Ey,N=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),i=Kv(t,1,!0,i,a??null,l,d,m,b,x,N,U),i.context=Qv(null),a=i.current,l=Kn(),d=os(l),d.callback=null,ls(a,d,l),i.current.lanes=l,te(i,l),Yr(i),t[at]=i.current,kf(t),new Gc(i)},Gl.version="19.0.0",Gl}var d0;function Pw(){if(d0)return rm.exports;d0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=Mw(),rm.exports}var jw=Pw(),Kl={},f0;function Vw(){if(f0)return Kl;f0=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=h,Kl.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,C){const V=new u,X=R.length;if(X<2)return V;const q=(C==null?void 0:C.decode)||E;let W=0;do{const ee=R.indexOf("=",W);if(ee===-1)break;const ae=R.indexOf(";",W),_e=ae===-1?X:ae;if(ee>_e){W=R.lastIndexOf(";",ee-1)+1;continue}const L=f(R,W,ee),he=p(R,ee,L),O=R.slice(L,he);if(V[O]===void 0){let A=f(R,ee+1,_e),S=p(R,_e,A);const I=q(R.slice(A,S));V[O]=I}W=_e+1}while(W<X);return V}function f(R,C,V){do{const X=R.charCodeAt(C);if(X!==32&&X!==9)return C}while(++C<V);return V}function p(R,C,V){for(;C>V;){const X=R.charCodeAt(--C);if(X!==32&&X!==9)return C+1}return V}function g(R,C,V){const X=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=X(C);if(!e.test(q))throw new TypeError(`argument val is invalid: ${C}`);let W=R+"="+q;if(!V)return W;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);W+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);W+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);W+="; Path="+V.path}if(V.expires){if(!w(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);W+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(W+="; HttpOnly"),V.secure&&(W+="; Secure"),V.partitioned&&(W+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return W}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function w(R){return o.call(R)==="[object Date]"}return Kl}Vw();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cb=r=>{throw TypeError(r)},kw=(r,e,n)=>e.has(r)||cb("Cannot "+n),om=(r,e,n)=>(kw(r,e,"read from private field"),n?n.call(r):e.get(r)),Lw=(r,e,n)=>e.has(r)?cb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,n),m0="popstate";function Uw(r={}){function e(s,o){let{pathname:u,search:h,hash:f}=s.location;return uu("",{pathname:u,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Os(o)}return Bw(e,n,null,r)}function Je(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zw(){return Math.random().toString(36).substring(2,10)}function p0(r,e){return{usr:r.state,key:r.key,idx:e}}function uu(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?zs(e):e,state:n,key:e&&e.key||s||zw()}}function Os({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function zs(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Bw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,f="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function w(){f="POP";let q=E(),W=q==null?null:q-g;g=q,p&&p({action:f,location:X.location,delta:W})}function R(q,W){f="PUSH";let ee=uu(X.location,q,W);g=E()+1;let ae=p0(ee,g),_e=X.createHref(ee);try{h.pushState(ae,"",_e)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;o.location.assign(_e)}u&&p&&p({action:f,location:X.location,delta:1})}function C(q,W){f="REPLACE";let ee=uu(X.location,q,W);g=E();let ae=p0(ee,g),_e=X.createHref(ee);h.replaceState(ae,"",_e),u&&p&&p({action:f,location:X.location,delta:0})}function V(q){let W=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof q=="string"?q:Os(q);return ee=ee.replace(/ $/,"%20"),Je(W,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,W)}let X={get action(){return f},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(m0,w),p=q,()=>{o.removeEventListener(m0,w),p=null}},createHref(q){return e(o,q)},createURL:V,encodeLocation(q){let W=V(q);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:R,replace:C,go(q){return h.go(q)}};return X}var Xl,g0=class{constructor(r){if(Lw(this,Xl,new Map),r)for(let[e,n]of r)this.set(e,n)}get(r){if(om(this,Xl).has(r))return om(this,Xl).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){om(this,Xl).set(r,e)}};Xl=new WeakMap;var Hw=new Set(["lazy","caseSensitive","path","id","index","children"]);function qw(r){return r.index===!0}function mh(r,e,n=[],s={}){return r.map((o,u)=>{let h=[...n,String(u)],f=typeof o.id=="string"?o.id:h.join("-");if(Je(o.index!==!0||!o.children,"Cannot specify children on an index route"),Je(!s[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),qw(o)){let p={...o,...e(o),id:f};return s[f]=p,p}else{let p={...o,...e(o),id:f,children:void 0};return s[f]=p,o.children&&(p.children=mh(o.children,e,h,s)),p}})}function xs(r,e,n="/"){return th(r,e,n,!1)}function th(r,e,n,s){let o=typeof e=="string"?zs(e):e,u=gr(o.pathname||"/",n);if(u==null)return null;let h=hb(r);Gw(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let g=nS(u);f=eS(h[p],g,s)}return f}function Fw(r,e){let{route:n,pathname:s,params:o}=r;return{id:n.id,pathname:s,params:o,data:e[n.id],handle:n.handle}}function hb(r,e=[],n=[],s=""){let o=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(Je(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Wr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(Je(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),hb(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Zw(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))o(u,h);else for(let p of db(u.path))o(u,h,p)}),e}function db(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=db(s.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function Gw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Jw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Kw=/^:[\w-]+$/,Qw=3,Yw=2,$w=1,Xw=10,Ww=-2,y0=r=>r==="*";function Zw(r,e){let n=r.split("/"),s=n.length;return n.some(y0)&&(s+=Ww),e&&(s+=Yw),n.filter(o=>!y0(o)).reduce((o,u)=>o+(Kw.test(u)?Qw:u===""?$w:Xw),s)}function Jw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],g=f===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),h.push({params:o,pathname:Wr([u,w.pathname]),pathnameBase:sS(Wr([u,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(u=Wr([u,w.pathnameBase]))}return h}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},R)=>{if(E==="*"){let V=f[R]||"";h=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const C=f[R];return w&&!C?g[E]=void 0:g[E]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function tS(r,e=!1,n=!0){gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function gr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function rS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?zs(r):r;return{pathname:n?n.startsWith("/")?n:iS(n,e):e,search:aS(s),hash:oS(o)}}function iS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function lm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jm(r){let e=fb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function ep(r,e,n,s=!1){let o;typeof r=="string"?o=zs(r):(o={...r},Je(!o.pathname||!o.pathname.includes("?"),lm("?","pathname","search",o)),Je(!o.pathname||!o.pathname.includes("#"),lm("#","pathname","hash",o)),Je(!o.search||!o.search.includes("#"),lm("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,f;if(h==null)f=n;else{let w=e.length-1;if(!s&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}f=w>=0?e[w]:"/"}let p=rS(o,f),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Wr=r=>r.join("/").replace(/\/\/+/g,"/"),sS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),aS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,oS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,gh=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function cu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var mb=["POST","PUT","PATCH","DELETE"],lS=new Set(mb),uS=["GET",...mb],cS=new Set(uS),hS=new Set([301,302,303,307,308]),dS=new Set([307,308]),um={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ql={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mS=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),pb="remix-router-transitions",gb=Symbol("ResetLoaderData");function pS(r){const e=r.window?r.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Je(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let s=r.mapRouteProperties||mS,o={},u=mh(r.routes,s,void 0,o),h,f=r.basename||"/",p=r.dataStrategy||bS,g={unstable_middleware:!1,...r.future},E=null,w=new Set,R=null,C=null,V=null,X=r.hydrationData!=null,q=xs(u,r.history.location,f),W=!1,ee=null;if(q==null&&!r.patchRoutesOnNavigation){let M=mr(404,{pathname:r.history.location.pathname}),{matches:z,route:Y}=C0(u);q=z,ee={[Y.id]:M}}q&&!r.hydrationData&&vn(q,u,r.history.location.pathname).active&&(q=null);let ae;if(q)if(q.some(M=>M.route.lazy))ae=!1;else if(!q.some(M=>M.route.loader))ae=!0;else{let M=r.hydrationData?r.hydrationData.loaderData:null,z=r.hydrationData?r.hydrationData.errors:null;if(z){let Y=q.findIndex(te=>z[te.route.id]!==void 0);ae=q.slice(0,Y+1).every(te=>!wm(te.route,M,z))}else ae=q.every(Y=>!wm(Y.route,M,z))}else{ae=!1,q=[];let M=vn(null,u,r.history.location.pathname);M.active&&M.matches&&(W=!0,q=M.matches)}let _e,L={historyAction:r.history.action,location:r.history.location,matches:q,initialized:ae,navigation:um,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||ee,fetchers:new Map,blockers:new Map},he="POP",O=!1,A,S=!1,I=new Map,j=null,B=!1,D=!1,Tt=new Set,qe=new Map,ue=0,Ce=-1,Ee=new Map,Be=new Set,P=new Map,se=new Map,pe=new Set,de=new Map,me,Pe=null;function Ue(){if(E=r.history.listen(({action:M,location:z,delta:Y})=>{if(me){me(),me=void 0;return}gn(de.size===0||Y!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=en({currentLocation:L.location,nextLocation:z,historyAction:M});if(te&&Y!=null){let ce=new Promise(Ae=>{me=Ae});r.history.go(Y*-1),An(te,{state:"blocked",location:z,proceed(){An(te,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),ce.then(()=>r.history.go(Y))},reset(){let Ae=new Map(L.blockers);Ae.set(te,Ql),Ke({blockers:Ae})}});return}return Lt(M,z)}),n){OS(e,I);let M=()=>MS(e,I);e.addEventListener("pagehide",M),j=()=>e.removeEventListener("pagehide",M)}return L.initialized||Lt("POP",L.location,{initialHydration:!0}),_e}function Ct(){E&&E(),j&&j(),w.clear(),A&&A.abort(),L.fetchers.forEach((M,z)=>zn(z)),L.blockers.forEach((M,z)=>Yi(z))}function et(M){return w.add(M),()=>w.delete(M)}function Ke(M,z={}){L={...L,...M};let Y=[],te=[];L.fetchers.forEach((ce,Ae)=>{ce.state==="idle"&&(pe.has(Ae)?Y.push(Ae):te.push(Ae))}),pe.forEach(ce=>{!L.fetchers.has(ce)&&!qe.has(ce)&&Y.push(ce)}),[...w].forEach(ce=>ce(L,{deletedFetchers:Y,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),Y.forEach(ce=>zn(ce)),te.forEach(ce=>L.fetchers.delete(ce))}function $e(M,z,{flushSync:Y}={}){var fe,ye;let te=L.actionData!=null&&L.navigation.formMethod!=null&&Ar(L.navigation.formMethod)&&L.navigation.state==="loading"&&((fe=M.state)==null?void 0:fe._isRedirect)!==!0,ce;z.actionData?Object.keys(z.actionData).length>0?ce=z.actionData:ce=null:te?ce=L.actionData:ce=null;let Ae=z.loaderData?R0(L.loaderData,z.loaderData,z.matches||[],z.errors):L.loaderData,Se=L.blockers;Se.size>0&&(Se=new Map(Se),Se.forEach((ve,Ie)=>Se.set(Ie,Ql)));let xe=O===!0||L.navigation.formMethod!=null&&Ar(L.navigation.formMethod)&&((ye=M.state)==null?void 0:ye._isRedirect)!==!0;h&&(u=h,h=void 0),B||he==="POP"||(he==="PUSH"?r.history.push(M,M.state):he==="REPLACE"&&r.history.replace(M,M.state));let Te;if(he==="POP"){let ve=I.get(L.location.pathname);ve&&ve.has(M.pathname)?Te={currentLocation:L.location,nextLocation:M}:I.has(M.pathname)&&(Te={currentLocation:M,nextLocation:L.location})}else if(S){let ve=I.get(L.location.pathname);ve?ve.add(M.pathname):(ve=new Set([M.pathname]),I.set(L.location.pathname,ve)),Te={currentLocation:L.location,nextLocation:M}}Ke({...z,actionData:ce,loaderData:Ae,historyAction:he,location:M,initialized:!0,navigation:um,revalidation:"idle",restoreScrollPosition:br(M,z.matches||L.matches),preventScrollReset:xe,blockers:Se},{viewTransitionOpts:Te,flushSync:Y===!0}),he="POP",O=!1,S=!1,B=!1,D=!1,Pe==null||Pe.resolve(),Pe=null}async function Wt(M,z){if(typeof M=="number"){r.history.go(M);return}let Y=Tm(L.location,L.matches,f,M,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:te,submission:ce,error:Ae}=v0(!1,Y,z),Se=L.location,xe=uu(L.location,te,z&&z.state);xe={...xe,...r.history.encodeLocation(xe)};let Te=z&&z.replace!=null?z.replace:void 0,fe="PUSH";Te===!0?fe="REPLACE":Te===!1||ce!=null&&Ar(ce.formMethod)&&ce.formAction===L.location.pathname+L.location.search&&(fe="REPLACE");let ye=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,ve=(z&&z.flushSync)===!0,Ie=en({currentLocation:Se,nextLocation:xe,historyAction:fe});if(Ie){An(Ie,{state:"blocked",location:xe,proceed(){An(Ie,{state:"proceeding",proceed:void 0,reset:void 0,location:xe}),Wt(M,z)},reset(){let at=new Map(L.blockers);at.set(Ie,Ql),Ke({blockers:at})}});return}await Lt(fe,xe,{submission:ce,pendingError:Ae,preventScrollReset:ye,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:ve})}function vr(){Pe||(Pe=PS()),Zt(),Ke({revalidation:"loading"});let M=Pe.promise;return L.navigation.state==="submitting"?M:L.navigation.state==="idle"?(Lt(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),M):(Lt(he||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:S===!0}),M)}async function Lt(M,z,Y){A&&A.abort(),A=null,he=M,B=(Y&&Y.startUninterruptedRevalidation)===!0,Xn(L.location,L.matches),O=(Y&&Y.preventScrollReset)===!0,S=(Y&&Y.enableViewTransition)===!0;let te=h||u,ce=Y&&Y.overrideNavigation,Ae=Y!=null&&Y.initialHydration&&L.matches&&L.matches.length>0&&!W?L.matches:xs(te,z,f),Se=(Y&&Y.flushSync)===!0;if(Ae&&L.initialized&&!D&&RS(L.location,z)&&!(Y&&Y.submission&&Ar(Y.submission.formMethod))){$e(z,{matches:Ae},{flushSync:Se});return}let xe=vn(Ae,te,z.pathname);if(xe.active&&xe.matches&&(Ae=xe.matches),!Ae){let{error:yt,notFoundMatches:st,route:xt}=li(z.pathname);$e(z,{matches:st,loaderData:{},errors:{[xt.id]:yt}},{flushSync:Se});return}A=new AbortController;let Te=So(r.history,z,A.signal,Y&&Y.submission),fe=new g0(r.unstable_getContext?await r.unstable_getContext():void 0),ye;if(Y&&Y.pendingError)ye=[Ea(Ae).route.id,{type:"error",error:Y.pendingError}];else if(Y&&Y.submission&&Ar(Y.submission.formMethod)){let yt=await Dr(Te,z,Y.submission,Ae,fe,xe.active,{replace:Y.replace,flushSync:Se});if(yt.shortCircuited)return;if(yt.pendingActionResult){let[st,xt]=yt.pendingActionResult;if(Qn(xt)&&cu(xt.error)&&xt.error.status===404){A=null,$e(z,{matches:yt.matches,loaderData:{},errors:{[st]:xt.error}});return}}Ae=yt.matches||Ae,ye=yt.pendingActionResult,ce=cm(z,Y.submission),Se=!1,xe.active=!1,Te=So(r.history,Te.url,Te.signal)}let{shortCircuited:ve,matches:Ie,loaderData:at,errors:wt}=await Or(Te,z,Ae,fe,xe.active,ce,Y&&Y.submission,Y&&Y.fetcherSubmission,Y&&Y.replace,Y&&Y.initialHydration===!0,Se,ye);ve||(A=null,$e(z,{matches:Ie||Ae,...N0(ye),loaderData:at,errors:wt}))}async function Dr(M,z,Y,te,ce,Ae,Se={}){Zt();let xe=IS(z,Y);if(Ke({navigation:xe},{flushSync:Se.flushSync===!0}),Ae){let ye=await un(te,z.pathname,M.signal);if(ye.type==="aborted")return{shortCircuited:!0};if(ye.type==="error"){let ve=Ea(ye.partialMatches).route.id;return{matches:ye.partialMatches,pendingActionResult:[ve,{type:"error",error:ye.error}]}}else if(ye.matches)te=ye.matches;else{let{notFoundMatches:ve,error:Ie,route:at}=li(z.pathname);return{matches:ve,pendingActionResult:[at.id,{type:"error",error:Ie}]}}}let Te,fe=Wl(te,z);if(!fe.route.action&&!fe.route.lazy)Te={type:"error",error:mr(405,{method:M.method,pathname:z.pathname,routeId:fe.route.id})};else{let ye=await oi("action",M,[fe],te,ce,null);if(Te=ye[fe.route.id],!Te){for(let ve of te)if(ye[ve.route.id]){Te=ye[ve.route.id];break}}if(M.signal.aborted)return{shortCircuited:!0}}if(xa(Te)){let ye;return Se&&Se.replace!=null?ye=Se.replace:ye=w0(Te.response.headers.get("Location"),new URL(M.url),f)===L.location.pathname+L.location.search,await Mn(M,Te,!0,{submission:Y,replace:ye}),{shortCircuited:!0}}if(Qn(Te)){let ye=Ea(te,fe.route.id);return(Se&&Se.replace)!==!0&&(he="PUSH"),{matches:te,pendingActionResult:[ye.route.id,Te]}}return{matches:te,pendingActionResult:[fe.route.id,Te]}}async function Or(M,z,Y,te,ce,Ae,Se,xe,Te,fe,ye,ve){let Ie=Ae||cm(z,Se),at=Se||xe||D0(Ie),wt=!B&&!fe;if(ce){if(wt){let ht=$n(ve);Ke({navigation:Ie,...ht!==void 0?{actionData:ht}:{}},{flushSync:ye})}let He=await un(Y,z.pathname,M.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ht=Ea(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ht]:He.error}}}else if(He.matches)Y=He.matches;else{let{error:ht,notFoundMatches:tn,route:ui}=li(z.pathname);return{matches:tn,loaderData:{},errors:{[ui.id]:ht}}}}let yt=h||u,[st,xt]=b0(r.history,L,Y,at,z,fe===!0,D,Tt,pe,P,Be,yt,f,ve);if(Ce=++ue,st.length===0&&xt.length===0){let He=Mr();return $e(z,{matches:Y,loaderData:{},errors:ve&&Qn(ve[1])?{[ve[0]]:ve[1].error}:null,...N0(ve),...He?{fetchers:new Map(L.fetchers)}:{}},{flushSync:ye}),{shortCircuited:!0}}if(wt){let He={};if(!ce){He.navigation=Ie;let ht=$n(ve);ht!==void 0&&(He.actionData=ht)}xt.length>0&&(He.fetchers=qs(xt)),Ke(He,{flushSync:ye})}xt.forEach(He=>{Pn(He.key),He.controller&&qe.set(He.key,He.controller)});let Rn=()=>xt.forEach(He=>Pn(He.key));A&&A.signal.addEventListener("abort",Rn);let{loaderResults:Bn,fetcherResults:jt}=await Qi(Y,st,xt,M,te);if(M.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Rn),xt.forEach(He=>qe.delete(He.key));let Ut=Qc(Bn);if(Ut)return await Mn(M,Ut.result,!0,{replace:Te}),{shortCircuited:!0};if(Ut=Qc(jt),Ut)return Be.add(Ut.key),await Mn(M,Ut.result,!0,{replace:Te}),{shortCircuited:!0};let{loaderData:Wn,errors:jn}=A0(L,Y,Bn,ve,xt,jt);fe&&L.errors&&(jn={...L.errors,...jn});let ct=Mr(),jr=_r(Ce),Er=ct||jr||xt.length>0;return{matches:Y,loaderData:Wn,errors:jn,...Er?{fetchers:new Map(L.fetchers)}:{}}}function $n(M){if(M&&!Qn(M[1]))return{[M[0]]:M[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function qs(M){return M.forEach(z=>{let Y=L.fetchers.get(z.key),te=Yl(void 0,Y?Y.data:void 0);L.fetchers.set(z.key,te)}),new Map(L.fetchers)}async function Gi(M,z,Y,te){Pn(M);let ce=(te&&te.flushSync)===!0,Ae=h||u,Se=Tm(L.location,L.matches,f,Y,z,te==null?void 0:te.relative),xe=xs(Ae,Se,f),Te=vn(xe,Ae,Se);if(Te.active&&Te.matches&&(xe=Te.matches),!xe){mt(M,z,mr(404,{pathname:Se}),{flushSync:ce});return}let{path:fe,submission:ye,error:ve}=v0(!0,Se,te);if(ve){mt(M,z,ve,{flushSync:ce});return}let Ie=Wl(xe,fe),at=new g0(r.unstable_getContext?await r.unstable_getContext():void 0),wt=(te&&te.preventScrollReset)===!0;if(ye&&Ar(ye.formMethod)){await Ki(M,z,fe,Ie,xe,at,Te.active,ce,wt,ye);return}P.set(M,{routeId:z,path:fe}),await ai(M,z,fe,Ie,xe,at,Te.active,ce,wt,ye)}async function Ki(M,z,Y,te,ce,Ae,Se,xe,Te,fe){Zt(),P.delete(M);function ye(_t){if(!_t.route.action&&!_t.route.lazy){let Zn=mr(405,{method:fe.formMethod,pathname:Y,routeId:z});return mt(M,z,Zn,{flushSync:xe}),!0}return!1}if(!Se&&ye(te))return;let ve=L.fetchers.get(M);Un(M,DS(fe,ve),{flushSync:xe});let Ie=new AbortController,at=So(r.history,Y,Ie.signal,fe);if(Se){let _t=await un(ce,Y,at.signal,M);if(_t.type==="aborted")return;if(_t.type==="error"){mt(M,z,_t.error,{flushSync:xe});return}else if(_t.matches){if(ce=_t.matches,te=Wl(ce,Y),ye(te))return}else{mt(M,z,mr(404,{pathname:Y}),{flushSync:xe});return}}qe.set(M,Ie);let wt=ue,st=(await oi("action",at,[te],ce,Ae,M))[te.route.id];if(at.signal.aborted){qe.get(M)===Ie&&qe.delete(M);return}if(pe.has(M)){if(xa(st)||Qn(st)){Un(M,Es(void 0));return}}else{if(xa(st))if(qe.delete(M),Ce>wt){Un(M,Es(void 0));return}else return Be.add(M),Un(M,Yl(fe)),Mn(at,st,!1,{fetcherSubmission:fe,preventScrollReset:Te});if(Qn(st)){mt(M,z,st.error);return}}let xt=L.navigation.location||L.location,Rn=So(r.history,xt,Ie.signal),Bn=h||u,jt=L.navigation.state!=="idle"?xs(Bn,L.navigation.location,f):L.matches;Je(jt,"Didn't find any matches after fetcher action");let Ut=++ue;Ee.set(M,Ut);let Wn=Yl(fe,st.data);L.fetchers.set(M,Wn);let[jn,ct]=b0(r.history,L,jt,fe,xt,!1,D,Tt,pe,P,Be,Bn,f,[te.route.id,st]);ct.filter(_t=>_t.key!==M).forEach(_t=>{let Zn=_t.key,Gs=L.fetchers.get(Zn),Vr=Yl(void 0,Gs?Gs.data:void 0);L.fetchers.set(Zn,Vr),Pn(Zn),_t.controller&&qe.set(Zn,_t.controller)}),Ke({fetchers:new Map(L.fetchers)});let jr=()=>ct.forEach(_t=>Pn(_t.key));Ie.signal.addEventListener("abort",jr);let{loaderResults:Er,fetcherResults:He}=await Qi(jt,jn,ct,Rn,Ae);if(Ie.signal.aborted)return;Ie.signal.removeEventListener("abort",jr),Ee.delete(M),qe.delete(M),ct.forEach(_t=>qe.delete(_t.key));let ht=Qc(Er);if(ht)return Mn(Rn,ht.result,!1,{preventScrollReset:Te});if(ht=Qc(He),ht)return Be.add(ht.key),Mn(Rn,ht.result,!1,{preventScrollReset:Te});let{loaderData:tn,errors:ui}=A0(L,jt,Er,void 0,ct,He);if(L.fetchers.has(M)){let _t=Es(st.data);L.fetchers.set(M,_t)}_r(Ut),L.navigation.state==="loading"&&Ut>Ce?(Je(he,"Expected pending action"),A&&A.abort(),$e(L.navigation.location,{matches:jt,loaderData:tn,errors:ui,fetchers:new Map(L.fetchers)})):(Ke({errors:ui,loaderData:R0(L.loaderData,tn,jt,ui),fetchers:new Map(L.fetchers)}),D=!1)}async function ai(M,z,Y,te,ce,Ae,Se,xe,Te,fe){let ye=L.fetchers.get(M);Un(M,Yl(fe,ye?ye.data:void 0),{flushSync:xe});let ve=new AbortController,Ie=So(r.history,Y,ve.signal);if(Se){let st=await un(ce,Y,Ie.signal,M);if(st.type==="aborted")return;if(st.type==="error"){mt(M,z,st.error,{flushSync:xe});return}else if(st.matches)ce=st.matches,te=Wl(ce,Y);else{mt(M,z,mr(404,{pathname:Y}),{flushSync:xe});return}}qe.set(M,ve);let at=ue,yt=(await oi("loader",Ie,[te],ce,Ae,M))[te.route.id];if(qe.get(M)===ve&&qe.delete(M),!Ie.signal.aborted){if(pe.has(M)){Un(M,Es(void 0));return}if(xa(yt))if(Ce>at){Un(M,Es(void 0));return}else{Be.add(M),await Mn(Ie,yt,!1,{preventScrollReset:Te});return}if(Qn(yt)){mt(M,z,yt.error);return}Un(M,Es(yt.data))}}async function Mn(M,z,Y,{submission:te,fetcherSubmission:ce,preventScrollReset:Ae,replace:Se}={}){z.response.headers.has("X-Remix-Revalidate")&&(D=!0);let xe=z.response.headers.get("Location");Je(xe,"Expected a Location header on the redirect Response"),xe=w0(xe,new URL(M.url),f);let Te=uu(L.location,xe,{_isRedirect:!0});if(n){let wt=!1;if(z.response.headers.has("X-Remix-Reload-Document"))wt=!0;else if(tp.test(xe)){const yt=r.history.createURL(xe);wt=yt.origin!==e.location.origin||gr(yt.pathname,f)==null}if(wt){Se?e.location.replace(xe):e.location.assign(xe);return}}A=null;let fe=Se===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ye,formAction:ve,formEncType:Ie}=L.navigation;!te&&!ce&&ye&&ve&&Ie&&(te=D0(L.navigation));let at=te||ce;if(dS.has(z.response.status)&&at&&Ar(at.formMethod))await Lt(fe,Te,{submission:{...at,formAction:xe},preventScrollReset:Ae||O,enableViewTransition:Y?S:void 0});else{let wt=cm(Te,te);await Lt(fe,Te,{overrideNavigation:wt,fetcherSubmission:ce,preventScrollReset:Ae||O,enableViewTransition:Y?S:void 0})}}async function oi(M,z,Y,te,ce,Ae){let Se,xe={};try{Se=await xS(p,M,z,Y,te,Ae,o,s,ce,g.unstable_middleware)}catch(Te){return Y.forEach(fe=>{xe[fe.route.id]={type:"error",error:Te}}),xe}for(let[Te,fe]of Object.entries(Se))if(NS(fe)){let ye=fe.result;xe[Te]={type:"redirect",response:SS(ye,z,Te,te,f)}}else xe[Te]=await wS(fe);return xe}async function Qi(M,z,Y,te,ce){let Ae=oi("loader",te,z,M,ce,null),Se=Promise.all(Y.map(async fe=>{if(fe.matches&&fe.match&&fe.controller){let ve=(await oi("loader",So(r.history,fe.path,fe.controller.signal),[fe.match],fe.matches,ce,fe.key))[fe.match.route.id];return{[fe.key]:ve}}else return Promise.resolve({[fe.key]:{type:"error",error:mr(404,{pathname:fe.path})}})})),xe=await Ae,Te=(await Se).reduce((fe,ye)=>Object.assign(fe,ye),{});return{loaderResults:xe,fetcherResults:Te}}function Zt(){D=!0,P.forEach((M,z)=>{qe.has(z)&&Tt.add(z),Pn(z)})}function Un(M,z,Y={}){L.fetchers.set(M,z),Ke({fetchers:new Map(L.fetchers)},{flushSync:(Y&&Y.flushSync)===!0})}function mt(M,z,Y,te={}){let ce=Ea(L.matches,z);zn(M),Ke({errors:{[ce.route.id]:Y},fetchers:new Map(L.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Pt(M){return se.set(M,(se.get(M)||0)+1),pe.has(M)&&pe.delete(M),L.fetchers.get(M)||fS}function zn(M){let z=L.fetchers.get(M);qe.has(M)&&!(z&&z.state==="loading"&&Ee.has(M))&&Pn(M),P.delete(M),Ee.delete(M),Be.delete(M),pe.delete(M),Tt.delete(M),L.fetchers.delete(M)}function La(M){let z=(se.get(M)||0)-1;z<=0?(se.delete(M),pe.add(M)):se.set(M,z),Ke({fetchers:new Map(L.fetchers)})}function Pn(M){let z=qe.get(M);z&&(z.abort(),qe.delete(M))}function Ua(M){for(let z of M){let Y=Pt(z),te=Es(Y.data);L.fetchers.set(z,te)}}function Mr(){let M=[],z=!1;for(let Y of Be){let te=L.fetchers.get(Y);Je(te,`Expected fetcher: ${Y}`),te.state==="loading"&&(Be.delete(Y),M.push(Y),z=!0)}return Ua(M),z}function _r(M){let z=[];for(let[Y,te]of Ee)if(te<M){let ce=L.fetchers.get(Y);Je(ce,`Expected fetcher: ${Y}`),ce.state==="loading"&&(Pn(Y),Ee.delete(Y),z.push(Y))}return Ua(z),z.length>0}function Jt(M,z){let Y=L.blockers.get(M)||Ql;return de.get(M)!==z&&de.set(M,z),Y}function Yi(M){L.blockers.delete(M),de.delete(M)}function An(M,z){let Y=L.blockers.get(M)||Ql;Je(Y.state==="unblocked"&&z.state==="blocked"||Y.state==="blocked"&&z.state==="blocked"||Y.state==="blocked"&&z.state==="proceeding"||Y.state==="blocked"&&z.state==="unblocked"||Y.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${Y.state} -> ${z.state}`);let te=new Map(L.blockers);te.set(M,z),Ke({blockers:te})}function en({currentLocation:M,nextLocation:z,historyAction:Y}){if(de.size===0)return;de.size>1&&gn(!1,"A router only supports one blocker at a time");let te=Array.from(de.entries()),[ce,Ae]=te[te.length-1],Se=L.blockers.get(ce);if(!(Se&&Se.state==="proceeding")&&Ae({currentLocation:M,nextLocation:z,historyAction:Y}))return ce}function li(M){let z=mr(404,{pathname:M}),Y=h||u,{matches:te,route:ce}=C0(Y);return{notFoundMatches:te,route:ce,error:z}}function za(M,z,Y){if(R=M,V=z,C=Y||null,!X&&L.navigation===um){X=!0;let te=br(L.location,L.matches);te!=null&&Ke({restoreScrollPosition:te})}return()=>{R=null,V=null,C=null}}function Fs(M,z){return C&&C(M,z.map(te=>Fw(te,L.loaderData)))||M.key}function Xn(M,z){if(R&&V){let Y=Fs(M,z);R[Y]=V()}}function br(M,z){if(R){let Y=Fs(M,z),te=R[Y];if(typeof te=="number")return te}return null}function vn(M,z,Y){if(r.patchRoutesOnNavigation)if(M){if(Object.keys(M[0].params).length>0)return{active:!0,matches:th(z,Y,f,!0)}}else return{active:!0,matches:th(z,Y,f,!0)||[]};return{active:!1,matches:null}}async function un(M,z,Y,te){if(!r.patchRoutesOnNavigation)return{type:"success",matches:M};let ce=M;for(;;){let Ae=h==null,Se=h||u,xe=o;try{await r.patchRoutesOnNavigation({signal:Y,path:z,matches:ce,fetcherKey:te,patch:(ye,ve)=>{Y.aborted||x0(ye,ve,Se,xe,s)}})}catch(ye){return{type:"error",error:ye,partialMatches:ce}}finally{Ae&&!Y.aborted&&(u=[...u])}if(Y.aborted)return{type:"aborted"};let Te=xs(Se,z,f);if(Te)return{type:"success",matches:Te};let fe=th(Se,z,f,!0);if(!fe||ce.length===fe.length&&ce.every((ye,ve)=>ye.route.id===fe[ve].route.id))return{type:"success",matches:null};ce=fe}}function Pr(M){o={},h=mh(M,s,void 0,o)}function $i(M,z){let Y=h==null;x0(M,z,h||u,o,s),Y&&(u=[...u],Ke({}))}return _e={get basename(){return f},get future(){return g},get state(){return L},get routes(){return u},get window(){return e},initialize:Ue,subscribe:et,enableScrollRestoration:za,navigate:Wt,fetch:Gi,revalidate:vr,createHref:M=>r.history.createHref(M),encodeLocation:M=>r.history.encodeLocation(M),getFetcher:Pt,deleteFetcher:La,dispose:Ct,getBlocker:Jt,deleteBlocker:Yi,patchRoutes:$i,_internalFetchControllers:qe,_internalSetRoutes:Pr},_e}function gS(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Tm(r,e,n,s,o,u){let h,f;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){f=g;break}}else h=e,f=e[e.length-1];let p=ep(s||".",Jm(h),gr(r.pathname,n)||r.pathname,u==="path");if(s==null&&(p.search=r.search,p.hash=r.hash),(s==null||s===""||s===".")&&f){let g=np(p.search);if(f.route.index&&!g)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&g){let E=new URLSearchParams(p.search),w=E.getAll("index");E.delete("index"),w.filter(C=>C).forEach(C=>E.append("index",C));let R=E.toString();p.search=R?`?${R}`:""}}return n!=="/"&&(p.pathname=p.pathname==="/"?n:Wr([n,p.pathname])),Os(p)}function v0(r,e,n){if(!n||!gS(n))return{path:e};if(n.formMethod&&!CS(n.formMethod))return{path:e,error:mr(405,{method:n.formMethod})};let s=()=>({path:e,error:mr(400,{type:"invalid-body"})}),u=(n.formMethod||"get").toUpperCase(),h=_b(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Ar(u))return s();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((R,[C,V])=>`${R}${C}=${V}
`,""):String(n.body);return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Ar(u))return s();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:u,formAction:h,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return s()}}}Je(typeof FormData=="function","FormData is not available in this environment");let f,p;if(n.formData)f=Sm(n.formData),p=n.formData;else if(n.body instanceof FormData)f=Sm(n.body),p=n.body;else if(n.body instanceof URLSearchParams)f=n.body,p=S0(f);else if(n.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(n.body),p=S0(f)}catch{return s()}let g={formMethod:u,formAction:h,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Ar(g.formMethod))return{path:e,submission:g};let E=zs(e);return r&&E.search&&np(E.search)&&f.append("index",""),E.search=`?${f}`,{path:Os(E),submission:g}}function _0(r,e,n=!1){let s=r.findIndex(o=>o.route.id===e);return s>=0?r.slice(0,n?s+1:s):r}function b0(r,e,n,s,o,u,h,f,p,g,E,w,R,C){let V=C?Qn(C[1])?C[1].error:C[1].data:void 0,X=r.createURL(e.location),q=r.createURL(o),W=n;u&&e.errors?W=_0(n,Object.keys(e.errors)[0],!0):C&&Qn(C[1])&&(W=_0(n,C[0]));let ee=C?C[1].statusCode:void 0,ae=ee&&ee>=400,_e=W.filter((he,O)=>{let{route:A}=he;if(A.lazy)return!0;if(A.loader==null)return!1;if(u)return wm(A,e.loaderData,e.errors);if(yS(e.loaderData,e.matches[O],he))return!0;let S=e.matches[O],I=he;return E0(he,{currentUrl:X,currentParams:S.params,nextUrl:q,nextParams:I.params,...s,actionResult:V,actionStatus:ee,defaultShouldRevalidate:ae?!1:h||X.pathname+X.search===q.pathname+q.search||X.search!==q.search||vS(S,I)})}),L=[];return g.forEach((he,O)=>{if(u||!n.some(B=>B.route.id===he.routeId)||p.has(O))return;let A=xs(w,he.path,R);if(!A){L.push({key:O,routeId:he.routeId,path:he.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(O),I=Wl(A,he.path),j=!1;E.has(O)?j=!1:f.has(O)?(f.delete(O),j=!0):S&&S.state!=="idle"&&S.data===void 0?j=h:j=E0(I,{currentUrl:X,currentParams:e.matches[e.matches.length-1].params,nextUrl:q,nextParams:n[n.length-1].params,...s,actionResult:V,actionStatus:ee,defaultShouldRevalidate:ae?!1:h}),j&&L.push({key:O,routeId:he.routeId,path:he.path,matches:A,match:I,controller:new AbortController})}),[_e,L]}function wm(r,e,n){if(r.lazy)return!0;if(!r.loader)return!1;let s=e!=null&&e[r.id]!==void 0,o=n!=null&&n[r.id]!==void 0;return!s&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!s&&!o}function yS(r,e,n){let s=!e||n.route.id!==e.route.id,o=!r.hasOwnProperty(n.route.id);return s||o}function vS(r,e){let n=r.route.path;return r.pathname!==e.pathname||n!=null&&n.endsWith("*")&&r.params["*"]!==e.params["*"]}function E0(r,e){if(r.route.shouldRevalidate){let n=r.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function x0(r,e,n,s,o){let u;if(r){let p=s[r];Je(p,`No route found to patch children into: routeId = ${r}`),p.children||(p.children=[]),u=p.children}else u=n;let h=e.filter(p=>!u.some(g=>yb(p,g))),f=mh(h,o,[r||"_","patch",String((u==null?void 0:u.length)||"0")],s);u.push(...f)}function yb(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((n,s)=>{var o;return(o=e.children)==null?void 0:o.some(u=>yb(n,u))}):!1}async function _S(r,e,n){if(!r.lazy)return;let s=await r.lazy();if(!r.lazy)return;let o=n[r.id];Je(o,"No route found in manifest");let u={};for(let h in s){let p=o[h]!==void 0&&h!=="hasErrorBoundary";gn(!p,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!Hw.has(h)&&(u[h]=s[h])}Object.assign(o,u),Object.assign(o,{...e(o),lazy:void 0})}async function T0(r){let e=r.matches.filter(o=>o.shouldLoad),n={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,u)=>{n[e[u].route.id]=o}),n}async function bS(r){return r.matches.some(e=>e.route.unstable_middleware)?ES(r,!1,()=>T0(r),(e,n)=>({[n]:{type:"error",result:e}})):T0(r)}async function ES(r,e,n,s){let{matches:o,request:u,params:h,context:f}=r,p={handlerResult:void 0};try{let g=o.flatMap(w=>w.route.unstable_middleware?w.route.unstable_middleware.map(R=>[w.route.id,R]):[]),E=await vb({request:u,params:h,context:f},g,e,p,n);return e?E:p.handlerResult}catch(g){if(!p.middlewareError)throw g;let E=await s(p.middlewareError.error,p.middlewareError.routeId);return p.handlerResult?Object.assign(p.handlerResult,E):E}}async function vb(r,e,n,s,o,u=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let f=e[u];if(!f)return s.handlerResult=await o(),s.handlerResult;let[p,g]=f,E=!1,w,R=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await vb(r,e,n,s,o,u+1)};try{let C=await g({request:r.request,params:r.params,context:r.context},R);return E?C===void 0?w:C:R()}catch(C){throw s.middlewareError?s.middlewareError.error!==C&&(s.middlewareError={routeId:p,error:C}):s.middlewareError={routeId:p,error:C},C}}async function xS(r,e,n,s,o,u,h,f,p,g){let E=o.map(C=>C.route.lazy?_S(C.route,f,h):void 0);g&&await Promise.all(E);let w=o.map((C,V)=>{let X=E[V],q=s.some(ee=>ee.route.id===C.route.id);return{...C,shouldLoad:q,resolve:async ee=>(ee&&n.method==="GET"&&(C.route.lazy||C.route.loader)&&(q=!0),q?TS(e,n,C,X,ee,p):Promise.resolve({type:"data",result:void 0}))}}),R=await r({matches:w,request:n,params:o[0].params,fetcherKey:u,context:p});try{await Promise.all(E)}catch{}return R}async function TS(r,e,n,s,o,u){let h,f,p=g=>{let E,w=new Promise((V,X)=>E=X);f=()=>E(),e.signal.addEventListener("abort",f);let R=V=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${n.route.id}]`)):g({request:e,params:n.params,context:u},...V!==void 0?[V]:[]),C=(async()=>{try{return{type:"data",result:await(o?o(X=>R(X)):R())}}catch(V){return{type:"error",result:V}}})();return Promise.race([C,w])};try{let g=n.route[r];if(s)if(g){let E,[w]=await Promise.all([p(g).catch(R=>{E=R}),s]);if(E!==void 0)throw E;h=w}else if(await s,g=n.route[r],g)h=await p(g);else if(r==="action"){let E=new URL(e.url),w=E.pathname+E.search;throw mr(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:"data",result:void 0};else if(g)h=await p(g);else{let E=new URL(e.url),w=E.pathname+E.search;throw mr(404,{pathname:w})}}catch(g){return{type:"error",result:g}}finally{f&&e.signal.removeEventListener("abort",f)}return h}async function wS(r){var s,o,u,h,f,p;let{result:e,type:n}=r;if(bb(e)){let g;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(E){return{type:"error",error:E}}return n==="error"?{type:"error",error:new gh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return n==="error"?I0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(s=e.init)==null?void 0:s.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new gh(((u=e.init)==null?void 0:u.status)||500,void 0,e.data),statusCode:cu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:cu(e)?e.status:void 0}:I0(e)?{type:"data",data:e.data,statusCode:(f=e.init)==null?void 0:f.status,headers:(p=e.init)!=null&&p.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function SS(r,e,n,s,o){let u=r.headers.get("Location");if(Je(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!tp.test(u)){let h=s.slice(0,s.findIndex(f=>f.route.id===n)+1);u=Tm(new URL(e.url),h,o,u),r.headers.set("Location",u)}return r}function w0(r,e,n){if(tp.test(r)){let s=r,o=s.startsWith("//")?new URL(e.protocol+s):new URL(s),u=gr(o.pathname,n)!=null;if(o.origin===e.origin&&u)return o.pathname+o.search+o.hash}return r}function So(r,e,n,s){let o=r.createURL(_b(e)).toString(),u={signal:n};if(s&&Ar(s.formMethod)){let{formMethod:h,formEncType:f}=s;u.method=h.toUpperCase(),f==="application/json"?(u.headers=new Headers({"Content-Type":f}),u.body=JSON.stringify(s.json)):f==="text/plain"?u.body=s.text:f==="application/x-www-form-urlencoded"&&s.formData?u.body=Sm(s.formData):u.body=s.formData}return new Request(o,u)}function Sm(r){let e=new URLSearchParams;for(let[n,s]of r.entries())e.append(n,typeof s=="string"?s:s.name);return e}function S0(r){let e=new FormData;for(let[n,s]of r.entries())e.append(n,s);return e}function AS(r,e,n,s=!1,o=!1){let u={},h=null,f,p=!1,g={},E=n&&Qn(n[1])?n[1].error:void 0;return r.forEach(w=>{if(!(w.route.id in e))return;let R=w.route.id,C=e[R];if(Je(!xa(C),"Cannot handle redirect results in processLoaderData"),Qn(C)){let V=C.error;if(E!==void 0&&(V=E,E=void 0),h=h||{},o)h[R]=V;else{let X=Ea(r,R);h[X.route.id]==null&&(h[X.route.id]=V)}s||(u[R]=gb),p||(p=!0,f=cu(C.error)?C.error.status:500),C.headers&&(g[R]=C.headers)}else u[R]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(f=C.statusCode),C.headers&&(g[R]=C.headers)}),E!==void 0&&n&&(h={[n[0]]:E},u[n[0]]=void 0),{loaderData:u,errors:h,statusCode:f||200,loaderHeaders:g}}function A0(r,e,n,s,o,u){let{loaderData:h,errors:f}=AS(e,n,s);return o.forEach(p=>{let{key:g,match:E,controller:w}=p,R=u[g];if(Je(R,"Did not find corresponding fetcher result"),!(w&&w.signal.aborted))if(Qn(R)){let C=Ea(r.matches,E==null?void 0:E.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:R.error}),r.fetchers.delete(g)}else if(xa(R))Je(!1,"Unhandled fetcher revalidation redirect");else{let C=Es(R.data);r.fetchers.set(g,C)}}),{loaderData:h,errors:f}}function R0(r,e,n,s){let o=Object.entries(e).filter(([,u])=>u!==gb).reduce((u,[h,f])=>(u[h]=f,u),{});for(let u of n){let h=u.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&u.route.loader&&(o[h]=r[h]),s&&s.hasOwnProperty(h))break}return o}function N0(r){return r?Qn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ea(r,e){return(e?r.slice(0,r.findIndex(s=>s.route.id===e)+1):[...r]).reverse().find(s=>s.route.hasErrorBoundary===!0)||r[0]}function C0(r){let e=r.length===1?r[0]:r.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(r,{pathname:e,routeId:n,method:s,type:o,message:u}={}){let h="Unknown Server Error",f="Unknown @remix-run/router error";return r===400?(h="Bad Request",s&&e&&n?f=`You made a ${s} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:o==="invalid-body"&&(f="Unable to encode submission body")):r===403?(h="Forbidden",f=`Route "${n}" does not match URL "${e}"`):r===404?(h="Not Found",f=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",s&&e&&n?f=`You made a ${s.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:s&&(f=`Invalid request method "${s.toUpperCase()}"`)),new gh(r||500,h,new Error(f),!0)}function Qc(r){let e=Object.entries(r);for(let n=e.length-1;n>=0;n--){let[s,o]=e[n];if(xa(o))return{key:s,result:o}}}function _b(r){let e=typeof r=="string"?zs(r):r;return Os({...e,hash:""})}function RS(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function NS(r){return bb(r.result)&&hS.has(r.result.status)}function Qn(r){return r.type==="error"}function xa(r){return(r&&r.type)==="redirect"}function I0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function bb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function CS(r){return cS.has(r.toUpperCase())}function Ar(r){return lS.has(r.toUpperCase())}function np(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Wl(r,e){let n=typeof e=="string"?zs(e).search:e.search;if(r[r.length-1].route.index&&np(n||""))return r[r.length-1];let s=fb(r);return s[s.length-1]}function D0(r){let{formMethod:e,formAction:n,formEncType:s,text:o,formData:u,json:h}=r;if(!(!e||!n||!s)){if(o!=null)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:void 0,text:o};if(u!=null)return{formMethod:e,formAction:n,formEncType:s,formData:u,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:n,formEncType:s,formData:void 0,json:h,text:void 0}}}function cm(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function IS(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Yl(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function DS(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Es(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function OS(r,e){try{let n=r.sessionStorage.getItem(pb);if(n){let s=JSON.parse(n);for(let[o,u]of Object.entries(s||{}))u&&Array.isArray(u)&&e.set(o,new Set(u||[]))}}catch{}}function MS(r,e){if(e.size>0){let n={};for(let[s,o]of e)n[s]=[...o];try{r.sessionStorage.setItem(pb,JSON.stringify(n))}catch(s){gn(!1,`Failed to save applied view transitions in sessionStorage (${s}).`)}}}function PS(){let r,e,n=new Promise((s,o)=>{r=async u=>{s(u);try{await n}catch{}},e=async u=>{o(u);try{await n}catch{}}});return{promise:n,resolve:r,reject:e}}var Oa=K.createContext(null);Oa.displayName="DataRouter";var bu=K.createContext(null);bu.displayName="DataRouterState";var rp=K.createContext({isTransitioning:!1});rp.displayName="ViewTransition";var Eb=K.createContext(new Map);Eb.displayName="Fetchers";var jS=K.createContext(null);jS.displayName="Await";var ii=K.createContext(null);ii.displayName="Navigation";var Lh=K.createContext(null);Lh.displayName="Location";var si=K.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var ip=K.createContext(null);ip.displayName="RouteError";function VS(r,{relative:e}={}){Je(Eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(ii),{hash:o,pathname:u,search:h}=xu(r,{relative:e}),f=u;return n!=="/"&&(f=u==="/"?n:Wr([n,u])),s.createHref({pathname:f,search:h,hash:o})}function Eu(){return K.useContext(Lh)!=null}function Ma(){return Je(Eu(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Lh).location}var xb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Tb(r){K.useContext(ii).static||K.useLayoutEffect(r)}function Bs(){let{isDataRoute:r}=K.useContext(si);return r?$S():kS()}function kS(){Je(Eu(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Oa),{basename:e,navigator:n}=K.useContext(ii),{matches:s}=K.useContext(si),{pathname:o}=Ma(),u=JSON.stringify(Jm(s)),h=K.useRef(!1);return Tb(()=>{h.current=!0}),K.useCallback((p,g={})=>{if(gn(h.current,xb),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=ep(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Wr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}K.createContext(null);function wb(){let{matches:r}=K.useContext(si),e=r[r.length-1];return e?e.params:{}}function xu(r,{relative:e}={}){let{matches:n}=K.useContext(si),{pathname:s}=Ma(),o=JSON.stringify(Jm(n));return K.useMemo(()=>ep(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function LS(r,e,n,s){Je(Eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(ii),{matches:h}=K.useContext(si),f=h[h.length-1],p=f?f.params:{},g=f?f.pathname:"/",E=f?f.pathnameBase:"/",w=f&&f.route;{let ee=w&&w.path||"";Sb(g,!w||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let R=Ma(),C;C=R;let V=C.pathname||"/",X=V;if(E!=="/"){let ee=E.replace(/^\//,"").split("/");X="/"+V.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:xs(r,{pathname:X});return gn(w||q!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),gn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),qS(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Wr([E,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?E:Wr([E,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),h,n,s)}function US(){let r=YS(),e=cu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:o},n):null,h)}var zS=K.createElement(US,null),BS=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(si.Provider,{value:this.props.routeContext},K.createElement(ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HS({routeContext:r,match:e,children:n}){let s=K.useContext(Oa);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(si.Provider,{value:r},n)}function qS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);Je(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,f=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=p),g.route.id){let{loaderData:E,errors:w}=n,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||R){h=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,R=!1,C=null,V=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,C=g.route.errorElement||zS,h&&(f<0&&E===0?(Sb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,V=null):f===E&&(R=!0,V=g.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),q=()=>{let W;return w?W=C:R?W=V:g.route.Component?W=K.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=p,K.createElement(HS,{match:g,routeContext:{outlet:p,matches:X,isDataRoute:n!=null},children:W})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?K.createElement(BS,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:q(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):q()},null)}function sp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FS(r){let e=K.useContext(Oa);return Je(e,sp(r)),e}function GS(r){let e=K.useContext(bu);return Je(e,sp(r)),e}function KS(r){let e=K.useContext(si);return Je(e,sp(r)),e}function ap(r){let e=KS(r),n=e.matches[e.matches.length-1];return Je(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function QS(){return ap("useRouteId")}function YS(){var s;let r=K.useContext(ip),e=GS("useRouteError"),n=ap("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function $S(){let{router:r}=FS("useNavigate"),e=ap("useNavigate"),n=K.useRef(!1);return Tb(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{gn(n.current,xb),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var O0={};function Sb(r,e,n){!e&&!O0[r]&&(O0[r]=!0,gn(!1,n))}var M0={};function P0(r,e){!r&&!M0[e]&&(M0[e]=!0,console.warn(e))}function XS(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&gn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&gn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&gn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var WS=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=s=>{this.status==="pending"&&(this.status="resolved",e(s))},this.reject=s=>{this.status==="pending"&&(this.status="rejected",n(s))}})}};function ZS({router:r,flushSync:e}){let[n,s]=K.useState(r.state),[o,u]=K.useState(),[h,f]=K.useState({isTransitioning:!1}),[p,g]=K.useState(),[E,w]=K.useState(),[R,C]=K.useState(),V=K.useRef(new Map),X=K.useCallback((ae,{deletedFetchers:_e,flushSync:L,viewTransitionOpts:he})=>{ae.fetchers.forEach((A,S)=>{A.data!==void 0&&V.current.set(S,A.data)}),_e.forEach(A=>V.current.delete(A)),P0(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let O=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(P0(he==null||O,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!he||!O){e&&L?e(()=>s(ae)):K.startTransition(()=>s(ae));return}if(e&&L){e(()=>{E&&(p&&p.resolve(),E.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:he.currentLocation,nextLocation:he.nextLocation})});let A=r.window.document.startViewTransition(()=>{e(()=>s(ae))});A.finished.finally(()=>{e(()=>{g(void 0),w(void 0),u(void 0),f({isTransitioning:!1})})}),e(()=>w(A));return}E?(p&&p.resolve(),E.skipTransition(),C({state:ae,currentLocation:he.currentLocation,nextLocation:he.nextLocation})):(u(ae),f({isTransitioning:!0,flushSync:!1,currentLocation:he.currentLocation,nextLocation:he.nextLocation}))},[r.window,e,E,p]);K.useLayoutEffect(()=>r.subscribe(X),[r,X]),K.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new WS)},[h]),K.useEffect(()=>{if(p&&o&&r.window){let ae=o,_e=p.promise,L=r.window.document.startViewTransition(async()=>{K.startTransition(()=>s(ae)),await _e});L.finished.finally(()=>{g(void 0),w(void 0),u(void 0),f({isTransitioning:!1})}),w(L)}},[o,p,r.window]),K.useEffect(()=>{p&&o&&n.location.key===o.location.key&&p.resolve()},[p,E,n.location,o]),K.useEffect(()=>{!h.isTransitioning&&R&&(u(R.state),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),C(void 0))},[h.isTransitioning,R]);let q=K.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ae=>r.navigate(ae),push:(ae,_e,L)=>r.navigate(ae,{state:_e,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(ae,_e,L)=>r.navigate(ae,{replace:!0,state:_e,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[r]),W=r.basename||"/",ee=K.useMemo(()=>({router:r,navigator:q,static:!1,basename:W}),[r,q,W]);return K.createElement(K.Fragment,null,K.createElement(Oa.Provider,{value:ee},K.createElement(bu.Provider,{value:n},K.createElement(Eb.Provider,{value:V.current},K.createElement(rp.Provider,{value:h},K.createElement(tA,{basename:W,location:n.location,navigationType:n.historyAction,navigator:q},K.createElement(JS,{routes:r.routes,future:r.future,state:n})))))),null)}var JS=K.memo(eA);function eA({routes:r,future:e,state:n}){return LS(r,void 0,n,e)}function tA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){Je(!Eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),f=K.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=zs(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:R="default"}=n,C=K.useMemo(()=>{let V=gr(p,h);return V==null?null:{location:{pathname:V,search:g,hash:E,state:w,key:R},navigationType:s}},[h,p,g,E,w,R,s]);return gn(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:K.createElement(ii.Provider,{value:f},K.createElement(Lh.Provider,{children:e,value:C}))}var nh="get",rh="application/x-www-form-urlencoded";function Uh(r){return r!=null&&typeof r.tagName=="string"}function nA(r){return Uh(r)&&r.tagName.toLowerCase()==="button"}function rA(r){return Uh(r)&&r.tagName.toLowerCase()==="form"}function iA(r){return Uh(r)&&r.tagName.toLowerCase()==="input"}function sA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function aA(r,e){return r.button===0&&(!e||e==="_self")&&!sA(r)}var Yc=null;function oA(){if(Yc===null)try{new FormData(document.createElement("form"),0),Yc=!1}catch{Yc=!0}return Yc}var lA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!lA.has(r)?(gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${rh}"`),null):r}function uA(r,e){let n,s,o,u,h;if(rA(r)){let f=r.getAttribute("action");s=f?gr(f,e):null,n=r.getAttribute("method")||nh,o=hm(r.getAttribute("enctype"))||rh,u=new FormData(r)}else if(nA(r)||iA(r)&&(r.type==="submit"||r.type==="image")){let f=r.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||f.getAttribute("action");if(s=p?gr(p,e):null,n=r.getAttribute("formmethod")||f.getAttribute("method")||nh,o=hm(r.getAttribute("formenctype"))||hm(f.getAttribute("enctype"))||rh,u=new FormData(f,r),!oA()){let{name:g,type:E,value:w}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,w)}}else{if(Uh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=rh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function op(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function cA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await cA(u,n);return h.links?h.links():[]}return[]}));return gA(s.flat(1).filter(hA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function j0(r,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,f=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||f(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||f(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function fA(r,e,{includeHydrateFallback:n}={}){return mA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function mA(r){return[...new Set(r)]}function pA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function gA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(pA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function yA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&gr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ab(){let r=K.useContext(Oa);return op(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function vA(){let r=K.useContext(bu);return op(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lp=K.createContext(void 0);lp.displayName="FrameworkContext";function Rb(){let r=K.useContext(lp);return op(r,"You must render this element inside a <HydratedRouter> element"),r}function _A(r,e){let n=K.useContext(lp),[s,o]=K.useState(!1),[u,h]=K.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,R=K.useRef(null);K.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let X=W=>{W.forEach(ee=>{h(ee.isIntersecting)})},q=new IntersectionObserver(X,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),K.useEffect(()=>{if(s){let X=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(X)}}},[s]);let C=()=>{o(!0)},V=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:$l(f,C),onBlur:$l(p,V),onMouseEnter:$l(g,C),onMouseLeave:$l(E,V),onTouchStart:$l(w,C)}]:[!1,R,{}]}function $l(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function bA({page:r,...e}){let{router:n}=Ab(),s=K.useMemo(()=>xs(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(xA,{page:r,matches:s,...e}):null}function EA(r){let{manifest:e,routeModules:n}=Rb(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return dA(r,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,e,n]),s}function xA({page:r,matches:e,...n}){let s=Ma(),{manifest:o,routeModules:u}=Rb(),{basename:h}=Ab(),{loaderData:f,matches:p}=vA(),g=K.useMemo(()=>j0(r,e,p,o,s,"data"),[r,e,p,o,s]),E=K.useMemo(()=>j0(r,e,p,o,s,"assets"),[r,e,p,o,s]),w=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let V=new Set,X=!1;if(e.forEach(W=>{var ae;let ee=o.routes[W.route.id];!ee||!ee.hasLoader||(!g.some(_e=>_e.route.id===W.route.id)&&W.route.id in f&&((ae=u[W.route.id])!=null&&ae.shouldRevalidate)||ee.hasClientLoader?X=!0:V.add(W.route.id))}),V.size===0)return[];let q=yA(r,h);return X&&V.size>0&&q.searchParams.set("_routes",e.filter(W=>V.has(W.route.id)).map(W=>W.route.id).join(",")),[q.pathname+q.search]},[h,f,s,o,g,e,r,u]),R=K.useMemo(()=>fA(E,o),[E,o]),C=EA(E);return K.createElement(K.Fragment,null,w.map(V=>K.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),R.map(V=>K.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),C.map(({key:V,link:X})=>K.createElement("link",{key:V,...X})))}function TA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Nb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Nb&&(window.__reactRouterVersion="7.4.0")}catch{}function wA(r,e){return pS({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:Uw({window:e==null?void 0:e.window}),hydrationData:SA(),routes:r,mapRouteProperties:XS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function SA(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:AA(r.errors)}),r}function AA(r){if(!r)return null;let e=Object.entries(r),n={};for(let[s,o]of e)if(o&&o.__type==="RouteErrorResponse")n[s]=new gh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let u=window[o.__subType];if(typeof u=="function")try{let h=new u(o.message);h.stack="",n[s]=h}catch{}}if(n[s]==null){let u=new Error(o.message);u.stack="",n[s]=u}}else n[s]=o;return n}var Cb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tn=K.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:f,target:p,to:g,preventScrollReset:E,viewTransition:w,...R},C){let{basename:V}=K.useContext(ii),X=typeof g=="string"&&Cb.test(g),q,W=!1;if(typeof g=="string"&&X&&(q=g,Nb))try{let S=new URL(window.location.href),I=g.startsWith("//")?new URL(S.protocol+g):new URL(g),j=gr(I.pathname,V);I.origin===S.origin&&j!=null?g=j+I.search+I.hash:W=!0}catch{gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=VS(g,{relative:o}),[ae,_e,L]=_A(s,R),he=IA(g,{replace:h,state:f,target:p,preventScrollReset:E,relative:o,viewTransition:w});function O(S){e&&e(S),S.defaultPrevented||he(S)}let A=K.createElement("a",{...R,...L,href:q||ee,onClick:W||u?e:O,ref:TA(C,_e),target:p,"data-discover":!X&&n==="render"?"true":void 0});return ae&&!X?K.createElement(K.Fragment,null,A,K.createElement(bA,{page:ee})):A});Tn.displayName="Link";var RA=K.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:f,children:p,...g},E){let w=xu(h,{relative:g.relative}),R=Ma(),C=K.useContext(bu),{navigator:V,basename:X}=K.useContext(ii),q=C!=null&&jA(w)&&f===!0,W=V.encodeLocation?V.encodeLocation(w).pathname:w.pathname,ee=R.pathname,ae=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),ae=ae?ae.toLowerCase():null,W=W.toLowerCase()),ae&&X&&(ae=gr(ae,X)||ae);const _e=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let L=ee===W||!o&&ee.startsWith(W)&&ee.charAt(_e)==="/",he=ae!=null&&(ae===W||!o&&ae.startsWith(W)&&ae.charAt(W.length)==="/"),O={isActive:L,isPending:he,isTransitioning:q},A=L?e:void 0,S;typeof s=="function"?S=s(O):S=[s,L?"active":null,he?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return K.createElement(Tn,{...g,"aria-current":A,className:S,ref:E,style:I,to:h,viewTransition:f},typeof p=="function"?p(O):p)});RA.displayName="NavLink";var NA=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=nh,action:f,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...R},C)=>{let V=MA(),X=PA(f,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",W=typeof f=="string"&&Cb.test(f),ee=ae=>{if(p&&p(ae),ae.defaultPrevented)return;ae.preventDefault();let _e=ae.nativeEvent.submitter,L=(_e==null?void 0:_e.getAttribute("formmethod"))||h;V(_e||ae.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return K.createElement("form",{ref:C,method:q,action:X,onSubmit:s?p:ee,...R,"data-discover":!W&&r==="render"?"true":void 0})});NA.displayName="Form";function CA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ib(r){let e=K.useContext(Oa);return Je(e,CA(r)),e}function IA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let f=Bs(),p=Ma(),g=xu(r,{relative:u});return K.useCallback(E=>{if(aA(E,e)){E.preventDefault();let w=n!==void 0?n:Os(p)===Os(g);f(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,f,g,n,s,e,r,o,u,h])}var DA=0,OA=()=>`__${String(++DA)}__`;function MA(){let{router:r}=Ib("useSubmit"),{basename:e}=K.useContext(ii),n=QS();return K.useCallback(async(s,o={})=>{let{action:u,method:h,encType:f,formData:p,body:g}=uA(s,e);if(o.navigate===!1){let E=o.fetcherKey||OA();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||f,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||f,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function PA(r,{relative:e}={}){let{basename:n}=K.useContext(ii),s=K.useContext(si);Je(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...xu(r||".",{relative:e})},h=Ma();if(r==null){u.search=h.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(E=>E==="")){f.delete("index"),p.filter(w=>w).forEach(w=>f.append("index",w));let E=f.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wr([n,u.pathname])),Os(u)}function jA(r,e={}){let n=K.useContext(rp);Je(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Ib("useViewTransitionState"),o=xu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=gr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=gr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,h)!=null||ph(o.pathname,u)!=null}new TextEncoder;var VA=ub();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kA(r){return K.createElement(ZS,{flushSync:VA.flushSync,...r})}const Cr=()=>{const[r,e]=K.useState(!1),[n,s]=K.useState(!1),[o,u]=K.useState(null),[h,f]=K.useState(null),p=Bs();K.useEffect(()=>{const E=localStorage.getItem("userEmail"),w=localStorage.getItem("userType");E&&u(E),w&&f(w)},[]);const g=()=>{localStorage.clear(),u(null),f(null),p("/login")};return v.jsx("header",{className:"bg-gray-900/90 backdrop-blur-md py-3 sm:py-4 shadow-md fixed w-full top-0 z-10",children:v.jsxs("div",{className:"container mx-auto flex justify-between items-center px-4 sm:px-6",children:[v.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-yellow-400",children:"MentorConnect"}),v.jsx("button",{className:"text-yellow-400 text-2xl md:hidden focus:outline-none",onClick:()=>e(!r),"aria-label":"Toggle menu",children:r?"✖":"☰"}),v.jsxs("nav",{className:`md:flex md:space-x-4 lg:space-x-6 xl:space-x-8 items-center absolute md:static top-full left-0 w-full md:w-auto bg-gray-900 md:bg-transparent transition-all duration-300 ease-in-out ${r?"block":"hidden"}`,children:[v.jsx(Tn,{to:"/",className:"block py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:"Home"}),h==="student"&&v.jsx(Tn,{to:"/postRequirment",className:"block py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:"Post Requirement"}),h==="mentor"&&v.jsx(Tn,{to:"/mentorDashboard",className:"block py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:"Mentor DashBoard"}),v.jsx(Tn,{to:"#",className:"block py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:"About"}),o?v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>s(!n),className:"flex items-center py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:v.jsx("i",{className:"hover:text-gray-900/90 hover:bg-yellow-300 p-[10px] rounded-[50%] fa-solid fa-user"})}),n&&v.jsxs("div",{className:"absolute right-0 mt-2 w-30 bg-gray-800 rounded-md shadow-lg z-20",children:[v.jsx(Tn,{to:h==="mentor"?"/mentorProfile":"/studentProfile",className:"block px-4 py-2 text-sm text-white hover:bg-gray-700",onClick:()=>s(!1),children:"View Profile"}),v.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-gray-700",children:"Logout"})]})]}):v.jsxs(v.Fragment,{children:[v.jsx(Tn,{to:"/signup",className:"block py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:"Sign Up"}),v.jsx(Tn,{to:"/login",className:"block py-2 px-4 sm:px-6 text-base sm:text-lg hover:text-yellow-300 transition duration-300",children:"Login"})]})]})]})})},Ir=()=>v.jsxs("footer",{className:"bg-gray-900 py-8 sm:py-12",children:[v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[v.jsxs("div",{className:"text-center sm:text-left",children:[v.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-yellow-400 mb-3 sm:mb-4",children:"MentorConnect"}),v.jsx("p",{className:"text-sm sm:text-base text-gray-400",children:"Bridging the gap between students and software engineering experts."})]}),v.jsxs("div",{className:"text-center sm:text-left",children:[v.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-yellow-400 mb-3 sm:mb-4",children:"Quick Links"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx(Tn,{to:"/",className:"text-sm sm:text-base text-gray-400 hover:text-yellow-300 transition duration-300",children:"Home"})}),v.jsx("li",{children:v.jsx(Tn,{to:"",className:"text-sm sm:text-base text-gray-400 hover:text-yellow-300 transition duration-300",children:"About"})})]})]}),v.jsxs("div",{className:"text-center sm:text-left",children:[v.jsx("h4",{className:"text-lg sm:text-xl font-semibold text-yellow-400 mb-3 sm:mb-4",children:"Legal"}),v.jsxs("ul",{className:"space-y-2",children:[v.jsx("li",{children:v.jsx("a",{href:"#",className:"text-sm sm:text-base text-gray-400 hover:text-yellow-300 transition duration-300",children:"Privacy Policy"})}),v.jsx("li",{children:v.jsx("a",{href:"#",className:"text-sm sm:text-base text-gray-400 hover:text-yellow-300 transition duration-300",children:"Terms of Service"})})]})]})]}),v.jsx("div",{className:"mt-6 sm:mt-8 text-center text-xs sm:text-sm text-gray-500",children:v.jsx("p",{children:"© 2025 MentorConnect. All rights reserved."})})]}),LA=()=>{const r=Bs(),[e,n]=K.useState(!1);return v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-16 sm:pt-20 md:pt-24 pb-12 sm:pb-16 md:pb-20",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 flex flex-col md:flex-row items-center",children:[v.jsxs("div",{className:"md:w-1/2 text-center md:text-left ",children:[v.jsxs("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight mb-4 sm:mb-6",children:[v.jsx("span",{className:"text-white",children:"Unlock Your "}),v.jsx("span",{className:"text-yellow-400",children:"Coding Potential"})]}),v.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-300 mb-6 sm:mb-8 md:mb-10",children:"Join as a student to learn from experts or as a mentor to shape the future of tech."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start space-y-4 sm:space-y-0 sm:space-x-4 md:space-x-6",children:[v.jsx("button",{onClick:()=>r("/findMentors"),className:"bg-yellow-400 text-gray-900 px-6 py-2 sm:px-8 sm:py-3 rounded-lg font-semibold shadow-lg hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Find Mentors"}),v.jsx("button",{onClick:()=>{r(e?"/postRequirement":"/login")},className:"bg-transparent border-2 border-yellow-400 text-yellow-400 px-6 py-2 sm:px-8 sm:py-3 rounded-lg font-semibold shadow-lg hover:bg-yellow-400 hover:text-gray-900 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Post your Requirement"})]})]}),v.jsx("div",{className:"md:w-1/2 mt-8 sm:mt-10 md:mt-0 px-4 sm:px-0",children:v.jsx("img",{src:"bv",alt:"Coding Illustration",className:"rounded-lg shadow-lg w-full max-w-md mx-auto"})})]})})},UA=()=>v.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gray-800",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[v.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-center text-white mb-8 sm:mb-12 md:mb-16",children:"Empowering Connections in Tech"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 md:gap-10",children:[v.jsxs("div",{className:"bg-gray-700 p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 sm:hover:-translate-y-2 transition duration-300",children:[v.jsx("div",{className:"text-yellow-400 text-4xl sm:text-5xl mb-3 sm:mb-4",children:"✍️"}),v.jsx("h4",{className:"text-xl sm:text-2xl font-semibold text-white mb-3 sm:mb-4",children:"Request Mentorship"}),v.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Post detailed requests and let our system match you with the perfect mentor."})]}),v.jsxs("div",{className:"bg-gray-700 p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 sm:hover:-translate-y-2 transition duration-300",children:[v.jsx("div",{className:"text-yellow-400 text-4xl sm:text-5xl mb-3 sm:mb-4",children:"👨‍🏫"}),v.jsx("h4",{className:"text-xl sm:text-2xl font-semibold text-white mb-3 sm:mb-4",children:"Top-Tier Mentors"}),v.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Access a network of skilled software engineers ready to guide you."})]}),v.jsxs("div",{className:"bg-gray-700 p-6 sm:p-8 rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 sm:hover:-translate-y-2 transition duration-300",children:[v.jsx("div",{className:"text-yellow-400 text-4xl sm:text-5xl mb-3 sm:mb-4",children:"💸"}),v.jsx("h4",{className:"text-xl sm:text-2xl font-semibold text-white mb-3 sm:mb-4",children:"Coin System"}),v.jsx("p",{className:"text-sm sm:text-base text-gray-300",children:"Securely connect with mentors or students using our digital coin model."})]})]})]})}),zA=()=>v.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gray-900",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[v.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-center text-white mb-8 sm:mb-12 md:mb-16",children:"What Our Users Say"}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8 md:gap-10",children:[v.jsxs("div",{className:"bg-gray-800 p-5 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[v.jsx("p",{className:"text-sm sm:text-base text-gray-300 mb-3 sm:mb-4",children:'"MentorConnect helped me debug my Python project in days! My mentor was amazing and worth every coin."'}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:"hg",alt:"Student Avatar",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full mr-3 sm:mr-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white font-semibold text-sm sm:text-base",children:"Alex, Student"}),v.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Aspiring Developer"})]})]})]}),v.jsxs("div",{className:"bg-gray-800 p-5 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[v.jsx("p",{className:"text-sm sm:text-base text-gray-300 mb-3 sm:mb-4",children:`"I love mentoring students here. It's rewarding to share my 10+ years of experience and earn coins!"`}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:"hf",alt:"Mentor Avatar",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full mr-3 sm:mr-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-white font-semibold text-sm sm:text-base",children:"Sarah, Mentor"}),v.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:"Senior Engineer"})]})]})]})]})]})}),BA=()=>v.jsx("section",{className:"py-12 sm:py-16 md:py-20 bg-gradient-to-r from-blue-900 to-gray-800",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6 flex flex-col md:flex-row items-center",children:[v.jsxs("div",{className:"md:w-1/2 text-center md:text-left",children:[v.jsx("h3",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4 sm:mb-6",children:"Ready to Make an Impact?"}),v.jsx("p",{className:"text-base sm:text-lg text-gray-300 mb-6 sm:mb-8",children:"Students: Master coding with expert guidance. Mentors: Inspire the next generation of developers."}),v.jsxs("div",{className:"flex flex-col sm:flex-row justify-center md:justify-start space-y-4 sm:space-y-0 sm:space-x-4 md:space-x-6",children:[v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-6 py-2 sm:px-8 sm:py-3 rounded-lg font-semibold shadow-lg hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Join as Mentor"}),v.jsx("button",{className:"bg-transparent border-2 border-yellow-400 text-yellow-400 px-6 py-2 sm:px-8 sm:py-3 rounded-lg font-semibold shadow-lg hover:bg-yellow-400 hover:text-gray-900 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Join as Student"})]})]}),v.jsx("div",{className:"md:w-1/2 mt-8 sm:mt-10 md:mt-0 px-4 sm:px-0",children:v.jsx("img",{src:"gh",alt:"Tech Community",className:"rounded-lg shadow-lg w-full max-w-md mx-auto"})})]})}),HA=()=>v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx(LA,{}),v.jsx(UA,{}),v.jsx(zA,{}),v.jsx(BA,{}),v.jsx(Ir,{})]}),qA=()=>{};var V0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},FA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],f=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},Ob={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,w=(u&3)<<4|f>>4;let R=(f&15)<<2|g>>6,C=g&63;p||(C=64,h||(R=64)),s.push(n[E],n[w],n[R],n[C])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Db(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],f=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||f==null||g==null||w==null)throw new GA;const R=u<<2|f>>4;if(s.push(R),g!==64){const C=f<<4&240|g>>2;if(s.push(C),w!==64){const V=g<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KA=function(r){const e=Db(r);return Ob.encodeByteArray(e,!0)},yh=function(r){return KA(r).replace(/\./g,"")},Mb=function(r){try{return Ob.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=()=>QA().__FIREBASE_DEFAULTS__,$A=()=>{if(typeof process>"u"||typeof V0>"u")return;const r=V0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},XA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Mb(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return qA()||YA()||$A()||XA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Pb=r=>{var e,n;return(n=(e=zh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},WA=r=>{const e=Pb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jb=()=>{var r;return(r=zh())===null||r===void 0?void 0:r.config},Vb=r=>{var e;return(e=zh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[yh(JSON.stringify(n)),yh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function tR(){var r;const e=(r=zh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function iR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const r=Sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="FirebaseError";class Hi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=uR,Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?cR(u,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Hi(o,f,s)}}function cR(r,e){return r.replace(hR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hR=/\{\$([^}]+)}/g;function dR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(k0(u)&&k0(h)){if(!Sa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function k0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function fR(r,e){const n=new mR(r,e);return n.subscribe.bind(n)}class mR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(r){return r&&r._delegate?r._delegate:r}class Aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ZA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(u);s===f&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(r){return r===ba?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Xe||(Xe={}));const bR={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},ER=Xe.INFO,xR={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},TR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=ER,this._logHandler=TR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const wR=(r,e)=>e.some(n=>r instanceof n);let L0,U0;function SR(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AR(){return U0||(U0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kb=new WeakMap,Am=new WeakMap,Lb=new WeakMap,fm=new WeakMap,cp=new WeakMap;function RR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(Rs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&kb.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function NR(r){if(Am.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Am.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Lb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function CR(r){Rm=r(Rm)}function IR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return Lb.set(s,e.sort?e.sort():[e]),Rs(s)}:AR().includes(r)?function(...e){return r.apply(mm(this),e),Rs(kb.get(this))}:function(...e){return Rs(r.apply(mm(this),e))}}function DR(r){return typeof r=="function"?IR(r):(r instanceof IDBTransaction&&NR(r),wR(r,SR())?new Proxy(r,Rm):r)}function Rs(r){if(r instanceof IDBRequest)return RR(r);if(fm.has(r))return fm.get(r);const e=DR(r);return e!==r&&(fm.set(r,e),cp.set(e,r)),e}const mm=r=>cp.get(r);function OR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),f=Rs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Rs(h.result),p.oldVersion,p.newVersion,Rs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),f.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const MR=["get","getKey","getAll","getAllKeys","count"],PR=["put","add","delete","clear"],pm=new Map;function z0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=PR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||MR.includes(n)))return;const u=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(f.shift())),(await Promise.all([g[n](...f),o&&p.done]))[0]};return pm.set(e,u),u}CR(r=>({...r,get:(e,n,s)=>z0(e,n)||r.get(e,n,s),has:(e,n)=>!!z0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function VR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nm="@firebase/app",B0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new up("@firebase/app"),kR="@firebase/app-compat",LR="@firebase/analytics-compat",UR="@firebase/analytics",zR="@firebase/app-check-compat",BR="@firebase/app-check",HR="@firebase/auth",qR="@firebase/auth-compat",FR="@firebase/database",GR="@firebase/data-connect",KR="@firebase/database-compat",QR="@firebase/functions",YR="@firebase/functions-compat",$R="@firebase/installations",XR="@firebase/installations-compat",WR="@firebase/messaging",ZR="@firebase/messaging-compat",JR="@firebase/performance",e1="@firebase/performance-compat",t1="@firebase/remote-config",n1="@firebase/remote-config-compat",r1="@firebase/storage",i1="@firebase/storage-compat",s1="@firebase/firestore",a1="@firebase/vertexai",o1="@firebase/firestore-compat",l1="firebase",u1="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",c1={[Nm]:"fire-core",[kR]:"fire-core-compat",[UR]:"fire-analytics",[LR]:"fire-analytics-compat",[BR]:"fire-app-check",[zR]:"fire-app-check-compat",[HR]:"fire-auth",[qR]:"fire-auth-compat",[FR]:"fire-rtdb",[GR]:"fire-data-connect",[KR]:"fire-rtdb-compat",[QR]:"fire-fn",[YR]:"fire-fn-compat",[$R]:"fire-iid",[XR]:"fire-iid-compat",[WR]:"fire-fcm",[ZR]:"fire-fcm-compat",[JR]:"fire-perf",[e1]:"fire-perf-compat",[t1]:"fire-rc",[n1]:"fire-rc-compat",[r1]:"fire-gcs",[i1]:"fire-gcs-compat",[s1]:"fire-fst",[o1]:"fire-fst-compat",[a1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vh=new Map,h1=new Map,Im=new Map;function H0(r,e){try{r.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Po(r){const e=r.name;if(Im.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,r);for(const n of vh.values())H0(n,r);for(const n of h1.values())H0(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Tu("app","Firebase",d1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=u1;function Ub(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Cm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(n||(n=jb()),!n)throw Ns.create("no-options");const u=vh.get(o);if(u){if(Sa(n,u.options)&&Sa(s,u.config))return u;throw Ns.create("duplicate-app",{appName:o})}const h=new _R(o);for(const p of Im.values())h.addComponent(p);const f=new f1(n,s,h);return vh.set(o,f),f}function zb(r=Cm){const e=vh.get(r);if(!e&&r===Cm&&jb())return Ub();if(!e)throw Ns.create("no-app",{appName:r});return e}function Cs(r,e,n){var s;let o=(s=c1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const f=[`Unable to register library "${o}" with version "${e}":`];u&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(f.join(" "));return}Po(new Aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",p1=1,hu="firebase-heartbeat-store";let gm=null;function Bb(){return gm||(gm=OR(m1,p1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(hu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ns.create("idb-open",{originalErrorMessage:r.message})})),gm}async function g1(r){try{const n=(await Bb()).transaction(hu),s=await n.objectStore(hu).get(Hb(r));return await n.done,s}catch(e){if(e instanceof Hi)Li.warn(e.message);else{const n=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function q0(r,e){try{const s=(await Bb()).transaction(hu,"readwrite");await s.objectStore(hu).put(e,Hb(r)),await s.done}catch(n){if(n instanceof Hi)Li.warn(n.message);else{const s=Ns.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(s.message)}}}function Hb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,v1=30;class _1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=F0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>v1){const h=x1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Li.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=F0(),{heartbeatsToSend:s,unsentEntries:o}=b1(this._heartbeatsCache.heartbeats),u=yh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Li.warn(n),""}}}function F0(){return new Date().toISOString().substring(0,10)}function b1(r,e=y1){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),G0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),G0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class E1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function G0(r){return yh(JSON.stringify({version:2,heartbeats:r})).length}function x1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r){Po(new Aa("platform-logger",e=>new jR(e),"PRIVATE")),Po(new Aa("heartbeat",e=>new _1(e),"PRIVATE")),Cs(Nm,B0,r),Cs(Nm,B0,"esm2017"),Cs("fire-js","")}T1("");var w1="firebase",S1="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cs(w1,S1,"app");function dp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function qb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const A1=qb,Fb=new Tu("auth","Firebase",qb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _h=new up("@firebase/auth");function R1(r,...e){_h.logLevel<=Xe.WARN&&_h.warn(`Auth (${qo}): ${r}`,...e)}function ih(r,...e){_h.logLevel<=Xe.ERROR&&_h.error(`Auth (${qo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(r,...e){throw mp(r,...e)}function Nr(r,...e){return mp(r,...e)}function fp(r,e,n){const s=Object.assign(Object.assign({},A1()),{[e]:n});return new Tu("auth","Firebase",s).create(e,{appName:r.name})}function ji(r){return fp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N1(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&yr(r,"argument-error"),fp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function mp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Fb.create(r,...e)}function Me(r,e,...n){if(!r)throw mp(e,...n)}function Oi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ih(e),new Error(e)}function Ui(r,e){r||Oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function C1(){return K0()==="http:"||K0()==="https:"}function K0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C1()||rR()||"connection"in navigator)?navigator.onLine:!0}function D1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ui(n>e,"Short delay should be less than long delay!"),this.isMobile=eR()||iR()}get(){return I1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){Ui(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=new Su(3e4,6e4);function qi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Fi(r,e,n,s,o={}){return Kb(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const f=wu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return nR()||(g.referrerPolicy="no-referrer"),Gb.fetch()(Qb(r,r.config.apiHost,n,f),g)})}async function Kb(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},O1),e);try{const o=new j1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw $c(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const f=u.ok?h.errorMessage:h.error.message,[p,g]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw $c(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw fp(r,E,g);yr(r,E)}}catch(o){if(o instanceof Hi)throw o;yr(r,"network-request-failed",{message:String(o)})}}async function Au(r,e,n,s,o={}){const u=await Fi(r,e,n,s,o);return"mfaPendingCredential"in u&&yr(r,"multi-factor-auth-required",{_serverResponse:u}),u}function Qb(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?pp(r.config,o):`${r.config.apiScheme}://${o}`}function P1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Nr(this.auth,"network-request-failed")),M1.get())})}}function $c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Nr(r,e,s);return o.customData._tokenResponse=n,o}function Q0(r){return r!==void 0&&r.enterprise!==void 0}class V1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k1(r,e){return Fi(r,"GET","/v2/recaptchaConfig",qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(r,e){return Fi(r,"POST","/v1/accounts:delete",e)}async function Yb(r,e){return Fi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U1(r,e=!1){const n=On(r),s=await n.getIdToken(e),o=gp(s);Me(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:iu(ym(o.auth_time)),issuedAtTime:iu(ym(o.iat)),expirationTime:iu(ym(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function ym(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const o=Mb(n);return o?JSON.parse(o):(ih("Failed to decode base64 JWT payload"),null)}catch(o){return ih("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Y0(r){const e=gp(r);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Hi&&z1(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function z1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await du(r,Yb(n,{idToken:s}));Me(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?$b(u.providerUserInfo):[],f=q1(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(f!=null&&f.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:f,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function H1(r){const e=On(r);await bh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q1(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $b(r){return r.map(e=>{var{providerId:n}=e,s=dp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(r,e){const n=await Kb(r,{},async()=>{const s=wu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=Qb(r,o,"/v1/token",`key=${u}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",Gb.fetch()(h,{method:"POST",headers:f,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G1(r,e){return Fi(r,"POST","/v2/accounts:revokeToken",qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const n=Y0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await F1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new Io;return s&&(Me(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Me(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Me(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return Oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(r,e){Me(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Mi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new B1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return Me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return U1(this,e)}reload(){return H1(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Mi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await bh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(ji(this.auth));const e=await this.getIdToken();return await du(this,L1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,f,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,C=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(h=n.photoURL)!==null&&h!==void 0?h:void 0,X=(f=n.tenantId)!==null&&f!==void 0?f:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,W=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:_e,isAnonymous:L,providerData:he,stsTokenManager:O}=n;Me(ae&&O,e,"internal-error");const A=Io.fromJSON(this.name,O);Me(typeof ae=="string",e,"internal-error"),bs(w,e.name),bs(R,e.name),Me(typeof _e=="boolean",e,"internal-error"),Me(typeof L=="boolean",e,"internal-error"),bs(C,e.name),bs(V,e.name),bs(X,e.name),bs(q,e.name),bs(W,e.name),bs(ee,e.name);const S=new Mi({uid:ae,auth:e,email:R,emailVerified:_e,displayName:w,isAnonymous:L,photoURL:V,phoneNumber:C,tenantId:X,stsTokenManager:A,createdAt:W,lastLoginAt:ee});return he&&Array.isArray(he)&&(S.providerData=he.map(I=>Object.assign({},I))),q&&(S._redirectEventId=q),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new Mi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await bh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Me(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$b(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),f=new Io;f.updateFromIdToken(s);const p=new Mi({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=new Map;function Pi(r){Ui(r instanceof Function,"Expected a class definition");let e=$0.get(r);return e?(Ui(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,$0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xb.type="NONE";const X0=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class Do{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Mi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Do(Pi(X0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Pi(X0);const h=sh(s,e.config.apiKey,e.name);let f=null;for(const g of n)try{const E=await g._get(h);if(E){const w=Mi._fromJSON(e,E);g!==u&&(f=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,e,s):(u=p[0],f&&await u._set(h,f.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Do(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(eE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nE(e))return"Blackberry";if(rE(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(tE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Wb(r=Sn()){return/firefox\//i.test(r)}function Zb(r=Sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(r=Sn()){return/crios\//i.test(r)}function eE(r=Sn()){return/iemobile/i.test(r)}function tE(r=Sn()){return/android/i.test(r)}function nE(r=Sn()){return/blackberry/i.test(r)}function rE(r=Sn()){return/webos/i.test(r)}function yp(r=Sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function K1(r=Sn()){var e;return yp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Q1(){return sR()&&document.documentMode===10}function iE(r=Sn()){return yp(r)||tE(r)||rE(r)||nE(r)||/windows phone/i.test(r)||eE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(r,e=[]){let n;switch(r){case"Browser":n=W0(Sn());break;case"Worker":n=`${W0(Sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,f)=>{try{const p=e(u);h(p)}catch(p){f(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(r,e={}){return Fi(r,"GET","/v2/passwordPolicy",qi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=6;class W1{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:X1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new Y1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yb(this,{idToken:e}),s=await Mi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await bh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=D1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(ji(this));const n=e?On(e):null;return n&&Me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $1(this),n=new W1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await G1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pi(e)||this._popupRedirectResolver;Me(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Pi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(f,this,"internal-error"),f.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=sE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&R1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Hs(r){return On(r)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=fR(n=>this.observer=n)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function J1(r){Bh=r}function aE(r){return Bh.loadJS(r)}function eN(){return Bh.recaptchaEnterpriseScript}function tN(){return Bh.gapiScript}function nN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class rN{constructor(){this.enterprise=new iN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const sN="recaptcha-enterprise",oE="NO_RECAPTCHA";class aN{constructor(e){this.type=sN,this.auth=Hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,f)=>{k1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new V1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{f(p)})})}function o(u,h,f){const p=window.grecaptcha;Q0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(oE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rN().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(f=>{if(!n&&Q0(window.grecaptcha))o(f,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=eN();p.length!==0&&(p+=f),aE(p).then(()=>{o(f,u,h)}).catch(g=>{h(g)})}}).catch(f=>{h(f)})})}}async function J0(r,e,n,s=!1,o=!1){const u=new aN(r);let h;if(o)h=oE;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,g=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function Mm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await J0(r,e,n,n==="getOobCode");return s(r,h)}else return s(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await J0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(r,e){const n=hp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Sa(u,e??{}))return o;yr(o,"already-initialized")}return n.initialize({options:e})}function lN(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Pi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function uN(r,e,n){const s=Hs(r);Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=lE(e),{host:h,port:f}=cN(e),p=f===null?"":`:${f}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:f,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Me(Sa(g,s.config.emulator)&&Sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,hN()}function lE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function cN(r){const e=lE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:e_(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:e_(h)}}}function e_(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,n){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function dN(r,e){return Fi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(r,e){return Au(r,"POST","/v1/accounts:signInWithPassword",qi(r,e))}async function mN(r,e){return Fi(r,"POST","/v1/accounts:sendOobCode",qi(r,e))}async function pN(r,e){return mN(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(r,e){return Au(r,"POST","/v1/accounts:signInWithEmailLink",qi(r,e))}async function yN(r,e){return Au(r,"POST","/v1/accounts:signInWithEmailLink",qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends vp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new fu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new fu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,n,"signInWithPassword",fN);case"emailLink":return gN(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Mm(e,s,"signUpPassword",dN);case"emailLink":return yN(e,{idToken:n,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,e){return Au(r,"POST","/v1/accounts:signInWithIdp",qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="http://localhost";class Ra extends vp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):yr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Ra(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return Oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Oo(e,n)}buildRequest(){const e={requestUri:vN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bN(r){const e=Zl(Jl(r)).link,n=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(r)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||n||e||r}class _p{constructor(e){var n,s,o,u,h,f;const p=Zl(Jl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=_N((o=p.mode)!==null&&o!==void 0?o:null);Me(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=bN(e);try{return new _p(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(){this.providerId=Fo.PROVIDER_ID}static credential(e,n){return fu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_p.parseLink(n);return Me(s,"argument-error"),fu._fromEmailAndCode(e,s.code,s.tenantId)}}Fo.PROVIDER_ID="password";Fo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Fo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Ru{constructor(){super("facebook.com")}static credential(e){return Ra._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ru{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ra._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Ru{constructor(){super("github.com")}static credential(e){return Ra._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Ru{constructor(){super("twitter.com")}static credential(e,n){return Ra._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ss.credential(n,s)}catch{return null}}}Ss.TWITTER_SIGN_IN_METHOD="twitter.com";Ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(r,e){return Au(r,"POST","/v1/accounts:signUp",qi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Mi._fromIdTokenResponse(e,s,o),h=t_(s);return new Na({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=t_(s);return new Na({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function t_(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends Hi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function uE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function xN(r,e,n=!1){const s=await du(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Na._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(ji(s));const o="reauthenticate";try{const u=await du(r,uE(s,o,e,r),n);Me(u.idToken,s,"internal-error");const h=gp(u.idToken);Me(h,s,"internal-error");const{sub:f}=h;return Me(r.uid===f,s,"user-mismatch"),Na._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&yr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cE(r,e,n=!1){if(Yn(r.app))return Promise.reject(ji(r));const s="signIn",o=await uE(r,s,e),u=await Na._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function wN(r,e){return cE(Hs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(r){const e=Hs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SN(r,e,n){if(Yn(r.app))return Promise.reject(ji(r));const s=Hs(r),h=await Mm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",EN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&hE(r),p}),f=await Na._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function AN(r,e,n){return Yn(r.app)?Promise.reject(ji(r)):wN(On(r),Fo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&hE(r),s})}async function RN(r,e){const n=On(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:u}=await pN(n.auth,o);u!==r.email&&await r.reload()}function NN(r,e,n,s){return On(r).onIdTokenChanged(e,n,s)}function CN(r,e,n){return On(r).beforeAuthStateChanged(e,n)}async function IN(r){return On(r).delete()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=1e3,ON=10;class fE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);Q1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,ON):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fE.type="LOCAL";const MN=fE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}mE.type="SESSION";const pE=mE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async g=>g(n.origin,u)),p=await PN(f);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((f,p)=>{const g=Ep("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),f(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function VN(r){Zr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function kN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function LN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function UN(){return gE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="firebaseLocalStorageDb",zN=1,Th="firebaseLocalStorage",vE="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function BN(){const r=indexedDB.deleteDatabase(yE);return new Nu(r).toPromise()}function Pm(){const r=indexedDB.open(yE,zN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Th,{keyPath:vE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await BN(),e(await Pm()))})})}async function n_(r,e,n){const s=qh(r,!0).put({[vE]:e,value:n});return new Nu(s).toPromise()}async function HN(r,e){const n=qh(r,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function r_(r,e){const n=qh(r,!0).delete(e);return new Nu(n).toPromise()}const qN=800,FN=3;class _E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return gE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(UN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await kN(),!this.activeServiceWorker)return;this.sender=new jN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||LN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await n_(e,xh,"1"),await r_(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>n_(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>HN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>r_(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_E.type="LOCAL";const GN=_E;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(r,e){return e?Pi(e):(Me(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends vp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KN(r){return cE(r.auth,new xp(r),r.bypassAuthState)}function QN(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),TN(n,new xp(r),r.bypassAuthState)}async function YN(r){const{auth:e,user:n}=r;return Me(n,e,"internal-error"),xN(n,new xp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KN;case"linkViaPopup":case"linkViaRedirect":return YN;case"reauthViaPopup":case"reauthViaRedirect":return QN;default:yr(this.auth,"internal-error")}}resolve(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=new Su(2e3,1e4);async function xE(r,e,n){if(Yn(r.app))return Promise.reject(Nr(r,"operation-not-supported-in-this-environment"));const s=Hs(r);N1(r,e,bp);const o=bE(s,n);return new Ta(s,"signInViaPopup",e,o).executeNotNull()}class Ta extends EE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ta.currentPopupAction&&Ta.currentPopupAction.cancel(),Ta.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Ui(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ta.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$N.get())};e()}}Ta.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="pendingRedirect",ah=new Map;class WN extends EE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await ZN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZN(r,e){const n=tC(e),s=eC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function JN(r,e){ah.set(r._key(),e)}function eC(r){return Pi(r._redirectPersistence)}function tC(r){return sh(XN,r.config.apiKey,r.name)}async function nC(r,e,n=!1){if(Yn(r.app))return Promise.reject(ji(r));const s=Hs(r),o=bE(s,e),h=await new WN(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=10*60*1e3;class iC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!TE(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Nr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rC&&this.cachedEventUids.clear(),this.cachedEventUids.has(i_(e))}saveEventToCache(e){this.cachedEventUids.add(i_(e)),this.lastProcessedEventTime=Date.now()}}function i_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function TE({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TE(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r,e={}){return Fi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lC=/^https?/;async function uC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await aC(r);for(const n of e)try{if(cC(n))return}catch{}yr(r,"unauthorized-domain")}function cC(r){const e=Dm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!lC.test(n))return!1;if(oC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new Su(3e4,6e4);function s_(){const r=Zr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dC(r){return new Promise((e,n)=>{var s,o,u;function h(){s_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s_(),n(Nr(r,"network-request-failed"))},timeout:hC.get()})}if(!((o=(s=Zr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Zr().gapi)===null||u===void 0)&&u.load)h();else{const f=nN("iframefcb");return Zr()[f]=()=>{gapi.load?h():n(Nr(r,"network-request-failed"))},aE(`${tN()}?onload=${f}`).catch(p=>n(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function fC(r){return oh=oh||dC(r),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new Su(5e3,15e3),pC="__/auth/iframe",gC="emulator/auth/iframe",yC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _C(r){const e=r.config;Me(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?pp(e,gC):`https://${r.config.authDomain}/${pC}`,s={apiKey:e.apiKey,appName:r.name,v:qo},o=vC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${wu(s).slice(1)}`}async function bC(r){const e=await fC(r),n=Zr().gapi;return Me(n,r,"internal-error"),e.open({where:document.body,url:_C(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Nr(r,"network-request-failed"),f=Zr().setTimeout(()=>{u(h)},mC.get());function p(){Zr().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xC=500,TC=600,wC="_blank",SC="http://localhost";class a_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AC(r,e,n,s=xC,o=TC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},EC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=Sn().toLowerCase();n&&(f=Jb(g)?wC:n),Wb(g)&&(e=e||SC,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[C,V])=>`${R}${C}=${V},`,"");if(K1(g)&&f!=="_self")return RC(e||"",f),new a_(null);const w=window.open(e||"",f,E);Me(w,r,"popup-blocked");try{w.focus()}catch{}return new a_(w)}function RC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",CC="emulator/auth/handler",IC=encodeURIComponent("fac");async function o_(r,e,n,s,o,u){Me(r.config.authDomain,r,"auth-domain-config-required"),Me(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:qo,eventId:o};if(e instanceof bp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",dR(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))h[E]=w}if(e instanceof Ru){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const E of Object.keys(f))f[E]===void 0&&delete f[E];const p=await r._getAppCheckToken(),g=p?`#${IC}=${encodeURIComponent(p)}`:"";return`${DC(r)}?${wu(f).slice(1)}${g}`}function DC({config:r}){return r.emulator?pp(r,CC):`https://${r.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pE,this._completeRedirectFn=nC,this._overrideRedirectResult=JN}async _openPopup(e,n,s,o){var u;Ui((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await o_(e,n,s,Dm(),o);return AC(e,h,Ep())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await o_(e,n,s,Dm(),o);return VN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ui(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await bC(e),s=new iC(e);return n.register("authEvent",o=>(Me(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vm,{type:vm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[vm];h!==void 0&&n(!!h),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iE()||Zb()||yp()}}const MC=OC;var l_="@firebase/auth",u_="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VC(r){Po(new Aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Me(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:sE(r)},g=new Z1(s,o,u,p);return lN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Po(new Aa("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(s=>new PC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cs(l_,u_,jC(r)),Cs(l_,u_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=5*60,LC=Vb("authIdTokenMaxAge")||kC;let c_=null;const UC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>LC)return;const o=n==null?void 0:n.token;c_!==o&&(c_=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zC(r=zb()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=oN(r,{popupRedirectResolver:MC,persistence:[GN,MN,pE]}),s=Vb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=UC(u.toString());CN(n,h,()=>h(n.currentUser)),NN(n,f=>h(f))}}const o=Pb("auth");return o&&uN(n,`http://${o}`),n}function BC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}J1({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Nr("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",BC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VC("Browser");var h_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Is,wE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,A){function S(){}S.prototype=A.prototype,O.D=A.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(I,j,B){for(var D=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)D[Tt-2]=arguments[Tt];return A.prototype[j].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,A,S){S||(S=0);var I=Array(16);if(typeof A=="string")for(var j=0;16>j;++j)I[j]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(j=0;16>j;++j)I[j]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=O.g[0],S=O.g[1],j=O.g[2];var B=O.g[3],D=A+(B^S&(j^B))+I[0]+3614090360&4294967295;A=S+(D<<7&4294967295|D>>>25),D=B+(j^A&(S^j))+I[1]+3905402710&4294967295,B=A+(D<<12&4294967295|D>>>20),D=j+(S^B&(A^S))+I[2]+606105819&4294967295,j=B+(D<<17&4294967295|D>>>15),D=S+(A^j&(B^A))+I[3]+3250441966&4294967295,S=j+(D<<22&4294967295|D>>>10),D=A+(B^S&(j^B))+I[4]+4118548399&4294967295,A=S+(D<<7&4294967295|D>>>25),D=B+(j^A&(S^j))+I[5]+1200080426&4294967295,B=A+(D<<12&4294967295|D>>>20),D=j+(S^B&(A^S))+I[6]+2821735955&4294967295,j=B+(D<<17&4294967295|D>>>15),D=S+(A^j&(B^A))+I[7]+4249261313&4294967295,S=j+(D<<22&4294967295|D>>>10),D=A+(B^S&(j^B))+I[8]+1770035416&4294967295,A=S+(D<<7&4294967295|D>>>25),D=B+(j^A&(S^j))+I[9]+2336552879&4294967295,B=A+(D<<12&4294967295|D>>>20),D=j+(S^B&(A^S))+I[10]+4294925233&4294967295,j=B+(D<<17&4294967295|D>>>15),D=S+(A^j&(B^A))+I[11]+2304563134&4294967295,S=j+(D<<22&4294967295|D>>>10),D=A+(B^S&(j^B))+I[12]+1804603682&4294967295,A=S+(D<<7&4294967295|D>>>25),D=B+(j^A&(S^j))+I[13]+4254626195&4294967295,B=A+(D<<12&4294967295|D>>>20),D=j+(S^B&(A^S))+I[14]+2792965006&4294967295,j=B+(D<<17&4294967295|D>>>15),D=S+(A^j&(B^A))+I[15]+1236535329&4294967295,S=j+(D<<22&4294967295|D>>>10),D=A+(j^B&(S^j))+I[1]+4129170786&4294967295,A=S+(D<<5&4294967295|D>>>27),D=B+(S^j&(A^S))+I[6]+3225465664&4294967295,B=A+(D<<9&4294967295|D>>>23),D=j+(A^S&(B^A))+I[11]+643717713&4294967295,j=B+(D<<14&4294967295|D>>>18),D=S+(B^A&(j^B))+I[0]+3921069994&4294967295,S=j+(D<<20&4294967295|D>>>12),D=A+(j^B&(S^j))+I[5]+3593408605&4294967295,A=S+(D<<5&4294967295|D>>>27),D=B+(S^j&(A^S))+I[10]+38016083&4294967295,B=A+(D<<9&4294967295|D>>>23),D=j+(A^S&(B^A))+I[15]+3634488961&4294967295,j=B+(D<<14&4294967295|D>>>18),D=S+(B^A&(j^B))+I[4]+3889429448&4294967295,S=j+(D<<20&4294967295|D>>>12),D=A+(j^B&(S^j))+I[9]+568446438&4294967295,A=S+(D<<5&4294967295|D>>>27),D=B+(S^j&(A^S))+I[14]+3275163606&4294967295,B=A+(D<<9&4294967295|D>>>23),D=j+(A^S&(B^A))+I[3]+4107603335&4294967295,j=B+(D<<14&4294967295|D>>>18),D=S+(B^A&(j^B))+I[8]+1163531501&4294967295,S=j+(D<<20&4294967295|D>>>12),D=A+(j^B&(S^j))+I[13]+2850285829&4294967295,A=S+(D<<5&4294967295|D>>>27),D=B+(S^j&(A^S))+I[2]+4243563512&4294967295,B=A+(D<<9&4294967295|D>>>23),D=j+(A^S&(B^A))+I[7]+1735328473&4294967295,j=B+(D<<14&4294967295|D>>>18),D=S+(B^A&(j^B))+I[12]+2368359562&4294967295,S=j+(D<<20&4294967295|D>>>12),D=A+(S^j^B)+I[5]+4294588738&4294967295,A=S+(D<<4&4294967295|D>>>28),D=B+(A^S^j)+I[8]+2272392833&4294967295,B=A+(D<<11&4294967295|D>>>21),D=j+(B^A^S)+I[11]+1839030562&4294967295,j=B+(D<<16&4294967295|D>>>16),D=S+(j^B^A)+I[14]+4259657740&4294967295,S=j+(D<<23&4294967295|D>>>9),D=A+(S^j^B)+I[1]+2763975236&4294967295,A=S+(D<<4&4294967295|D>>>28),D=B+(A^S^j)+I[4]+1272893353&4294967295,B=A+(D<<11&4294967295|D>>>21),D=j+(B^A^S)+I[7]+4139469664&4294967295,j=B+(D<<16&4294967295|D>>>16),D=S+(j^B^A)+I[10]+3200236656&4294967295,S=j+(D<<23&4294967295|D>>>9),D=A+(S^j^B)+I[13]+681279174&4294967295,A=S+(D<<4&4294967295|D>>>28),D=B+(A^S^j)+I[0]+3936430074&4294967295,B=A+(D<<11&4294967295|D>>>21),D=j+(B^A^S)+I[3]+3572445317&4294967295,j=B+(D<<16&4294967295|D>>>16),D=S+(j^B^A)+I[6]+76029189&4294967295,S=j+(D<<23&4294967295|D>>>9),D=A+(S^j^B)+I[9]+3654602809&4294967295,A=S+(D<<4&4294967295|D>>>28),D=B+(A^S^j)+I[12]+3873151461&4294967295,B=A+(D<<11&4294967295|D>>>21),D=j+(B^A^S)+I[15]+530742520&4294967295,j=B+(D<<16&4294967295|D>>>16),D=S+(j^B^A)+I[2]+3299628645&4294967295,S=j+(D<<23&4294967295|D>>>9),D=A+(j^(S|~B))+I[0]+4096336452&4294967295,A=S+(D<<6&4294967295|D>>>26),D=B+(S^(A|~j))+I[7]+1126891415&4294967295,B=A+(D<<10&4294967295|D>>>22),D=j+(A^(B|~S))+I[14]+2878612391&4294967295,j=B+(D<<15&4294967295|D>>>17),D=S+(B^(j|~A))+I[5]+4237533241&4294967295,S=j+(D<<21&4294967295|D>>>11),D=A+(j^(S|~B))+I[12]+1700485571&4294967295,A=S+(D<<6&4294967295|D>>>26),D=B+(S^(A|~j))+I[3]+2399980690&4294967295,B=A+(D<<10&4294967295|D>>>22),D=j+(A^(B|~S))+I[10]+4293915773&4294967295,j=B+(D<<15&4294967295|D>>>17),D=S+(B^(j|~A))+I[1]+2240044497&4294967295,S=j+(D<<21&4294967295|D>>>11),D=A+(j^(S|~B))+I[8]+1873313359&4294967295,A=S+(D<<6&4294967295|D>>>26),D=B+(S^(A|~j))+I[15]+4264355552&4294967295,B=A+(D<<10&4294967295|D>>>22),D=j+(A^(B|~S))+I[6]+2734768916&4294967295,j=B+(D<<15&4294967295|D>>>17),D=S+(B^(j|~A))+I[13]+1309151649&4294967295,S=j+(D<<21&4294967295|D>>>11),D=A+(j^(S|~B))+I[4]+4149444226&4294967295,A=S+(D<<6&4294967295|D>>>26),D=B+(S^(A|~j))+I[11]+3174756917&4294967295,B=A+(D<<10&4294967295|D>>>22),D=j+(A^(B|~S))+I[2]+718787259&4294967295,j=B+(D<<15&4294967295|D>>>17),D=S+(B^(j|~A))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+A&4294967295,O.g[1]=O.g[1]+(j+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+j&4294967295,O.g[3]=O.g[3]+B&4294967295}s.prototype.u=function(O,A){A===void 0&&(A=O.length);for(var S=A-this.blockSize,I=this.B,j=this.h,B=0;B<A;){if(j==0)for(;B<=S;)o(this,O,B),B+=this.blockSize;if(typeof O=="string"){for(;B<A;)if(I[j++]=O.charCodeAt(B++),j==this.blockSize){o(this,I),j=0;break}}else for(;B<A;)if(I[j++]=O[B++],j==this.blockSize){o(this,I),j=0;break}}this.h=j,this.o+=A},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var A=1;A<O.length-8;++A)O[A]=0;var S=8*this.o;for(A=O.length-8;A<O.length;++A)O[A]=S&255,S/=256;for(this.u(O),O=Array(16),A=S=0;4>A;++A)for(var I=0;32>I;I+=8)O[S++]=this.g[A]>>>I&255;return O};function u(O,A){var S=f;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=A(O)}function h(O,A){this.h=A;for(var S=[],I=!0,j=O.length-1;0<=j;j--){var B=O[j]|0;I&&B==A||(S[j]=B,I=!1)}this.g=S}var f={};function p(O){return-128<=O&&128>O?u(O,function(A){return new h([A|0],0>A?-1:0)}):new h([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return w;if(0>O)return q(g(-O));for(var A=[],S=1,I=0;O>=S;I++)A[I]=O/S|0,S*=4294967296;return new h(A,0)}function E(O,A){if(O.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O.charAt(0)=="-")return q(E(O.substring(1),A));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(A,8)),I=w,j=0;j<O.length;j+=8){var B=Math.min(8,O.length-j),D=parseInt(O.substring(j,j+B),A);8>B?(B=g(Math.pow(A,B)),I=I.j(B).add(g(D))):(I=I.j(S),I=I.add(g(D)))}return I}var w=p(0),R=p(1),C=p(16777216);r=h.prototype,r.m=function(){if(X(this))return-q(this).m();for(var O=0,A=1,S=0;S<this.g.length;S++){var I=this.i(S);O+=(0<=I?I:4294967296+I)*A,A*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(X(this))return"-"+q(this).toString(O);for(var A=g(Math.pow(O,6)),S=this,I="";;){var j=_e(S,A).g;S=W(S,j.j(A));var B=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=j,V(S))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var A=0;A<O.g.length;A++)if(O.g[A]!=0)return!1;return!0}function X(O){return O.h==-1}r.l=function(O){return O=W(this,O),X(O)?-1:V(O)?0:1};function q(O){for(var A=O.g.length,S=[],I=0;I<A;I++)S[I]=~O.g[I];return new h(S,~O.h).add(R)}r.abs=function(){return X(this)?q(this):this},r.add=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],I=0,j=0;j<=A;j++){var B=I+(this.i(j)&65535)+(O.i(j)&65535),D=(B>>>16)+(this.i(j)>>>16)+(O.i(j)>>>16);I=D>>>16,B&=65535,D&=65535,S[j]=D<<16|B}return new h(S,S[S.length-1]&-2147483648?-1:0)};function W(O,A){return O.add(q(A))}r.j=function(O){if(V(this)||V(O))return w;if(X(this))return X(O)?q(this).j(q(O)):q(q(this).j(O));if(X(O))return q(this.j(q(O)));if(0>this.l(C)&&0>O.l(C))return g(this.m()*O.m());for(var A=this.g.length+O.g.length,S=[],I=0;I<2*A;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var j=0;j<O.g.length;j++){var B=this.i(I)>>>16,D=this.i(I)&65535,Tt=O.i(j)>>>16,qe=O.i(j)&65535;S[2*I+2*j]+=D*qe,ee(S,2*I+2*j),S[2*I+2*j+1]+=B*qe,ee(S,2*I+2*j+1),S[2*I+2*j+1]+=D*Tt,ee(S,2*I+2*j+1),S[2*I+2*j+2]+=B*Tt,ee(S,2*I+2*j+2)}for(I=0;I<A;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=A;I<2*A;I++)S[I]=0;return new h(S,0)};function ee(O,A){for(;(O[A]&65535)!=O[A];)O[A+1]+=O[A]>>>16,O[A]&=65535,A++}function ae(O,A){this.g=O,this.h=A}function _e(O,A){if(V(A))throw Error("division by zero");if(V(O))return new ae(w,w);if(X(O))return A=_e(q(O),A),new ae(q(A.g),q(A.h));if(X(A))return A=_e(O,q(A)),new ae(q(A.g),A.h);if(30<O.g.length){if(X(O)||X(A))throw Error("slowDivide_ only works with positive integers.");for(var S=R,I=A;0>=I.l(O);)S=L(S),I=L(I);var j=he(S,1),B=he(I,1);for(I=he(I,2),S=he(S,2);!V(I);){var D=B.add(I);0>=D.l(O)&&(j=j.add(S),B=D),I=he(I,1),S=he(S,1)}return A=W(O,j.j(A)),new ae(j,A)}for(j=w;0<=O.l(A);){for(S=Math.max(1,Math.floor(O.m()/A.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=g(S),D=B.j(A);X(D)||0<D.l(O);)S-=I,B=g(S),D=B.j(A);V(B)&&(B=R),j=j.add(B),O=W(O,D)}return new ae(j,O)}r.A=function(O){return _e(this,O).h},r.and=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)&O.i(I);return new h(S,this.h&O.h)},r.or=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)|O.i(I);return new h(S,this.h|O.h)},r.xor=function(O){for(var A=Math.max(this.g.length,O.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)^O.i(I);return new h(S,this.h^O.h)};function L(O){for(var A=O.g.length+1,S=[],I=0;I<A;I++)S[I]=O.i(I)<<1|O.i(I-1)>>>31;return new h(S,O.h)}function he(O,A){var S=A>>5;A%=32;for(var I=O.g.length-S,j=[],B=0;B<I;B++)j[B]=0<A?O.i(B+S)>>>A|O.i(B+S+1)<<32-A:O.i(B+S);return new h(j,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,wE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Is=h}).apply(typeof h_<"u"?h_:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var SE,eu,AE,lh,jm,RE,NE,CE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var T=0;T<c.length-1;T++){var F=c[T];if(!(F in _))break e;_=_[F]}c=c[c.length-1],T=_[c],y=y(T),y!=T&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,T=!1,F={next:function(){if(!T&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return T=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,T),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,R.apply(null,arguments)}function C(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function V(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(T,F,$){for(var le=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)le[tt-2]=arguments[tt];return y.prototype[F].apply(T,le)}}function X(c){const y=c.length;if(0<y){const _=Array(y);for(let T=0;T<y;T++)_[T]=c[T];return _}return[]}function q(c,y){for(let _=1;_<arguments.length;_++){const T=arguments[_];if(p(T)){const F=c.length||0,$=T.length||0;c.length=F+$;for(let le=0;le<$;le++)c[F+le]=T[le]}else c.push(T)}}class W{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var L=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function he(c,y,_){for(const T in c)y.call(_,c[T],T,c)}function O(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function A(c){const y={};for(const _ in c)y[_]=c[_];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let _,T;for(let F=1;F<arguments.length;F++){T=arguments[F];for(_ in T)c[_]=T[_];for(let $=0;$<S.length;$++)_=S[$],Object.prototype.hasOwnProperty.call(T,_)&&(c[_]=T[_])}}function j(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function B(c){f.setTimeout(()=>{throw c},0)}function D(){var c=Be;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Tt{constructor(){this.h=this.g=null}add(y,_){const T=qe.get();T.set(y,_),this.h?this.h.next=T:this.g=T,this.h=T}}var qe=new W(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,Ee=!1,Be=new Tt,P=()=>{const c=f.Promise.resolve(void 0);Ce=()=>{c.then(se)}};var se=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){B(_)}var y=qe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Ee=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function de(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}de.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,y),f.removeEventListener("test",_,y)}catch{}return c}();function Pe(c,y){if(de.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(L){e:{try{_e(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ue[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pe.aa.h.call(this)}}V(Pe,de);var Ue={2:"touch",3:"pen",4:"mouse"};Pe.prototype.h=function(){Pe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ke(c,y,_,T,F){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!T,this.ha=F,this.key=++et,this.da=this.fa=!1}function $e(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Wt(c){this.src=c,this.g={},this.h=0}Wt.prototype.add=function(c,y,_,T,F){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var le=Lt(c,y,T,F);return-1<le?(y=c[le],_||(y.fa=!1)):(y=new Ke(y,this.src,$,!!T,F),y.fa=_,c.push(y)),y};function vr(c,y){var _=y.type;if(_ in c.g){var T=c.g[_],F=Array.prototype.indexOf.call(T,y,void 0),$;($=0<=F)&&Array.prototype.splice.call(T,F,1),$&&($e(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Lt(c,y,_,T){for(var F=0;F<c.length;++F){var $=c[F];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==T)return F}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),Or={};function $n(c,y,_,T,F){if(Array.isArray(y)){for(var $=0;$<y.length;$++)$n(c,y[$],_,T,F);return null}return _=Un(_),c&&c[Ct]?c.K(y,_,g(T)?!!T.capture:!1,F):qs(c,y,_,!1,T,F)}function qs(c,y,_,T,F,$){if(!y)throw Error("Invalid event type");var le=g(F)?!!F.capture:!!F,tt=Qi(c);if(tt||(c[Dr]=tt=new Wt(c)),_=tt.add(y,_,T,le,$),_.proxy)return _;if(T=Gi(),_.proxy=T,T.src=c,T.listener=_,c.addEventListener)me||(F=le),F===void 0&&(F=!1),c.addEventListener(y.toString(),T,F);else if(c.attachEvent)c.attachEvent(Mn(y.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Gi(){function c(_){return y.call(c.src,c.listener,_)}const y=oi;return c}function Ki(c,y,_,T,F){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ki(c,y[$],_,T,F);else T=g(T)?!!T.capture:!!T,_=Un(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Lt($,_,T,F),-1<_&&($e($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=Qi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Lt(y,_,T,F)),(_=-1<c?y[c]:null)&&ai(_))}function ai(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])vr(y.i,c);else{var _=c.type,T=c.proxy;y.removeEventListener?y.removeEventListener(_,T,c.capture):y.detachEvent?y.detachEvent(Mn(_),T):y.addListener&&y.removeListener&&y.removeListener(T),(_=Qi(y))?(vr(_,c),_.h==0&&(_.src=null,y[Dr]=null)):$e(c)}}}function Mn(c){return c in Or?Or[c]:Or[c]="on"+c}function oi(c,y){if(c.da)c=!0;else{y=new Pe(y,this);var _=c.listener,T=c.ha||c.src;c.fa&&ai(c),c=_.call(T,y)}return c}function Qi(c){return c=c[Dr],c instanceof Wt?c:null}var Zt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Un(c){return typeof c=="function"?c:(c[Zt]||(c[Zt]=function(y){return c.handleEvent(y)}),c[Zt])}function mt(){pe.call(this),this.i=new Wt(this),this.M=this,this.F=null}V(mt,pe),mt.prototype[Ct]=!0,mt.prototype.removeEventListener=function(c,y,_,T){Ki(this,c,y,_,T)};function Pt(c,y){var _,T=c.F;if(T)for(_=[];T;T=T.F)_.push(T);if(c=c.M,T=y.type||y,typeof y=="string")y=new de(y,c);else if(y instanceof de)y.target=y.target||c;else{var F=y;y=new de(T,c),I(y,F)}if(F=!0,_)for(var $=_.length-1;0<=$;$--){var le=y.g=_[$];F=zn(le,T,!0,y)&&F}if(le=y.g=c,F=zn(le,T,!0,y)&&F,F=zn(le,T,!1,y)&&F,_)for($=0;$<_.length;$++)le=y.g=_[$],F=zn(le,T,!1,y)&&F}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],T=0;T<_.length;T++)$e(_[T]);delete c.g[y],c.h--}}this.F=null},mt.prototype.K=function(c,y,_,T){return this.i.add(String(c),y,!1,_,T)},mt.prototype.L=function(c,y,_,T){return this.i.add(String(c),y,!0,_,T)};function zn(c,y,_,T){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,$=0;$<y.length;++$){var le=y[$];if(le&&!le.da&&le.capture==_){var tt=le.listener,Ft=le.ha||le.src;le.fa&&vr(c.i,le),F=tt.call(Ft,T)!==!1&&F}}return F&&!T.defaultPrevented}function La(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(c,y||0)}function Pn(c){c.g=La(()=>{c.g=null,c.i&&(c.i=!1,Pn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ua extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Pn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(c){pe.call(this),this.h=c,this.g={}}V(Mr,pe);var _r=[];function Jt(c){he(c.g,function(y,_){this.g.hasOwnProperty(_)&&ai(y)},c),c.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),Jt(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yi=f.JSON.stringify,An=f.JSON.parse,en=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function li(){}li.prototype.h=null;function za(c){return c.h||(c.h=c.i())}function Fs(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){de.call(this,"d")}V(br,de);function vn(){de.call(this,"c")}V(vn,de);var un={},Pr=null;function $i(){return Pr=Pr||new mt}un.La="serverreachability";function M(c){de.call(this,un.La,c)}V(M,de);function z(c){const y=$i();Pt(y,new M(y))}un.STAT_EVENT="statevent";function Y(c,y){de.call(this,un.STAT_EVENT,c),this.stat=y}V(Y,de);function te(c){const y=$i();Pt(y,new Y(y,c))}un.Ma="timingevent";function ce(c,y){de.call(this,un.Ma,c),this.size=y}V(ce,de);function Ae(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Se(){this.g=!0}Se.prototype.xa=function(){this.g=!1};function xe(c,y,_,T,F,$){c.info(function(){if(c.g)if($)for(var le="",tt=$.split("&"),Ft=0;Ft<tt.length;Ft++){var nt=tt[Ft].split("=");if(1<nt.length){var rn=nt[0];nt=nt[1];var Gt=rn.split("_");le=2<=Gt.length&&Gt[1]=="type"?le+(rn+"="+nt+"&"):le+(rn+"=redacted&")}}else le=null;else le=$;return"XMLHTTP REQ ("+T+") [attempt "+F+"]: "+y+`
`+_+`
`+le})}function Te(c,y,_,T,F,$,le){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+F+"]: "+y+`
`+_+`
`+$+" "+le})}function fe(c,y,_,T){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ve(c,_)+(T?" "+T:"")})}function ye(c,y){c.info(function(){return"TIMEOUT: "+y})}Se.prototype.info=function(){};function ve(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var T=_[c];if(!(2>T.length)){var F=T[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var le=1;le<F.length;le++)F[le]=""}}}}return Yi(_)}catch{return y}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},at={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wt;function yt(){}V(yt,li),yt.prototype.g=function(){return new XMLHttpRequest},yt.prototype.i=function(){return{}},wt=new yt;function st(c,y,_,T){this.j=c,this.i=y,this.l=_,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xt}function xt(){this.i=null,this.g="",this.h=!1}var Rn={},Bn={};function jt(c,y,_){c.L=1,c.v=Ys(It(y)),c.m=_,c.P=!0,Ut(c,null)}function Ut(c,y){c.F=Date.now(),ct(c),c.A=It(c.v);var _=c.A,T=c.R;Array.isArray(T)||(T=[String(T)]),di(_.i,"t",T),c.C=0,_=c.j.J,c.h=new xt,c.g=Ku(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ua(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,T=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(_r[0]=F.toString()),F=_r);for(var $=0;$<F.length;$++){var le=$n(_,F[$],T||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),z(),xe(c.i,c.u,c.A,c.l,c.R,c.m)}st.prototype.ca=function(c){c=c.target;const y=this.M;y&&rr(c)==3?y.j():this.Y(c)},st.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=rr(this.g);var y=this.g.Ba();const gi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=gi?z(3):z(2)),Er(this);var _=this.g.Z();this.X=_;t:if(Wn(this)){var T=Lu(this.g);c="";var F=T.length,$=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ht(this),He(this);var le="";break t}this.h.i=new f.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(T[y],{stream:!($&&y==F-1)});T.length=0,this.h.g+=c,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Te(this.i,this.u,this.A,this.l,this.R,Gt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Ft=this.g;if((tt=Ft.g?Ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(tt)){var nt=tt;break t}}nt=null}if(_=nt)fe(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tn(this,_);else{this.o=!1,this.s=3,te(12),ht(this),He(this);break e}}if(this.P){_=!0;let cn;for(;!this.J&&this.C<le.length;)if(cn=jn(this,le),cn==Bn){Gt==4&&(this.s=4,te(14),_=!1),fe(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==Rn){this.s=4,te(15),fe(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else fe(this.i,this.l,cn,null),tn(this,cn);if(Wn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||le.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)fe(this.i,this.l,le,"[Invalid Chunked Response]"),ht(this),He(this);else if(0<le.length&&!this.W){this.W=!0;var rn=this.j;rn.g==this&&rn.ba&&!rn.M&&(rn.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),ta(rn),rn.M=!0,te(11))}}else fe(this.i,this.l,le,null),tn(this,le);Gt==4&&ht(this),this.o&&!this.J&&(Gt==4?qu(this.j,this):(this.o=!1,ct(this)))}else ud(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ht(this),He(this)}}}catch{}finally{}};function Wn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function jn(c,y){var _=c.C,T=y.indexOf(`
`,_);return T==-1?Bn:(_=Number(y.substring(_,T)),isNaN(_)?Rn:(T+=1,T+_>y.length?Bn:(y=y.slice(T,T+_),c.C=T+_,y)))}st.prototype.cancel=function(){this.J=!0,ht(this)};function ct(c){c.S=Date.now()+c.I,jr(c,c.I)}function jr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ae(R(c.ba,c),y)}function Er(c){c.B&&(f.clearTimeout(c.B),c.B=null)}st.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ye(this.i,this.A),this.L!=2&&(z(),te(17)),ht(this),this.s=2,He(this)):jr(this,this.S-c)};function He(c){c.j.G==0||c.J||qu(c.j,c)}function ht(c){Er(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Jt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function tn(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Vr(_.h,c))){if(!c.K&&Vr(_.h,c)&&_.G==3){try{var T=_.Da.g.parse(y)}catch{T=null}if(Array.isArray(T)&&T.length==3){var F=T;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Xa(_),Ya(_);else break e;rl(_),te(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ae(R(_.Za,_),6e3));if(1>=Gs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else pi(_,11)}else if((c.K||_.g==c)&&Xa(_),!ee(y))for(F=_.Da.g.parse(y),y=0;y<F.length;y++){let nt=F[y];if(_.T=nt[0],nt=nt[1],_.G==2)if(nt[0]=="c"){_.K=nt[1],_.ia=nt[2];const rn=nt[3];rn!=null&&(_.la=rn,_.j.info("VER="+_.la));const Gt=nt[4];Gt!=null&&(_.Aa=Gt,_.j.info("SVER="+_.Aa));const gi=nt[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,_.L=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const cn=c.g;if(cn){const qr=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var $=T.h;$.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Xi($,$.h),$.h=null))}if(T.D){const sl=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(T.ya=sl,ot(T.I,T.D,sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),T=_;var le=c;if(T.qa=Gu(T,T.J?T.ia:null,T.W),le.K){Jn(T.h,le);var tt=le,Ft=T.L;Ft&&(tt.I=Ft),tt.B&&(Er(tt),ct(tt)),T.g=le}else Bu(T);0<_.i.length&&$a(_)}else nt[0]!="stop"&&nt[0]!="close"||pi(_,7);else _.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?pi(_,7):tl(_):nt[0]!="noop"&&_.l&&_.l.ta(nt),_.v=0)}}z(4)}catch{}}var ui=class{constructor(c,y){this.g=c,this.map=y}};function _t(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Gs(c){return c.h?1:c.g?c.g.size:0}function Vr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Xi(c,y){c.g?c.g.add(y):c.h=y}function Jn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}_t.prototype.cancel=function(){if(this.i=Nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return X(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,T=0;T<_;T++)y.push(c[T]);return y}y=[],_=0;for(T in c)y[_++]=c[T];return y}function sd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const T in c)y[_++]=T;return y}}}function Ks(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=sd(c),T=Pu(c),F=T.length,$=0;$<F;$++)y.call(void 0,T[$],_&&_[$],c)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var T=c[_].indexOf("="),F=null;if(0<=T){var $=c[_].substring(0,T);F=c[_].substring(T+1)}else $=c[_];y($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ci){this.h=c.h,Wi(this,c.j),this.o=c.o,this.g=c.g,Qs(this,c.s),this.l=c.l;var y=c.i,_=new kr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ha(this,_),this.m=c.m}else c&&(y=String(c).match($o))?(this.h=!1,Wi(this,y[1]||"",!0),this.o=Zi(y[2]||""),this.g=Zi(y[3]||"",!0),Qs(this,y[4]),this.l=Zi(y[5]||"",!0),Ha(this,y[6]||"",!0),this.m=Zi(y[7]||"")):(this.h=!1,this.i=new kr(null,this.h))}ci.prototype.toString=function(){var c=[],y=this.j;y&&c.push(er(y,Xo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(er(y,Xo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(er(_,_.charAt(0)=="/"?Wo:ju,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",er(_,ld)),c.join("")};function It(c){return new ci(c)}function Wi(c,y,_){c.j=_?Zi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Qs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ha(c,y,_){y instanceof kr?(c.i=y,Zo(c.i,c.h)):(_||(y=er(y,od)),c.i=new kr(y,c.h))}function ot(c,y,_){c.i.set(y,_)}function Ys(c){return ot(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Zi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function er(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ad),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ad(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,ju=/[#\?:]/g,Wo=/[#\?]/g,od=/[#\?@]/g,ld=/#/g;function kr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function tr(c){c.g||(c.g=new Map,c.h=0,c.i&&Ba(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=kr.prototype,r.add=function(c,y){tr(this),this.i=null,c=fi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function qa(c,y){tr(c),y=fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function hi(c,y){return tr(c),y=fi(c,y),c.g.has(y)}r.forEach=function(c,y){tr(this),this.g.forEach(function(_,T){_.forEach(function(F){c.call(y,F,T,this)},this)},this)},r.na=function(){tr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let T=0;T<y.length;T++){const F=c[T];for(let $=0;$<F.length;$++)_.push(y[T])}return _},r.V=function(c){tr(this);let y=[];if(typeof c=="string")hi(this,c)&&(y=y.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return tr(this),this.i=null,c=fi(this,c),hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function di(c,y,_){qa(c,y),0<_.length&&(c.i=null,c.g.set(fi(c,y),X(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var T=y[_];const $=encodeURIComponent(String(T)),le=this.V(T);for(T=0;T<le.length;T++){var F=$;le[T]!==""&&(F+="="+encodeURIComponent(String(le[T]))),c.push(F)}}return this.i=c.join("&")};function fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Zo(c,y){y&&!c.j&&(tr(c),c.i=null,c.g.forEach(function(_,T){var F=T.toLowerCase();T!=F&&(qa(this,T),di(this,F,_))},c)),c.j=y}function Vu(c,y){const _=new Se;if(f.Image){const T=new Image;T.onload=C(nr,_,"TestLoadImage: loaded",!0,y,T),T.onerror=C(nr,_,"TestLoadImage: error",!1,y,T),T.onabort=C(nr,_,"TestLoadImage: abort",!1,y,T),T.ontimeout=C(nr,_,"TestLoadImage: timeout",!1,y,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else y(!1)}function $s(c,y){const _=new Se,T=new AbortController,F=setTimeout(()=>{T.abort(),nr(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:T.signal}).then($=>{clearTimeout(F),$.ok?nr(_,"TestPingServer: ok",!0,y):nr(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),nr(_,"TestPingServer: error",!1,y)})}function nr(c,y,_,T,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),T(_)}catch{}}function Xs(){this.g=new en}function Lr(c,y,_){const T=_||"";try{Ks(c,function(F,$){let le=F;g(F)&&(le=Yi(F)),y.push(T+$+"="+encodeURIComponent(le))})}catch(F){throw y.push(T+"type="+encodeURIComponent("_badmap")),F}}function Ji(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Ji,li),Ji.prototype.g=function(){return new mi(this.l,this.j)},Ji.prototype.i=function(c){return function(){return c}}({});function mi(c,y){mt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(mi,mt),r=mi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,zr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ur(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zr(this)),this.g&&(this.readyState=3,zr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ur(this):zr(this),this.readyState==3&&Jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Ur(this))},r.Qa=function(c){this.g&&(this.response=c,Ur(this))},r.ga=function(){this.g&&Ur(this)};function Ur(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function zr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return he(c,function(_,T){y+=T,y+=":",y+=_,y+=`\r
`}),y}function nn(c,y,_){e:{for(T in _){var T=!1;break e}T=!0}T||(_=el(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ot(c,y,_))}function dt(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(dt,mt);var Fa=/^https?$/i,Ws=["POST","PUT"];r=dt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wt.g(),this.v=this.o?za(this.o):za(wt),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){ku(this,$);return}if(c=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var F in T)_.set(F,T[F]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())_.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),F=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ws,y,void 0))||T||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of _)this.g.setRequestHeader($,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){ku(this,$)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ga(c),Br(c)}function Ga(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Br(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Br(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ka(this):this.bb())},r.bb=function(){Ka(this)};function Ka(c){if(c.h&&typeof h<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)La(c.Ea,0,c);else if(Pt(c,"readystatechange"),rr(c)==4){c.h=!1;try{const le=c.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var T;if(T=le===0){var F=String(c.D).match($o)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),T=!Fa.test(F?F.toLowerCase():"")}_=T}if(_)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var $=2<rr(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Ga(c)}}finally{Br(c)}}}}function Br(c,y){if(c.g){Zs(c);const _=c.g,T=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Pt(c,"ready");try{_.onreadystatechange=T}catch{}}}function Zs(c){c.I&&(f.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),An(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ud(c){const y={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(ee(c[T]))continue;var _=j(c[T]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[F]||[];y[F]=$,$.push(_)}O(y,function(T){return T.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function Qa(c){this.Aa=0,this.i=[],this.j=new Se,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,c),this.cb=Js("retryDelaySeedMs",1e4,c),this.Wa=Js("forwardChannelMaxRetries",2,c),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _t(c&&c.concurrentRequestLimit),this.Da=new Xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Qa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,T){te(0),this.W=c,this.H=y||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.I=Gu(this,null,this.W),$a(this)};function tl(c){if(Uu(c),c.G==3){var y=c.U++,_=It(c.I);if(ot(_,"SID",c.K),ot(_,"RID",y),ot(_,"TYPE","terminate"),ea(c,_),y=new st(c,c.j,y),y.L=2,y.v=Ys(It(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=y.v,_=!0),_||(y.g=Ku(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ct(y)}Fu(c)}function Ya(c){c.g&&(ta(c),c.g.cancel(),c.g=null)}function Uu(c){Ya(c),c.u&&(f.clearTimeout(c.u),c.u=null),Xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function $a(c){if(!Zn(c.h)&&!c.s){c.s=!0;var y=c.Ga;Ce||P(),Ee||(Ce(),Ee=!0),Be.add(y,c),c.B=0}}function cd(c,y){return Gs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ae(R(c.Ga,c,y),il(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new st(this,this.j,c);let $=this.o;if(this.S&&($?($=A($),I($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(y+=T,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=zu(this,F,y),_=It(this.I),ot(_,"RID",c),ot(_,"CVER",22),this.D&&ot(_,"X-HTTP-Session-Id",this.D),ea(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(el($)))+"&"+y:this.m&&nn(_,this.m,$)),Xi(this.h,F),this.Ua&&ot(_,"TYPE","init"),this.P?(ot(_,"$req",y),ot(_,"SID","null"),F.T=!0,jt(F,_,null)):jt(F,_,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Zn(this.h)||nl(this))};function nl(c,y){var _;y?_=y.l:_=c.U++;const T=It(c.I);ot(T,"SID",c.K),ot(T,"RID",_),ot(T,"AID",c.T),ea(c,T),c.m&&c.o&&nn(T,c.m,c.o),_=new st(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Xi(c.h,_),jt(_,T,y)}function ea(c,y){c.H&&he(c.H,function(_,T){ot(y,T,_)}),c.l&&Ks({},function(_,T){ot(y,T,_)})}function zu(c,y,_){_=Math.min(c.i.length,_);var T=c.l?R(c.l.Na,c.l,c):null;e:{var F=c.i;let $=-1;for(;;){const le=["count="+_];$==-1?0<_?($=F[0].g,le.push("ofs="+$)):$=0:le.push("ofs="+$);let tt=!0;for(let Ft=0;Ft<_;Ft++){let nt=F[Ft].g;const rn=F[Ft].map;if(nt-=$,0>nt)$=Math.max(0,F[Ft].g-100),tt=!1;else try{Lr(rn,le,"req"+nt+"_")}catch{T&&T(rn)}}if(tt){T=le.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,T}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Ce||P(),Ee||(Ce(),Ee=!0),Be.add(y,c),c.v=0}}function rl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ae(R(c.Fa,c),il(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Hu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ae(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ya(this),Hu(this))};function ta(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function Hu(c){c.g=new st(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=It(c.qa);ot(y,"RID","rpc"),ot(y,"SID",c.K),ot(y,"AID",c.T),ot(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&ot(y,"TO",c.ja),ot(y,"TYPE","xmlhttp"),ea(c,y),c.m&&c.o&&nn(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Ys(It(y)),_.m=null,_.P=!0,Ut(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ya(this),rl(this),te(19))};function Xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function qu(c,y){var _=null;if(c.g==y){Xa(c),ta(c),c.g=null;var T=2}else if(Vr(c.h,y))_=y.D,Jn(c.h,y),T=1;else return;if(c.G!=0){if(y.o)if(T==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;T=$i(),Pt(T,new ce(T,_)),$a(c)}else Bu(c);else if(F=y.s,F==3||F==0&&0<y.X||!(T==1&&cd(c,y)||T==2&&rl(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),F){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function il(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function pi(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),T=c.Xa;const F=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wi(T,"https"),Ys(T),F?Vu(T.toString(),_):$s(T.toString(),_)}else te(2);c.G=0,c.l&&c.l.sa(y),Fu(c),Uu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=Nn(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,_){var T=_ instanceof ci?It(_):new ci(_);if(T.g!="")y&&(T.g=y+"."+T.g),Qs(T,T.s);else{var F=f.location;T=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var $=new ci(null);T&&Wi($,T),y&&($.g=y),F&&Qs($,F),_&&($.l=_),T=$}return _=c.D,y=c.ya,_&&y&&ot(T,_,y),ot(T,"VER",c.la),ea(c,T),T}function Ku(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new dt(new Ji({eb:_})):new dt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Wa(){}Wa.prototype.g=function(c,y){return new Cn(c,y)};function Cn(c,y){mt.call(this),this.g=new Qa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hr(this)}V(Cn,mt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){tl(this.g)},Cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Yi(c),c=_);y.i.push(new ui(y.Ya++,c)),y.G==3&&$a(y)},Cn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,Cn.aa.N.call(this)};function Yu(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(Yu,br);function $u(){vn.call(this),this.status=1}V($u,vn);function Hr(c){this.g=c}V(Hr,Qu),Hr.prototype.ua=function(){Pt(this.g,"a")},Hr.prototype.ta=function(c){Pt(this.g,new Yu(c))},Hr.prototype.sa=function(c){Pt(this.g,new $u)},Hr.prototype.ra=function(){Pt(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,CE=function(){return new Wa},NE=function(){return $i()},RE=un,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,lh=Ie,at.COMPLETE="complete",AE=at,Fs.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,eu=Fs,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,SE=dt}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const d_="@firebase/firestore",f_="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new up("@firebase/firestore");function Ao(){return Ca.logLevel}function ge(r,...e){if(Ca.logLevel<=Xe.DEBUG){const n=e.map(Tp);Ca.debug(`Firestore (${Go}): ${r}`,...n)}}function zi(r,...e){if(Ca.logLevel<=Xe.ERROR){const n=e.map(Tp);Ca.error(`Firestore (${Go}): ${r}`,...n)}}function jo(r,...e){if(Ca.logLevel<=Xe.WARN){const n=e.map(Tp);Ca.warn(`Firestore (${Go}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(r="Unexpected state"){const e=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: `+r;throw zi(e),new Error(e)}function ft(r,e){r||je()}function Le(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Hi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class qC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class FC{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Vi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},f=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Vi)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ft(typeof s.accessToken=="string"),new IE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new xn(e)}}class GC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class KC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new GC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class QC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ft(this.o===void 0);const s=u=>{u.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new m_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ft(typeof n.token=="string"),this.R=n.token,new m_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=YC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ge(r,e){return r<e?-1:r>e?1:0}function Vm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ge(s,o);{const u=DE(),h=$C(u.encode(p_(r,n)),u.encode(p_(e,n)));return h!==0?h:Ge(s,o)}}n+=s>65535?2:1}return Ge(r.length,e.length)}function p_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function $C(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ge(r[n],e[n]);return Ge(r.length,e.length)}function Vo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,y_=1e6;class $t{static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*y_);return new $t(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<g_)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/y_}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new $t(0,0))}static max(){return new Ve(new $t(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="__name__";class $r{constructor(e,n,s){n===void 0?n=0:n>e.length&&je(),s===void 0?s=e.length-n:s>e.length-n&&je(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return $r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof $r?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=$r.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ge(e.length,n.length)}static compareSegments(e,n){const s=$r.isNumericId(e),o=$r.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?$r.extractNumericId(e).compare($r.extractNumericId(n)):Vm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Is.fromString(e.substring(4,e.length-2))}}class St extends $r{construct(e,n,s){return new St(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new St(n)}static emptyPath(){return new St([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends $r{construct(e,n,s){return new pn(e,n,s)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===v_}static keyField(){return new pn([v_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new Ne(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ne(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(u(),o++)}if(u(),h)throw new Ne(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pn(n)}static emptyPath(){return new pn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.path=e}static fromPath(e){return new De(St.fromString(e))}static fromName(e){return new De(St.fromString(e).popFirst(5))}static empty(){return new De(St.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&St.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return St.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new St(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=-1;function WC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ve.fromTimestamp(s===1e9?new $t(n+1,0):new $t(n,s));return new Ms(o,De.empty(),e)}function ZC(r){return new Ms(r.readTime,r.key,mu)}class Ms{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ms(Ve.min(),De.empty(),mu)}static max(){return new Ms(Ve.max(),De.empty(),mu)}}function JC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=De.comparator(r.documentKey,e.documentKey),n!==0?n:Ge(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==e2)throw r;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new re((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof re?n:re.resolve(n)}catch(n){return re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):re.reject(n)}static resolve(e){return new re((n,s)=>{n(e)})}static reject(e){return new re((n,s)=>{s(e)})}static waitFor(e){return new re((n,s)=>{let o=0,u=0,h=!1;e.forEach(f=>{++o,f.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=re.resolve(!1);for(const s of e)n=n.next(o=>o?re.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new re((s,o)=>{const u=e.length,h=new Array(u);let f=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++f,f===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new re((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function n2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Gh(r){return r==null}function wh(r){return r===0&&1/r==-1/0}function r2(r){return typeof r=="number"&&Number.isInteger(r)&&!wh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME="";function i2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=__(e)),e=s2(r.get(n),e);return __(e)}function s2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ME:n+="";break;default:n+=u}}return n}function __(r){return r+ME+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Pa(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function PE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new Nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??mn.RED,this.left=o??mn.EMPTY,this.right=u??mn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new mn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return mn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return mn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,n,s,o,u){return this}insert(e,n,s){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new E_(this.data.getIterator())}getIteratorFrom(e){return new E_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xt(this.comparator);return n.data=e,n}}class E_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new Rr([])}unionWith(e){let n=new Xt(pn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jE("Invalid base64 string: "+u):u}}(e);return new yn(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new yn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const a2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(r){if(ft(!!r),typeof r=="string"){let e=0;const n=a2.exec(r);if(ft(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function js(r){return typeof r=="string"?yn.fromBase64String(r):yn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="server_timestamp",kE="__type__",LE="__previous_value__",UE="__local_write_time__";function Sp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[kE])===null||n===void 0?void 0:n.stringValue)===VE}function Kh(r){const e=r.mapValue.fields[LE];return Sp(e)?Kh(e):e}function pu(r){const e=Ps(r.mapValue.fields[UE].timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n,s,o,u,h,f,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=g}}const Sh="(default)";class gu{constructor(e,n){this.projectId=e,this.database=n||Sh}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database===Sh}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="__type__",l2="__max__",Zc={mapValue:{}},BE="__vector__",Ah="value";function Vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:c2(r)?9007199254740991:u2(r)?10:11:je()}function ni(r,e){if(r===e)return!0;const n=Vs(r);if(n!==Vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return pu(r).isEqual(pu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Ps(o.timestampValue),f=Ps(u.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return js(o.bytesValue).isEqual(js(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return kt(o.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return kt(o.integerValue)===kt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=kt(o.doubleValue),f=kt(u.doubleValue);return h===f?wh(h)===wh(f):isNaN(h)&&isNaN(f)}return!1}(r,e);case 9:return Vo(r.arrayValue.values||[],e.arrayValue.values||[],ni);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},f=u.mapValue.fields||{};if(b_(h)!==b_(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!ni(h[p],f[p])))return!1;return!0}(r,e);default:return je()}}function yu(r,e){return(r.values||[]).find(n=>ni(n,e))!==void 0}function ko(r,e){if(r===e)return 0;const n=Vs(r),s=Vs(e);if(n!==s)return Ge(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ge(r.booleanValue,e.booleanValue);case 2:return function(u,h){const f=kt(u.integerValue||u.doubleValue),p=kt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(r,e);case 3:return x_(r.timestampValue,e.timestampValue);case 4:return x_(pu(r),pu(e));case 5:return Vm(r.stringValue,e.stringValue);case 6:return function(u,h){const f=js(u),p=js(h);return f.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const f=u.split("/"),p=h.split("/");for(let g=0;g<f.length&&g<p.length;g++){const E=Ge(f[g],p[g]);if(E!==0)return E}return Ge(f.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const f=Ge(kt(u.latitude),kt(h.latitude));return f!==0?f:Ge(kt(u.longitude),kt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return T_(r.arrayValue,e.arrayValue);case 10:return function(u,h){var f,p,g,E;const w=u.fields||{},R=h.fields||{},C=(f=w[Ah])===null||f===void 0?void 0:f.arrayValue,V=(p=R[Ah])===null||p===void 0?void 0:p.arrayValue,X=Ge(((g=C==null?void 0:C.values)===null||g===void 0?void 0:g.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:T_(C,V)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===Zc.mapValue&&h===Zc.mapValue)return 0;if(u===Zc.mapValue)return 1;if(h===Zc.mapValue)return-1;const f=u.fields||{},p=Object.keys(f),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const R=Vm(p[w],E[w]);if(R!==0)return R;const C=ko(f[p[w]],g[E[w]]);if(C!==0)return C}return Ge(p.length,E.length)}(r.mapValue,e.mapValue);default:throw je()}}function x_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ge(r,e);const n=Ps(r),s=Ps(e),o=Ge(n.seconds,s.seconds);return o!==0?o:Ge(n.nanos,s.nanos)}function T_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ko(n[o],s[o]);if(u)return u}return Ge(n.length,s.length)}function Lo(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Ps(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return js(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return De.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=km(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${km(n.fields[h])}`;return o+"}"}(r.mapValue):je()}function uh(r){switch(Vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return js(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+uh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Pa(s.fields,(u,h)=>{o+=u.length+uh(h)}),o}(r.mapValue);default:throw je()}}function Lm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function w_(r){return!!r&&"nullValue"in r}function S_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function u2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[zE])===null||n===void 0?void 0:n.stringValue)===BE}function su(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Pa(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=su(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return Object.assign({},r)}function c2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===l2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=pn.emptyPath(),s={},o=[];e.forEach((h,f)=>{if(!n.isImmediateParentOf(f)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=f.popLast()}h?s[f.lastSegment()]=su(h):o.push(f.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Pa(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new pr(su(this.value))}}function HE(r){const e=[];return Pa(r.fields,(n,s)=>{const o=new pn([n]);if(ch(s)){const u=HE(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,n,s,o,u,h,f){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=f}static newInvalidDocument(e){return new wn(e,0,Ve.min(),Ve.min(),Ve.min(),pr.empty(),0)}static newFoundDocument(e,n,s,o){return new wn(e,1,n,Ve.min(),s,o,0)}static newNoDocument(e,n){return new wn(e,2,n,Ve.min(),Ve.min(),pr.empty(),0)}static newUnknownDocument(e,n){return new wn(e,3,n,Ve.min(),Ve.min(),pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function A_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=De.comparator(De.fromName(h.referenceValue),n.key):s=ko(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function R_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ni(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function h2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{}class Yt extends qE{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new f2(e,n,s):n==="array-contains"?new g2(e,s):n==="in"?new y2(e,s):n==="not-in"?new v2(e,s):n==="array-contains-any"?new _2(e,s):new Yt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new m2(e,s):new p2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ko(n,this.value)):n!==null&&Vs(this.value)===Vs(n)&&this.matchesComparison(ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends qE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ri(e,n)}matches(e){return FE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function FE(r){return r.op==="and"}function GE(r){return d2(r)&&FE(r)}function d2(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Um(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Lo(r.value);if(GE(r))return r.filters.map(e=>Um(e)).join(",");{const e=r.filters.map(n=>Um(n)).join(",");return`${r.op}(${e})`}}function KE(r,e){return r instanceof Yt?function(s,o){return o instanceof Yt&&s.op===o.op&&s.field.isEqual(o.field)&&ni(s.value,o.value)}(r,e):r instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,f)=>u&&KE(h,o.filters[f]),!0):!1}(r,e):void je()}function QE(r){return r instanceof Yt?function(n){return`${n.field.canonicalString()} ${n.op} ${Lo(n.value)}`}(r):r instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(QE).join(" ,")+"}"}(r):"Filter"}class f2 extends Yt{constructor(e,n,s){super(e,n,s),this.key=De.fromName(s.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class m2 extends Yt{constructor(e,n){super(e,"in",n),this.keys=YE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p2 extends Yt{constructor(e,n){super(e,"not-in",n),this.keys=YE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YE(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>De.fromName(s.referenceValue))}class g2 extends Yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&yu(n.arrayValue,this.value)}}class y2 extends Yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&yu(this.value.arrayValue,n)}}class v2 extends Yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(yu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!yu(this.value.arrayValue,n)}}class _2 extends Yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>yu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n=null,s=[],o=[],u=null,h=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=f,this.le=null}}function N_(r,e=null,n=[],s=[],o=null,u=null,h=null){return new b2(r,e,n,s,o,u,h)}function Rp(r){const e=Le(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Um(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Lo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Lo(s)).join(",")),e.le=n}return e.le}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!h2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!KE(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!R_(r.startAt,e.startAt)&&R_(r.endAt,e.endAt)}function zm(r){return De.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n=null,s=[],o=[],u=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=f,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function E2(r,e,n,s,o,u,h,f){return new Qh(r,e,n,s,o,u,h,f)}function Yh(r){return new Qh(r)}function C_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function x2(r){return r.collectionGroup!==null}function au(r){const e=Le(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new Xt(pn.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Nh(u,s))}),n.has(pn.keyField().canonicalString())||e.he.push(new Nh(pn.keyField(),s))}return e.he}function Jr(r){const e=Le(r);return e.Pe||(e.Pe=T2(e,au(r))),e.Pe}function T2(r,e){if(r.limitType==="F")return N_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Nh(o.field,u)});const n=r.endAt?new Rh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Rh(r.startAt.position,r.startAt.inclusive):null;return N_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Bm(r,e,n){return new Qh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function $h(r,e){return Np(Jr(r),Jr(e))&&r.limitType===e.limitType}function $E(r){return`${Rp(Jr(r))}|lt:${r.limitType}`}function Ro(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>QE(o)).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Lo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Lo(o)).join(",")),`Target(${s})`}(Jr(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):De.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,f,p){const g=A_(h,f,p);return h.inclusive?g<=0:g<0}(s.startAt,au(s),o)||s.endAt&&!function(h,f,p){const g=A_(h,f,p);return h.inclusive?g>=0:g>0}(s.endAt,au(s),o))}(r,e)}function w2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XE(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=S2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function S2(r,e,n){const s=r.field.isKeyField()?De.comparator(e.key,n.key):function(u,h,f){const p=h.data.field(u),g=f.data.field(u);return p!==null&&g!==null?ko(p,g):je()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Pa(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Nt(De.comparator);function Bi(){return A2}const WE=new Nt(De.comparator);function tu(...r){let e=WE;for(const n of r)e=e.insert(n.key,n);return e}function ZE(r){let e=WE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function wa(){return ou()}function JE(){return ou()}function ou(){return new ja(r=>r.toString(),(r,e)=>r.isEqual(e))}const R2=new Nt(De.comparator),N2=new Xt(De.comparator);function We(...r){let e=N2;for(const n of r)e=e.add(n);return e}const C2=new Xt(Ge);function I2(){return C2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wh(e)?"-0":e}}function ex(r){return{integerValue:""+r}}function D2(r,e){return r2(e)?ex(e):Cp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(){this._=void 0}}function O2(r,e,n){return r instanceof Ch?function(o,u){const h={fields:{[kE]:{stringValue:VE},[UE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Sp(u)&&(u=Kh(u)),u&&(h.fields[LE]=u),{mapValue:h}}(n,e):r instanceof vu?nx(r,e):r instanceof _u?rx(r,e):function(o,u){const h=tx(o,u),f=I_(h)+I_(o.Ie);return Lm(h)&&Lm(o.Ie)?ex(f):Cp(o.serializer,f)}(r,e)}function M2(r,e,n){return r instanceof vu?nx(r,e):r instanceof _u?rx(r,e):n}function tx(r,e){return r instanceof Ih?function(s){return Lm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ch extends Wh{}class vu extends Wh{constructor(e){super(),this.elements=e}}function nx(r,e){const n=ix(e);for(const s of r.elements)n.some(o=>ni(o,s))||n.push(s);return{arrayValue:{values:n}}}class _u extends Wh{constructor(e){super(),this.elements=e}}function rx(r,e){let n=ix(e);for(const s of r.elements)n=n.filter(o=>!ni(o,s));return{arrayValue:{values:n}}}class Ih extends Wh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function I_(r){return kt(r.integerValue||r.doubleValue)}function ix(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function P2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof vu&&o instanceof vu||s instanceof _u&&o instanceof _u?Vo(s.elements,o.elements,ni):s instanceof Ih&&o instanceof Ih?ni(s.Ie,o.Ie):s instanceof Ch&&o instanceof Ch}(r.transform,e.transform)}class j2{constructor(e,n){this.version=e,this.transformResults=n}}class ki{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ki}static exists(e){return new ki(void 0,e)}static updateTime(e){return new ki(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Zh{}function sx(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ox(r.key,ki.none()):new Cu(r.key,r.data,ki.none());{const n=r.data,s=pr.empty();let o=new Xt(pn.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Va(r.key,s,new Rr(o.toArray()),ki.none())}}function V2(r,e,n){r instanceof Cu?function(o,u,h){const f=o.value.clone(),p=O_(o.fieldTransforms,u,h.transformResults);f.setAll(p),u.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(r,e,n):r instanceof Va?function(o,u,h){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const f=O_(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(ax(o)),p.setAll(f),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function lu(r,e,n,s){return r instanceof Cu?function(u,h,f,p){if(!hh(u.precondition,h))return f;const g=u.value.clone(),E=M_(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof Va?function(u,h,f,p){if(!hh(u.precondition,h))return f;const g=M_(u.fieldTransforms,p,h),E=h.data;return E.setAll(ax(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),f===null?null:f.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,h,f){return hh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(r,e,n)}function k2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=tx(s.transform,o||null);u!=null&&(n===null&&(n=pr.empty()),n.set(s.field,u))}return n||null}function D_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Vo(s,o,(u,h)=>P2(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Cu extends Zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Va extends Zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ax(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function O_(r,e,n){const s=new Map;ft(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,f=e.data.field(u.field);s.set(u.field,M2(h,f,n[o]))}return s}function M_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,O2(u,h,e))}return s}class ox extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L2 extends Zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&V2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=JE();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let f=this.applyToLocalView(h,u.mutatedFields);f=n.has(o.key)?null:f;const p=sx(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),We())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,s)=>D_(n,s))&&Vo(this.baseMutations,e.baseMutations,(n,s)=>D_(n,s))}}class Ip{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){ft(e.mutations.length===s.length);let o=function(){return R2}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Ip(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,it;function H2(r){switch(r){case oe.OK:return je();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return je()}}function lx(r){if(r===void 0)return zi("GRPC error has no .code"),oe.UNKNOWN;switch(r){case qt.OK:return oe.OK;case qt.CANCELLED:return oe.CANCELLED;case qt.UNKNOWN:return oe.UNKNOWN;case qt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case qt.INTERNAL:return oe.INTERNAL;case qt.UNAVAILABLE:return oe.UNAVAILABLE;case qt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case qt.NOT_FOUND:return oe.NOT_FOUND;case qt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case qt.ABORTED:return oe.ABORTED;case qt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case qt.DATA_LOSS:return oe.DATA_LOSS;default:return je()}}(it=qt||(qt={}))[it.OK=0]="OK",it[it.CANCELLED=1]="CANCELLED",it[it.UNKNOWN=2]="UNKNOWN",it[it.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",it[it.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",it[it.NOT_FOUND=5]="NOT_FOUND",it[it.ALREADY_EXISTS=6]="ALREADY_EXISTS",it[it.PERMISSION_DENIED=7]="PERMISSION_DENIED",it[it.UNAUTHENTICATED=16]="UNAUTHENTICATED",it[it.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",it[it.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",it[it.ABORTED=10]="ABORTED",it[it.OUT_OF_RANGE=11]="OUT_OF_RANGE",it[it.UNIMPLEMENTED=12]="UNIMPLEMENTED",it[it.INTERNAL=13]="INTERNAL",it[it.UNAVAILABLE=14]="UNAVAILABLE",it[it.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Is([4294967295,4294967295],0);function P_(r){const e=DE().encode(r),n=new wE;return n.update(e),new Uint8Array(n.digest())}function j_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Is([n,s],0),new Is([o,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Is.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Is.fromNumber(s)));return o.compare(q2)===1&&(o=new Is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=P_(e),[s,o]=j_(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Dp(u,o,n);return s.forEach(f=>h.insert(f)),h}insert(e){if(this.Ee===0)return;const n=P_(e),[s,o]=j_(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Ve.min(),o,new Nt(Ge),Bi(),We())}}class Iu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Iu(s,n,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class ux{constructor(e,n){this.targetId=e,this.ge=n}}class cx{constructor(e,n,s=yn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class V_{constructor(){this.pe=0,this.ye=k_(),this.we=yn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=We(),n=We(),s=We();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:je()}}),new Iu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=k_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ft(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class F2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bi(),this.$e=Jc(),this.Ue=Jc(),this.Ke=new Nt(Ge)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(zm(u))if(s===0){const h=new De(u.path);this.ze(n,h,wn.newNoDocument(h,Ve.min()))}else ft(s===1);else{const h=this.et(n);if(h!==s){const f=this.tt(e),p=f?this.nt(f,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,f;try{h=js(s).toUint8Array()}catch(p){if(p instanceof jE)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new Dp(h,o,u)}catch(p){return jo(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Ee===0?null:f}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),f=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(f)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const f=this.Xe(h);if(f){if(u.current&&zm(f.target)){const p=new De(f.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,wn.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=We();this.Ue.forEach((u,h)=>{let f=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new Jh(e,n,this.Ke,this.Qe,s);return this.Qe=Bi(),this.$e=Jc(),this.Ue=Jc(),this.Ke=new Nt(Ge),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new V_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Xt(Ge),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Xt(Ge),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ge("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new V_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Jc(){return new Nt(De.comparator)}function k_(){return new Nt(De.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},K2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Q2={and:"AND",or:"OR"};class Y2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hx(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $2(r,e){return Dh(r,e.toTimestamp())}function ei(r){return ft(!!r),Ve.fromTimestamp(function(n){const s=Ps(n);return new $t(s.seconds,s.nanos)}(r))}function Op(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=function(o){return new St(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function dx(r){const e=St.fromString(r);return ft(yx(e)),e}function Fm(r,e){return Op(r.databaseId,e.path)}function _m(r,e){const n=dx(e);if(n.get(1)!==r.databaseId.projectId)throw new Ne(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ne(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new De(mx(n))}function fx(r,e){return Op(r.databaseId,e)}function X2(r){const e=dx(r);return e.length===4?St.emptyPath():mx(e)}function Gm(r){return new St(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function mx(r){return ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function L_(r,e,n){return{name:Fm(r,e),fields:n.value.mapValue.fields}}function W2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(ft(E===void 0||typeof E=="string"),yn.fromBase64String(E||"")):(ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array),yn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(g){const E=g.code===void 0?oe.UNKNOWN:lx(g.code);return new Ne(E,g.message||"")}(h);n=new cx(s,o,u,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=ei(s.document.updateTime),h=s.document.createTime?ei(s.document.createTime):Ve.min(),f=new pr({mapValue:{fields:s.document.fields}}),p=wn.newFoundDocument(o,u,h,f),g=s.targetIds||[],E=s.removedTargetIds||[];n=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?ei(s.readTime):Ve.min(),h=wn.newNoDocument(o,u),f=s.removedTargetIds||[];n=new dh([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new dh([],u,o,null)}else{if(!("filter"in e))return je();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new B2(o,u),f=s.targetId;n=new ux(f,h)}}return n}function Z2(r,e){let n;if(e instanceof Cu)n={update:L_(r,e.key,e.value)};else if(e instanceof ox)n={delete:Fm(r,e.key)};else if(e instanceof Va)n={update:L_(r,e.key,e.data),updateMask:oI(e.fieldMask)};else{if(!(e instanceof L2))return je();n={verify:Fm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const f=h.transform;if(f instanceof Ch)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof vu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof _u)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ih)return{fieldPath:h.field.canonicalString(),increment:f.Ie};throw je()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:je()}(r,e.precondition)),n}function J2(r,e){return r&&r.length>0?(ft(e!==void 0),r.map(n=>function(o,u){let h=o.updateTime?ei(o.updateTime):ei(u);return h.isEqual(Ve.min())&&(h=ei(u)),new j2(h,o.transformResults||[])}(n,e))):[]}function eI(r,e){return{documents:[fx(r,e.path)]}}function tI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=fx(r,o);const u=function(g){if(g.length!==0)return gx(ri.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:No(R.field),direction:iI(R.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const f=Hm(r,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function nI(r){let e=X2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){ft(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const R=px(w);return R instanceof ri&&GE(R)?R.getFilters():[R]}(n.where));let h=[];n.orderBy&&(h=function(w){return w.map(R=>function(V){return new Nh(Co(V.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(R))}(n.orderBy));let f=null;n.limit&&(f=function(w){let R;return R=typeof w=="object"?w.value:w,Gh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(w){const R=!!w.before,C=w.values||[];return new Rh(C,R)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const R=!w.before,C=w.values||[];return new Rh(C,R)}(n.endAt)),E2(e,o,h,u,f,"F",p,g)}function rI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function px(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Co(n.unaryFilter.field);return Yt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(n.unaryFilter.field);return Yt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Co(n.unaryFilter.field);return Yt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(r):r.fieldFilter!==void 0?function(n){return Yt.create(Co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(s=>px(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return je()}}(n.compositeFilter.op))}(r):je()}function iI(r){return G2[r]}function sI(r){return K2[r]}function aI(r){return Q2[r]}function No(r){return{fieldPath:r.canonicalString()}}function Co(r){return pn.fromServerFormat(r.fieldPath)}function gx(r){return r instanceof Yt?function(n){if(n.op==="=="){if(S_(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(w_(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S_(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(w_(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:sI(n.op),value:n.value}}}(r):r instanceof ri?function(n){const s=n.getFilters().map(o=>gx(o));return s.length===1?s[0]:{compositeFilter:{op:aI(n.op),filters:s}}}(r):je()}function oI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yx(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n,s,o,u=Ve.min(),h=Ve.min(),f=yn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new As(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new As(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.Tt=e}}function uI(r){const e=nI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(){this.Tn=new hI}addToCollectionParentIndex(e,n){return this.Tn.add(n),re.resolve()}getCollectionParents(e,n){return re.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return re.resolve()}deleteFieldIndex(e,n){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,n){return re.resolve()}getDocumentsMatchingTarget(e,n){return re.resolve(null)}getIndexType(e,n){return re.resolve(0)}getFieldIndexes(e,n){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,n){return re.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,n){return re.resolve(Ms.min())}updateCollectionGroup(e,n,s){return re.resolve()}updateIndexEntries(e,n){return re.resolve()}}class hI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Xt(St.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Xt(St.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vx=41943040;class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(vx,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Uo(0)}static Kn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="LruGarbageCollector",dI=1048576;function B_([r,e],[n,s]){const o=Ge(r,n);return o===0?Ge(e,s):o}class fI{constructor(e){this.Hn=e,this.buffer=new Xt(B_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();B_(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ge(z_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?ge(z_,"Ignoring IndexedDB error during garbage collection: ",n):await Ko(n)}await this.er(3e5)})}}class pI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return re.resolve(Fh.ae);const s=new fI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(U_)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,f,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,h=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,f=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Ao()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${u} targets in `+(p-f)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function gI(r,e){return new pI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.changes=new ja(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&lu(s.mutation,o,Rr.empty(),$t.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,We()).next(()=>s))}getLocalViewOfDocuments(e,n,s=We()){const o=wa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=tu();return u.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=wa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,We()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,f)=>{n.set(h,f)})})}computeViews(e,n,s,o){let u=Bi();const h=ou(),f=function(){return ou()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Va)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),lu(E.mutation,g,E.mutation.getFieldMask(),$t.now())):h.set(g.key,Rr.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var w;return f.set(g,new vI(E,(w=h.get(g))!==null&&w!==void 0?w:null))}),f))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new Nt((h,f)=>h-f),u=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const f of h)f.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rr.empty();E=f.applyToLocalView(g,E),s.set(p,E);const w=(o.get(f.batchId)||We()).add(p);o=o.insert(f.batchId,w)})}).next(()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),g=p.key,E=p.value,w=JE();E.forEach(R=>{if(!u.has(R)){const C=sx(n.get(R),s.get(R));C!==null&&w.set(R,C),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,w))}return re.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return De.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):re.resolve(wa());let f=mu,p=u;return h.next(g=>re.forEach(g,(E,w)=>(f<w.largestBatchId&&(f=w.largestBatchId),u.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,We())).next(E=>({batchId:f,changes:ZE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next(f=>re.forEach(f,p=>{const g=function(w,R){return new Qh(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,R)=>{h=h.insert(w,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,wn.newInvalidDocument(E)))});let f=tu();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&lu(E.mutation,g,Rr.empty(),$t.now()),Xh(n,g)&&(f=f.insert(p,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return re.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:ei(o.createTime)}}(n)),re.resolve()}getNamedQuery(e,n){return re.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:uI(o.bundledQuery),readTime:ei(o.readTime)}}(n)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.overlays=new Nt(De.comparator),this.Rr=new Map}getOverlay(e,n){return re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=wa();return re.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),re.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),re.resolve()}getOverlaysForCollection(e,n,s){const o=wa(),u=n.length+1,h=new De(n.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return re.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new Nt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=wa(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const f=wa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>f.set(g,E)),!(f.size()>=o)););return re.resolve(f)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new z2(n,s));let u=this.Rr.get(n);u===void 0&&(u=We(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Vr=new Xt(ln.mr),this.gr=new Xt(ln.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new ln(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new ln(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new De(new St([])),s=new ln(n,e),o=new ln(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new De(new St([])),s=new ln(n,e),o=new ln(n,e+1);let u=We();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new ln(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ln{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return De.comparator(e.key,n.key)||Ge(e.Cr,n.Cr)}static pr(e,n){return Ge(e.Cr,n.Cr)||De.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Xt(ln.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new U2(u,n,s,o);this.mutationQueue.push(h);for(const f of o)this.Mr=this.Mr.add(new ln(f.key,u)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,n){return re.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return re.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?wp:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ln(n,0),o=new ln(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const f=this.Or(h.Cr);u.push(f)}),re.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Xt(Ge);return n.forEach(o=>{const u=new ln(o,0),h=new ln(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],f=>{s=s.add(f.Cr)})}),re.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;De.isDocumentKey(u)||(u=u.child(""));const h=new ln(new De(u),0);let f=new Xt(Ge);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(f=f.add(p.Cr)),!0)},h),re.resolve(this.Br(f))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ft(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return re.forEach(n.mutations,o=>{const u=new ln(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new ln(n,0),o=this.Mr.firstAfterOrEqual(s);return re.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.kr=e,this.docs=function(){return new Nt(De.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return re.resolve(s?s.document.mutableCopy():wn.newInvalidDocument(n))}getEntries(e,n){let s=Bi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():wn.newInvalidDocument(o))}),re.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Bi();const h=n.path,f=new De(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||JC(ZC(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return re.resolve(u)}getAllFromCollectionGroup(e,n,s,o){je()}qr(e,n){return re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new SI(this)}getSize(e){return re.resolve(this.size)}}class SI extends yI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),re.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.persistence=e,this.Qr=new ja(n=>Rp(n),Np),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Mp,this.targetCount=0,this.Kr=Uo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),re.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,re.resolve()}updateTargetData(e,n){return this.zn(n),re.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,f)=>{f.sequenceNumber<=n&&s.get(f.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)}),re.waitFor(u).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return re.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),re.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),re.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return re.resolve(s)}containsKey(e,n){return re.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Fh(0),this.zr=!1,this.zr=!0,this.jr=new xI,this.referenceDelegate=e(this),this.Hr=new AI(this),this.indexManager=new cI,this.remoteDocumentCache=function(o){return new wI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new lI(n),this.Yr=new bI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new TI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ge("MemoryPersistence","Starting transaction:",e);const o=new RI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return re.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class RI extends t2{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.ti=new Mp,this.ni=null}static ri(e){return new Pp(e)}get ii(){if(this.ni)return this.ni;throw je()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),re.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),re.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),re.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,s=>{const o=De.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ve.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return re.or([()=>re.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.oi=new ja(s=>i2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=gI(this,n)}static ri(e,n){return new Oh(e,n)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return re.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?re.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(f=>{f||(s++,u.removeEntry(h,Ve.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),re.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),re.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}ar(e,n,s){return re.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return re.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=We(),o=We();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return aR()?8:n2(Sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new NI;return this._s(e,n,h).next(f=>{if(u.result=f,this.Xi)return this.us(e,n,h,f.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ao()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(Ao()<=Xe.DEBUG&&ge("QueryEngine","Query:",Ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ao()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jr(n))):re.resolve())}rs(e,n){if(C_(n))return re.resolve(null);let s=Jr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Bm(n,null,"F"),s=Jr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=We(...u);return this.ns.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,f);return this.ls(n,g,h,p.readTime)?this.rs(e,Bm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return C_(n)||o.isEqual(Ve.min())?re.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?re.resolve(null):(Ao()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.hs(e,h,n,WC(o,mu)).next(f=>f))})}cs(e,n){let s=new Xt(XE(e));return n.forEach((o,u)=>{Xh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ao()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ns.getDocumentsMatchingQuery(e,n,Ms.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="LocalStore",II=3e8;class DI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new Nt(Ge),this.Is=new ja(u=>Rp(u),Np),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _I(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function OI(r,e,n,s){return new DI(r,e,n,s)}async function bx(r,e){const n=Le(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],f=[];let p=We();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:f}))})})}function MI(r,e){const n=Le(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(f,p,g,E){const w=g.batch,R=w.keys();let C=re.resolve();return R.forEach(V=>{C=C.next(()=>E.getEntry(p,V)).next(X=>{const q=g.docVersions.get(V);ft(q!==null),X.version.compareTo(q)<0&&(w.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(f){let p=We();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(p=p.add(f.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Ex(r){const e=Le(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function PI(r,e){const n=Le(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const f=[];e.targetChanges.forEach((E,w)=>{const R=o.get(w);if(!R)return;f.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let C=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(yn.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):E.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(E.resumeToken,s)),o=o.insert(w,C),function(X,q,W){return X.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=II?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(R,C,E)&&f.push(n.Hr.updateTargetData(u,C))});let p=Bi(),g=We();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),f.push(jI(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ve.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));f.push(E)}return re.waitFor(f).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function jI(r,e,n){let s=We(),o=We();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=Bi();return n.forEach((f,p)=>{const g=u.get(f);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ge(Vp,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function VI(r,e){const n=Le(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function kI(r,e){const n=Le(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,re.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new As(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Km(r,e,n){const s=Le(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Qo(h))throw h;ge(Vp,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function H_(r,e,n){const s=Le(r);let o=Ve.min(),u=We();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const w=Le(p),R=w.Is.get(E);return R!==void 0?re.resolve(w.Ts.get(R)):w.Hr.getTargetData(g,E)}(s,h,Jr(e)).next(f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:Ve.min(),n?u:We())).next(f=>(LI(s,w2(e),f),{documents:f,gs:u})))}function LI(r,e,n){let s=r.Es.get(e)||Ve.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class q_{constructor(){this.activeTargetIds=I2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UI{constructor(){this.ho=new q_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new q_,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="ConnectivityMonitor";class G_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ge(F_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ge(F_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eh=null;function Qm(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",BI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Sh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=Qm(),f=this.bo(e,n.toUriEncodedString());ge(bm,`Sending RPC '${e}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,f,p,s).then(g=>(ge(bm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw jo(bm,`RPC '${e}' ${h} failed with error: `,g,"url: ",f,"request:",s),g})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Go}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=BI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const En="WebChannelConnection";class FI extends HI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Qm();return new Promise((h,f)=>{const p=new SE;p.setWithCredentials(!0),p.listenOnce(AE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const E=p.getResponseJson();ge(En,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case lh.TIMEOUT:ge(En,`RPC '${e}' ${u} timed out`),f(new Ne(oe.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const w=p.getStatus();if(ge(En,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const V=function(q){const W=q.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN}(C.status);f(new Ne(V,C.message))}else f(new Ne(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ne(oe.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{ge(En,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ge(En,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Qm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=CE(),f=NE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ge(En,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=h.createWebChannel(E,p);let R=!1,C=!1;const V=new qI({Fo:q=>{C?ge(En,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ge(En,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),ge(En,`RPC '${e}' stream ${o} sending:`,q),w.send(q))},Mo:()=>w.close()}),X=(q,W,ee)=>{q.listen(W,ae=>{try{ee(ae)}catch(_e){setTimeout(()=>{throw _e},0)}})};return X(w,eu.EventType.OPEN,()=>{C||(ge(En,`RPC '${e}' stream ${o} transport opened.`),V.Qo())}),X(w,eu.EventType.CLOSE,()=>{C||(C=!0,ge(En,`RPC '${e}' stream ${o} transport closed`),V.Uo())}),X(w,eu.EventType.ERROR,q=>{C||(C=!0,jo(En,`RPC '${e}' stream ${o} transport errored:`,q),V.Uo(new Ne(oe.UNAVAILABLE,"The operation could not be completed")))}),X(w,eu.EventType.MESSAGE,q=>{var W;if(!C){const ee=q.data[0];ft(!!ee);const ae=ee,_e=(ae==null?void 0:ae.error)||((W=ae[0])===null||W===void 0?void 0:W.error);if(_e){ge(En,`RPC '${e}' stream ${o} received error:`,_e);const L=_e.status;let he=function(S){const I=qt[S];if(I!==void 0)return lx(I)}(L),O=_e.message;he===void 0&&(he=oe.INTERNAL,O="Unknown error status: "+L+" with message "+_e.message),C=!0,V.Uo(new Ne(he,O)),w.close()}else ge(En,`RPC '${e}' stream ${o} received:`,ee),V.Ko(ee)}}),X(f,RE.STAT_EVENT,q=>{q.stat===jm.PROXY?ge(En,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===jm.NOPROXY&&ge(En,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(r){return new Y2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ge("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="PersistentStream";class Tx{constructor(e,n,s,o,u,h,f,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new xx(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(zi(n.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new Ne(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ge(K_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ge(K_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GI extends Tx{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=W2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ve.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ve.min():h.readTime?ei(h.readTime):Ve.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Gm(this.serializer),n.addTarget=function(u,h){let f;const p=h.target;if(f=zm(p)?{documents:eI(u,p)}:{query:tI(u,p).ht},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=hx(u,h.resumeToken);const g=Hm(u,h.expectedCount);g!==null&&(f.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ve.min())>0){f.readTime=Dh(u,h.snapshotVersion.toTimestamp());const g=Hm(u,h.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const s=rI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Gm(this.serializer),n.removeTarget=e,this.I_(n)}}class KI extends Tx{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=J2(e.writeResults,e.commitTime),s=ei(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Gm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Z2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class YI extends QI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,qm(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ne(oe.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.Co(e,qm(n,s),o,h,f,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ne(oe.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class $I{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zi(n),this.N_=!1):ge("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="RemoteStore";class XI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{ka(this)&&(ge(Ia,"Restarting streams for network reachability change."),await async function(p){const g=Le(p);g.W_.add(4),await Du(g),g.j_.set("Unknown"),g.W_.delete(4),await td(g)}(this))})}),this.j_=new $I(s,o)}}async function td(r){if(ka(r))for(const e of r.G_)await e(!0)}async function Du(r){for(const e of r.G_)await e(!1)}function wx(r,e){const n=Le(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),zp(n)?Up(n):Yo(n).c_()&&Lp(n,e))}function kp(r,e){const n=Le(r),s=Yo(n);n.K_.delete(e),s.c_()&&Sx(n,e),n.K_.size===0&&(s.c_()?s.P_():ka(n)&&n.j_.set("Unknown"))}function Lp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Yo(r).y_(e)}function Sx(r,e){r.H_.Ne(e),Yo(r).w_(e)}function Up(r){r.H_=new F2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Yo(r).start(),r.j_.B_()}function zp(r){return ka(r)&&!Yo(r).u_()&&r.K_.size>0}function ka(r){return Le(r).W_.size===0}function Ax(r){r.H_=void 0}async function WI(r){r.j_.set("Online")}async function ZI(r){r.K_.forEach((e,n)=>{Lp(r,e)})}async function JI(r,e){Ax(r),zp(r)?(r.j_.q_(e),Up(r)):r.j_.set("Unknown")}async function eD(r,e,n){if(r.j_.set("Online"),e instanceof cx&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const f of u.targetIds)o.K_.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.K_.delete(f),o.H_.removeTarget(f))}(r,e)}catch(s){ge(Ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mh(r,s)}else if(e instanceof dh?r.H_.We(e):e instanceof ux?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ve.min()))try{const s=await Ex(r.localStore);n.compareTo(s)>=0&&await function(u,h){const f=u.H_.ot(h);return f.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(yn.EMPTY_BYTE_STRING,E.snapshotVersion)),Sx(u,p);const w=new As(E.target,p,g,E.sequenceNumber);Lp(u,w)}),u.remoteSyncer.applyRemoteEvent(f)}(r,n)}catch(s){ge(Ia,"Failed to raise snapshot:",s),await Mh(r,s)}}async function Mh(r,e,n){if(!Qo(e))throw e;r.W_.add(1),await Du(r),r.j_.set("Offline"),n||(n=()=>Ex(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ge(Ia,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await td(r)})}function Rx(r,e){return e().catch(n=>Mh(r,n,e))}async function nd(r){const e=Le(r),n=ks(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:wp;for(;tD(e);)try{const o=await VI(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,nD(e,o)}catch(o){await Mh(e,o)}Nx(e)&&Cx(e)}function tD(r){return ka(r)&&r.U_.length<10}function nD(r,e){r.U_.push(e);const n=ks(r);n.c_()&&n.S_&&n.b_(e.mutations)}function Nx(r){return ka(r)&&!ks(r).u_()&&r.U_.length>0}function Cx(r){ks(r).start()}async function rD(r){ks(r).C_()}async function iD(r){const e=ks(r);for(const n of r.U_)e.b_(n.mutations)}async function sD(r,e,n){const s=r.U_.shift(),o=Ip.from(s,e,n);await Rx(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await nd(r)}async function aD(r,e){e&&ks(r).S_&&await async function(s,o){if(function(h){return H2(h)&&h!==oe.ABORTED}(o.code)){const u=s.U_.shift();ks(s).h_(),await Rx(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await nd(s)}}(r,e),Nx(r)&&Cx(r)}async function Q_(r,e){const n=Le(r);n.asyncQueue.verifyOperationInProgress(),ge(Ia,"RemoteStore received new credentials");const s=ka(n);n.W_.add(3),await Du(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await td(n)}async function oD(r,e){const n=Le(r);e?(n.W_.delete(2),await td(n)):e||(n.W_.add(2),await Du(n),n.j_.set("Unknown"))}function Yo(r){return r.J_||(r.J_=function(n,s,o){const u=Le(n);return u.M_(),new GI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:WI.bind(null,r),No:ZI.bind(null,r),Lo:JI.bind(null,r),p_:eD.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),zp(r)?Up(r):r.j_.set("Unknown")):(await r.J_.stop(),Ax(r))})),r.J_}function ks(r){return r.Y_||(r.Y_=function(n,s,o){const u=Le(n);return u.M_(),new KI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:rD.bind(null,r),Lo:aD.bind(null,r),D_:iD.bind(null,r),v_:sD.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await nd(r)):(await r.Y_.stop(),r.U_.length>0&&(ge(Ia,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,f=new Bp(e,n,h,o,u);return f.start(s),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hp(r,e){if(zi("AsyncQueue",`${e}: ${r}`),Qo(r))return new Ne(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static emptySet(e){return new Mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||De.comparator(n.key,s.key):(n,s)=>De.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new Nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.Z_=new Nt(De.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):je():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class zo{constructor(e,n,s,o,u,h,f,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(f=>{h.push({type:0,doc:f})}),new zo(e,n,Mo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class uD{constructor(){this.queries=$_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Le(n),u=o.queries;o.queries=$_(),u.forEach((h,f)=>{for(const p of f.ta)p.onError(s)})})(this,new Ne(oe.ABORTED,"Firestore shutting down"))}}function $_(){return new ja(r=>$E(r),$h)}async function qp(r,e){const n=Le(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new lD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const f=Hp(h,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(f)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Gp(n)}async function Fp(r,e){const n=Le(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cD(r,e){const n=Le(r);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const f of h.ta)f.oa(o)&&(s=!0);h.ea=o}}s&&Gp(n)}function hD(r,e,n){const s=Le(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Gp(r){r.ia.forEach(e=>{e.next()})}var Ym,X_;(X_=Ym||(Ym={}))._a="default",X_.Cache="cache";class Kp{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new zo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e){this.key=e}}class Dx{constructor(e){this.key=e}}class dD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=We(),this.mutatedKeys=We(),this.ya=XE(e),this.wa=new Mo(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new Y_,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const R=o.get(E),C=Xh(this.query,w)?w:null,V=!!R&&this.mutatedKeys.has(R.key),X=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let q=!1;R&&C?R.data.isEqual(C.data)?V!==X&&(s.track({type:3,doc:C}),q=!0):this.va(R,C)||(s.track({type:2,doc:C}),q=!0,(p&&this.ya(C,p)>0||g&&this.ya(C,g)<0)&&(f=!0)):!R&&C?(s.track({type:0,doc:C}),q=!0):R&&!C&&(s.track({type:1,doc:R}),q=!0,(p||g)&&(f=!0)),q&&(C?(h=h.add(C),u=X?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:f,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,w)=>function(C,V){const X=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return X(C)-X(V)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const f=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new zo(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:f}:{Ma:f}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Y_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=We(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new Dx(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new Ix(s))}),n}Oa(e){this.fa=e.gs,this.pa=We();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return zo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Qp="SyncEngine";class fD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mD{constructor(e){this.key=e,this.Ba=!1}}class pD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ja(f=>$E(f),$h),this.qa=new Map,this.Qa=new Set,this.$a=new Nt(De.comparator),this.Ua=new Map,this.Ka=new Mp,this.Wa={},this.Ga=new Map,this.za=Uo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function gD(r,e,n=!0){const s=kx(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Ox(s,e,n,!0),o}async function yD(r,e){const n=kx(r);await Ox(n,e,!0,!1)}async function Ox(r,e,n,s){const o=await kI(r.localStore,Jr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let f;return s&&(f=await vD(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&wx(r.remoteStore,o),f}async function vD(r,e,n,s,o){r.Ha=(w,R,C)=>async function(X,q,W,ee){let ae=q.view.ba(W);ae.ls&&(ae=await H_(X.localStore,q.query,!1).then(({documents:O})=>q.view.ba(O,ae)));const _e=ee&&ee.targetChanges.get(q.targetId),L=ee&&ee.targetMismatches.get(q.targetId)!=null,he=q.view.applyChanges(ae,X.isPrimaryClient,_e,L);return Z_(X,q.targetId,he.Ma),he.snapshot}(r,w,R,C);const u=await H_(r.localStore,e,!0),h=new dD(e,u.gs),f=h.ba(u.documents),p=Iu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(f,r.isPrimaryClient,p);Z_(r,n,g.Ma);const E=new fD(e,n,h);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function _D(r,e,n){const s=Le(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!$h(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Km(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&kp(s.remoteStore,o.targetId),$m(s,o.targetId)}).catch(Ko)):($m(s,o.targetId),await Km(s.localStore,o.targetId,!0))}async function bD(r,e){const n=Le(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),kp(n.remoteStore,s.targetId))}async function ED(r,e,n){const s=ND(r);try{const o=await function(h,f){const p=Le(h),g=$t.now(),E=f.reduce((C,V)=>C.add(V.key),We());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let V=Bi(),X=We();return p.ds.getEntries(C,E).next(q=>{V=q,V.forEach((W,ee)=>{ee.isValidDocument()||(X=X.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,V)).next(q=>{w=q;const W=[];for(const ee of f){const ae=k2(ee,w.get(ee.key).overlayedDocument);ae!=null&&W.push(new Va(ee.key,ae,HE(ae.value.mapValue),ki.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,W,f)}).next(q=>{R=q;const W=q.applyToLocalDocumentSet(w,X);return p.documentOverlayCache.saveOverlays(C,q.batchId,W)})}).then(()=>({batchId:R.batchId,changes:ZE(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,f,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new Nt(Ge)),g=g.insert(f,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,n),await Ou(s,o.changes),await nd(s.remoteStore)}catch(o){const u=Hp(o,"Failed to persist write");n.reject(u)}}async function Mx(r,e){const n=Le(r);try{const s=await PI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?ft(h.Ba):o.removedDocuments.size>0&&(ft(h.Ba),h.Ba=!1))}),await Ou(n,s,e)}catch(s){await Ko(s)}}function W_(r,e,n){const s=Le(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const f=h.view.sa(e);f.snapshot&&o.push(f.snapshot)}),function(h,f){const p=Le(h);p.onlineState=f;let g=!1;p.queries.forEach((E,w)=>{for(const R of w.ta)R.sa(f)&&(g=!0)}),g&&Gp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xD(r,e,n){const s=Le(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new Nt(De.comparator);h=h.insert(u,wn.newNoDocument(u,Ve.min()));const f=We().add(u),p=new Jh(Ve.min(),new Map,new Nt(Ge),h,f);await Mx(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Yp(s)}else await Km(s.localStore,e,!1).then(()=>$m(s,e,n)).catch(Ko)}async function TD(r,e){const n=Le(r),s=e.batch.batchId;try{const o=await MI(n.localStore,e);jx(n,s,null),Px(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Ou(n,o)}catch(o){await Ko(o)}}async function wD(r,e,n){const s=Le(r);try{const o=await function(h,f){const p=Le(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,f).next(w=>(ft(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);jx(s,e,n),Px(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Ou(s,o)}catch(o){await Ko(o)}}function Px(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function jx(r,e,n){const s=Le(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||Vx(r,s)})}function Vx(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(kp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Yp(r))}function Z_(r,e,n){for(const s of n)s instanceof Ix?(r.Ka.addReference(s.key,e),SD(r,s)):s instanceof Dx?(ge(Qp,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||Vx(r,s.key)):je()}function SD(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ge(Qp,"New document in limbo: "+n),r.Qa.add(s),Yp(r))}function Yp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new De(St.fromString(e)),s=r.za.next();r.Ua.set(s,new mD(n)),r.$a=r.$a.insert(n,s),wx(r.remoteStore,new As(Jr(Yh(n.path)),s,"TargetPurposeLimboResolution",Fh.ae))}}async function Ou(r,e,n){const s=Le(r),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((f,p)=>{h.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=jp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=Le(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>re.forEach(g,R=>re.forEach(R.Hi,C=>E.persistence.referenceDelegate.addReference(w,R.targetId,C)).next(()=>re.forEach(R.Ji,C=>E.persistence.referenceDelegate.removeReference(w,R.targetId,C)))))}catch(w){if(!Qo(w))throw w;ge(Vp,"Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const C=E.Ts.get(R),V=C.snapshotVersion,X=C.withLastLimboFreeSnapshotVersion(V);E.Ts=E.Ts.insert(R,X)}}}(s.localStore,u))}async function AD(r,e){const n=Le(r);if(!n.currentUser.isEqual(e)){ge(Qp,"User change. New user:",e.toKey());const s=await bx(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(f=>{f.forEach(p=>{p.reject(new Ne(oe.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ou(n,s.Rs)}}function RD(r,e){const n=Le(r),s=n.Ua.get(e);if(s&&s.Ba)return We().add(s.key);{let o=We();const u=n.qa.get(e);if(!u)return o;for(const h of u){const f=n.ka.get(h);o=o.unionWith(f.view.Sa)}return o}}function kx(r){const e=Le(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.La.p_=cD.bind(null,e.eventManager),e.La.Ja=hD.bind(null,e.eventManager),e}function ND(r){const e=Le(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wD.bind(null,e),e}class Ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ed(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return OI(this.persistence,new CI,e.initialUser,this.serializer)}Xa(e){return new _x(Pp.ri,this.serializer)}Za(e){return new UI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ph.provider={build:()=>new Ph};class CD extends Ph{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ft(this.persistence.referenceDelegate instanceof Oh);const s=this.persistence.referenceDelegate.garbageCollector;return new mI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new _x(s=>Oh.ri(s,n),this.serializer)}}class Xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>W_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=AD.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uD}()}createDatastore(e){const n=ed(e.databaseInfo.databaseId),s=function(u){return new FI(u)}(e.databaseInfo);return function(u,h,f,p){return new YI(u,h,f,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,f){return new XI(s,o,u,h,f)}(this.localStore,this.datastore,e.asyncQueue,n=>W_(this.syncEngine,n,0),function(){return G_.D()?new G_:new zI}())}createSyncEngine(e,n){return function(o,u,h,f,p,g,E){const w=new pD(o,u,h,f,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Le(o);ge(Ia,"RemoteStore shutting down."),u.W_.add(5),await Du(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Xm.provider={build:()=>new Xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="FirestoreClient";class ID{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=xn.UNAUTHENTICATED,this.clientId=OE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ge(Ls,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ge(Ls,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Hp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function xm(r,e){r.asyncQueue.verifyOperationInProgress(),ge(Ls,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await bx(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function J_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await DD(r);ge(Ls,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Q_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Q_(e.remoteStore,o)),r._onlineComponents=e}async function DD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ge(Ls,"Using user provided OfflineComponentProvider");try{await xm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;jo("Error using user provided cache. Falling back to memory cache: "+n),await xm(r,new Ph)}}else ge(Ls,"Using default OfflineComponentProvider"),await xm(r,new CD(void 0));return r._offlineComponents}async function Lx(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ge(Ls,"Using user provided OnlineComponentProvider"),await J_(r,r._uninitializedComponentsProvider._online)):(ge(Ls,"Using default OnlineComponentProvider"),await J_(r,new Xm))),r._onlineComponents}function OD(r){return Lx(r).then(e=>e.syncEngine)}async function jh(r){const e=await Lx(r),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=_D.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=bD.bind(null,e.syncEngine),n}function MD(r,e,n={}){const s=new Vi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,p,g){const E=new $p({next:R=>{E.su(),h.enqueueAndForget(()=>Fp(u,w));const C=R.docs.has(f);!C&&R.fromCache?g.reject(new Ne(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&R.fromCache&&p&&p.source==="server"?g.reject(new Ne(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new Kp(Yh(f.path),E,{includeMetadataChanges:!0,Ta:!0});return qp(u,w)}(await jh(r),r.asyncQueue,e,n,s)),s.promise}function PD(r,e,n={}){const s=new Vi;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,f,p,g){const E=new $p({next:R=>{E.su(),h.enqueueAndForget(()=>Fp(u,w)),R.fromCache&&p.source==="server"?g.reject(new Ne(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new Kp(f,E,{includeMetadataChanges:!0,Ta:!0});return qp(u,w)}(await jh(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(r,e,n){if(!n)throw new Ne(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jD(r,e,n,s){if(e===!0&&s===!0)throw new Ne(oe.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function tb(r){if(!De.isDocumentKey(r))throw new Ne(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function nb(r){if(De.isDocumentKey(r))throw new Ne(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":je()}function ti(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ne(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(r);throw new Ne(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx="firestore.googleapis.com",rb=!0;class ib{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bx,this.ssl=rb}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:rb;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vx;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new Ne(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ux((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rd{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ib({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ib(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new HC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ne(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=eb.get(n);s&&(ge("ComponentProvider","Removing Datastore"),eb.delete(n),s.terminate())}(this),Promise.resolve()}}function VD(r,e,n,s={}){var o;const u=(r=ti(r,rd))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),f=`${e}:${n}`;u.host!==Bx&&u.host!==f&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:f,ssl:!1,emulatorOptions:s});if(!Sa(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=xn.MOCK_USER;else{g=JA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new Ne(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new xn(w)}r._authCredentials=new qC(new IE(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mu(this.firestore,e,this._query)}}class Ln{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ln(this.firestore,e,this._key)}}class Ds extends Mu{constructor(e,n,s){super(e,n,Yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ln(this.firestore,null,new De(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function kD(r,e,...n){if(r=On(r),zx("collection","path",e),r instanceof rd){const s=St.fromString(e,...n);return nb(s),new Ds(r,null,s)}{if(!(r instanceof Ln||r instanceof Ds))throw new Ne(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(St.fromString(e,...n));return nb(s),new Ds(r.firestore,null,s)}}function Da(r,e,...n){if(r=On(r),arguments.length===1&&(e=OE.newId()),zx("doc","path",e),r instanceof rd){const s=St.fromString(e,...n);return tb(s),new Ln(r,null,new De(s))}{if(!(r instanceof Ln||r instanceof Ds))throw new Ne(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(St.fromString(e,...n));return tb(s),new Ln(r.firestore,r instanceof Ds?r.converter:null,new De(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="AsyncQueue";class ab{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new xx(this,"async_queue_retry"),this.Su=()=>{const s=Em();s&&ge(sb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Vi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Qo(e))throw e;ge(sb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(s);throw zi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Bp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function ob(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Bo extends rd{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ab,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function LD(r,e){const n=typeof r=="object"?r:zb(),s=typeof r=="string"?r:Sh,o=hp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=WA("firestore");u&&VD(o,...u)}return o}function id(r){if(r._terminated)throw new Ne(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||UD(r),r._firestoreClient}function UD(r){var e,n,s;const o=r._freezeSettings(),u=function(f,p,g,E){return new o2(f,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ux(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ID(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(yn.fromBase64String(e))}catch(n){throw new Ne(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ho(yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^__.*__$/;class BD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}function qx(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class eg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(qx(this.Lu)&&zD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ed(e)}ju(e,n,s,o=!1){return new eg({Lu:e,methodName:n,zu:s,path:pn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qD(r){const e=r._freezeSettings(),n=ed(r._databaseId);return new HD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function FD(r,e,n,s,o,u={}){const h=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Qx("Data must be an object, but it was:",h,s);const f=Gx(s,h);let p,g;if(u.merge)p=new Rr(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const R=GD(e,w,n);if(!h.contains(R))throw new Ne(oe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);QD(E,R)||E.push(R)}p=new Rr(E),g=h.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=h.fieldTransforms;return new BD(new pr(f),p,g)}function Fx(r,e){if(Kx(r=On(r)))return Qx("Unsupported field value:",e,r),Gx(r,e);if(r instanceof Hx)return function(s,o){if(!qx(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const f of s){let p=Fx(f,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=On(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return D2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=$t.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof $t){const u=new $t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Zp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ho)return{bytesValue:hx(o.serializer,s._byteString)};if(s instanceof Ln){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Jp)return function(h,f){return{mapValue:{fields:{[zE]:{stringValue:BE},[Ah]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw f.Wu("VectorValues must only contain numeric values.");return Cp(f.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Xp(s)}`)}(r,e)}function Gx(r,e){const n={};return PE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Pa(r,(s,o)=>{const u=Fx(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Kx(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof $t||r instanceof Zp||r instanceof Ho||r instanceof Ln||r instanceof Hx||r instanceof Jp)}function Qx(r,e,n){if(!Kx(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Xp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function GD(r,e,n){if((e=On(e))instanceof Wp)return e._internalPath;if(typeof e=="string")return Yx(r,e);throw Vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const KD=new RegExp("[~\\*/\\[\\]]");function Yx(r,e,n){if(e.search(KD)>=0)throw Vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wp(...e.split("."))._internalPath}catch{throw Vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Vh(r,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new Ne(oe.INVALID_ARGUMENT,f+r+p)}function QD(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Xx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YD extends $x{data(){return super.data()}}function Xx(r,e){return typeof e=="string"?Yx(r,e):e instanceof Wp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ne(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $D{convertValue(e,n="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Pa(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>kt(h.doubleValue));return new Jp(u)}convertGeoPoint(e){return new Zp(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(pu(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=St.fromString(e);ft(yx(s));const o=new gu(s.get(1),s.get(3)),u=new De(s.popFirst(5));return o.isEqual(n)||zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zx extends $x{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Xx("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class fh extends Zx{data(e={}){return super.data(e)}}class Jx{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ru(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new fh(this._firestore,this._userDataWriter,s.key,s,new ru(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(f=>{const p=new fh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ru(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(f=>u||f.type!==3).map(f=>{const p=new fh(o._firestore,o._userDataWriter,f.doc.key,f.doc,new ru(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return f.type!==0&&(g=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),E=h.indexOf(f.doc.key)),{type:WD(f.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){r=ti(r,Ln);const e=ti(r.firestore,Bo);return MD(id(e),r._key).then(n=>tT(e,r,n))}class tg extends $D{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ln(this.firestore,null,n)}}function ZD(r){r=ti(r,Mu);const e=ti(r.firestore,Bo),n=id(e),s=new tg(e);return Wx(r._query),PD(n,r._query).then(o=>new Jx(e,s,r,o))}function Wm(r,e,n){r=ti(r,Ln);const s=ti(r.firestore,Bo),o=XD(r.converter,e);return JD(s,[FD(qD(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ki.none())])}function eT(r,...e){var n,s,o;r=On(r);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||ob(e[h])||(u=e[h],h++);const f={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(ob(e[h])){const w=e[h];e[h]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[h+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[h+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(r instanceof Ln)g=ti(r.firestore,Bo),E=Yh(r._key.path),p={next:w=>{e[h]&&e[h](tT(g,r,w))},error:e[h+1],complete:e[h+2]};else{const w=ti(r,Mu);g=ti(w.firestore,Bo),E=w._query;const R=new tg(g);p={next:C=>{e[h]&&e[h](new Jx(g,R,w,C))},error:e[h+1],complete:e[h+2]},Wx(r._query)}return function(R,C,V,X){const q=new $p(X),W=new Kp(C,q,V);return R.asyncQueue.enqueueAndForget(async()=>qp(await jh(R),W)),()=>{q.su(),R.asyncQueue.enqueueAndForget(async()=>Fp(await jh(R),W))}}(id(g),E,f,p)}function JD(r,e){return function(s,o){const u=new Vi;return s.asyncQueue.enqueueAndForget(async()=>ED(await OD(s),o,u)),u.promise}(id(r),e)}function tT(r,e,n){const s=n.docs.get(e._key),o=new tg(r);return new Zx(r,o,e._key,s,new ru(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Go=o})(qo),Po(new Aa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),f=new Bo(new FC(s.getProvider("auth-internal")),new QC(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ne(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),f._setSettings(u),f},"PUBLIC").setMultipleInstances(!0)),Cs(d_,f_,e),Cs(d_,f_,"esm2017")})();const eO={apiKey:"AIzaSyBTpQpYObCYQAMmi4mFJSD1Yayxut-GltA",authDomain:"mentorconnect-ab0d3.firebaseapp.com",projectId:"mentorconnect-ab0d3",storageBucket:"mentorconnect-ab0d3.firebasestorage.app",messagingSenderId:"378861851555",appId:"1:378861851555:web:e7c98394911846c287c016",measurementId:"G-2YKFJ6CFWE"},nT=Ub(eO),kh=zC(nT),Us=LD(nT);function tO(){const r=Bs(),[e,n]=K.useState({name:"",email:"",mobileNumber:"",password:"",userType:""});async function s(u){u.preventDefault();try{if(e.mobileNumber&&e.userType){const f=(await SN(kh,e.email,e.password)).user;console.log(f),await RN(f),alert("Verification email sent. Please verify before proceeding.");let p=!1,g=0;for(;g<15;){if(await f.reload(),f.emailVerified){p=!0;break}await new Promise(E=>setTimeout(E,3e3)),g++}p?(await Wm(Da(Us,"users",f.uid),{name:f.displayName||e.name,email:e.email,mobileNumber:e.mobileNumber,userType:e.userType,emailVerified:!0,createdAt:new Date}),alert("Signup successful! Your account is now verified."),e.userType=="student"?r("/postRequirment"):e.userType=="mentor"?r("/mentorProfileCreate"):r("/signup"),localStorage.setItem("userName",f.displayName),localStorage.setItem("userEmail",f.email),localStorage.setItem("userAccessToken",f.uid),localStorage.setItem("userType",e.userType),console.log("Firebase User:",f)):(alert("Email not verified. Please verify your email and sign up again."),await IN(f))}}catch(h){console.error("Signup Error:",h.message),alert(h.message)}n({name:"",email:"",mobileNumber:"",password:"",userType:""})}async function o(u){u.preventDefault();try{if(e.mobileNumber&&e.userType){const h=new Xr;h.setCustomParameters({prompt:"select_account"});const p=(await xE(kh,h)).user;await Wm(Da(Us,"users",p.uid),{name:p.displayName||e.name,email:p.email,mobileNumber:e.mobileNumber,userType:e.userType,emailVerified:p.emailVerified,createdAt:new Date}),alert("Google Signup Successful!"),e.userType==="mentor"?r("/mentorProfileCreate"):e.userType==="student"?r("/postRequirment"):r("/signup"),localStorage.setItem("userName",p.displayName),localStorage.setItem("userEmail",p.email),localStorage.setItem("userAccessToken",p.uid),localStorage.setItem("userType",e.userType),console.log("Firebase User:",p)}else alert("please fill the required field")}catch(h){console.error("Error Signing In:",h.message)}}return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-6",children:v.jsxs("div",{className:"max-w-md mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gray-700 px-8 py-6 border-b border-gray-600",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Sign Up"}),v.jsx("p",{className:"text-gray-400 mt-1",children:"Create your account to get started."})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("form",{className:"space-y-6",onSubmit:s,children:[v.jsx("div",{id:"recaptcha-container",className:"flex justify-center mb-4"}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm text-gray-400 font-medium uppercase tracking-wide mb-2",children:"Name"}),v.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:u=>n({...e,name:u.target.value}),required:!0,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Enter your name"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm text-gray-400 font-medium uppercase tracking-wide mb-2",children:"Email"}),v.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:u=>n({...e,email:u.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Enter your email",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"mobileNumber",className:"block text-sm text-gray-400 font-medium uppercase tracking-wide mb-2",children:"Mobile Number"}),v.jsx("input",{type:"text",id:"mobileNumber",name:"mobileNumber",value:e.mobileNumber,onChange:u=>n({...e,mobileNumber:u.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Enter your number",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm text-gray-400 font-medium uppercase tracking-wide mb-2",children:"Password"}),v.jsx("input",{type:"password",id:"password",name:"password",value:e.password,onChange:u=>n({...e,password:u.target.value}),className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Enter your password",required:!0})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"radio",value:"mentor",name:"userType",onChange:u=>n({...e,userType:u.target.value}),className:"mr-2",required:!0}),v.jsx("p",{className:"text-yellow-400 text-[14px]",children:"Join as Mentor"})]}),v.jsxs("div",{className:"flex items-center",children:[v.jsx("input",{type:"radio",value:"student",name:"userType",onChange:u=>n({...e,userType:u.target.value}),className:"mr-2",required:!0}),v.jsx("p",{className:"text-yellow-400 text-[14px]",children:"Join as Student"})]})]}),v.jsxs("div",{className:"mt-6",children:[v.jsx("p",{className:"text-gray-400",children:"Continue with Google"}),v.jsx("button",{className:"w-full bg-gray-900 text-yellow-400 px-6 py-2 rounded-lg font-semibold shadow-md transform hover:scale-105 transition duration-300 mt-2",onClick:o,children:"Signup with Google"})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"submit",className:"w-full bg-yellow-400 text-gray-900 px-6 py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300",children:"Sign Up"})})]}),v.jsxs("div",{className:"mt-6 flex text-center justify-center items-center",children:[v.jsx("p",{className:"text-gray-400",children:"Already have an account?"}),v.jsx(Tn,{to:"/login",className:"text-yellow-400 hover:text-yellow-300 transition duration-300 ml-2",children:"Log in"})]})]})]})})}),v.jsx(Ir,{})]})}function nO(){const r=Bs(),[e,n]=K.useState({userEmail:"",userPassword:""});async function s(u){u.preventDefault();try{const f=(await AN(kh,e.userEmail,e.userPassword)).user,p=Da(Us,"users",f.uid),g=await lb(p);if(!g.exists()){alert("No account found. Please signup first."),r("/signup");return}const E=g.data();localStorage.setItem("userName",f.displayName||E.name),localStorage.setItem("userEmail",f.email),localStorage.setItem("userAccessToken",f.uid),localStorage.setItem("userType",E.userType),alert("User Logged In Successfully!"),console.log("Firestore Data:",E),E.userType==="mentor"?r("/mentorProfileCreate"):E.userType==="student"&&r("/postRequirment")}catch(h){console.error("Login Failed:",h.message),alert("Login Failed: "+h.message)}n({userEmail:"",userPassword:""})}async function o(){try{const u=new Xr;u.setCustomParameters({prompt:"select_account"});const f=(await xE(kh,u)).user,p=Da(Us,"users",f.uid),g=await lb(p);if(!g.exists()){alert("No account found. Please signup first."),r("/signup");return}const E=g.data();localStorage.setItem("userName",f.displayName||E.name),localStorage.setItem("userEmail",f.email),localStorage.setItem("userAccessToken",f.uid),localStorage.setItem("userType",E.userType),alert("Login successful!"),console.log("Firestore Data:",E),E.userType==="mentor"?r("/mentorProfileCreate"):E.userType==="student"&&r("/postRequirment")}catch(u){console.error("Google SignIn Error:",u.message),alert(u.message)}}return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-6",children:v.jsxs("div",{className:"max-w-md mx-auto bg-gray-800 p-8 rounded-xl shadow-lg",children:[v.jsx("h2",{className:"text-3xl font-bold text-center text-white mb-8",children:"Welcome Back"}),v.jsx("div",{className:"mb-6",children:v.jsx("label",{className:"block text-gray-300 mb-2 text-xl text-center",children:"Log in"})}),v.jsxs("form",{className:"space-y-6",onSubmit:s,children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-300 mb-2",children:"Email"}),v.jsx("input",{type:"email",id:"email",value:e.userEmail,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",onChange:u=>{n({...e,userEmail:u.target.value})},placeholder:"Enter your email",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-gray-300 mb-2",children:"Password"}),v.jsx("input",{type:"password",id:"password",value:e.userPassword,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",onChange:u=>{n({...e,userPassword:u.target.value})},placeholder:"Enter your password",required:!0})]}),v.jsx("div",{className:"text-right",children:v.jsx("a",{href:"#",className:"text-yellow-400 hover:text-yellow-300 transition duration-300 text-sm",children:"Forgot Password?"})}),v.jsxs("div",{className:"mt-6",children:[v.jsx("p",{className:" block text-gray-300 mb-2",children:"Continue with google"}),v.jsx("button",{className:"w-full bg-gray-900  text-yellow-400 px-6 py-2 rounded-lg font-semibold shadow-md transform hover:scale-105 transition duration-300 mt-2",onClick:o,children:"Signin with google"})]}),v.jsx("button",{type:"submit",className:"w-full bg-yellow-400 text-gray-900 px-8 py-3 rounded-lg font-semibold shadow-lg hover:bg-yellow-500 transform hover:scale-105 transition duration-300",children:"Log In"})]}),v.jsxs("p",{className:"text-center text-gray-400 mt-6",children:["Don't have an account?"," ",v.jsx(Tn,{to:"/signup",className:"text-yellow-400 hover:text-yellow-300 transition duration-300",children:"Sign up here"})]})]})})}),v.jsx(Ir,{})]})}function rO(){const r=Bs(),[e,n]=K.useState({requirementTitle:"",category:"",budget:"",budgetType:"",preferredTime:"",attachFile:"",name:"",email:"",description:""});async function s(){try{const o=Date.now().toString();await Wm(Da(Us,"requirements",o),e),console.log("Requirement submitted:",e),r(`/myRequirement/${o}`),n({requirementTitle:"",category:"",budget:"",budgetType:"",preferredTime:"",attachFile:"",name:"",email:"",description:""})}catch(o){console.error("Error submitting requirement:",o)}}return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-6",children:v.jsxs("div",{className:"max-w-3xl mx-auto bg-gray-800 p-10 rounded-xl shadow-lg",children:[v.jsx("h2",{className:"text-4xl font-bold text-center text-white mb-2",children:"Request Mentorship"}),v.jsx("p",{className:"text-center text-gray-400 mb-10",children:"Fill out the details below to connect with a mentor."}),v.jsxs("form",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",onSubmit:o=>{o.preventDefault(),s()},children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"title",className:"block text-sm text-gray-300 mb-2 font-medium",children:"Requirement Title *"}),v.jsx("input",{type:"text",value:e.requirementTitle,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",onChange:o=>{n({...e,requirementTitle:o.target.value})},placeholder:"e.g., Need help with React"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"category",className:"block text-sm text-gray-300 mb-2 font-medium",children:"Category *"}),v.jsxs("select",{value:e.category,onChange:o=>{n({...e,category:o.target.value})},className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",children:[v.jsx("option",{value:"",disabled:!0,children:"Select a category"}),v.jsx("option",{value:"mentorship",children:"Mentorship"}),v.jsx("option",{value:"assignment-help",children:"Assignment Help"}),v.jsx("option",{value:"live-coding",children:"Live Coding Session"}),v.jsx("option",{value:"project-guidance",children:"Project Guidance"}),v.jsx("option",{value:"exam-prep",children:"Exam Preparation"})]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"budget",className:"block text-sm text-gray-300 mb-2 font-medium",children:"Budget (Optional)"}),v.jsx("input",{type:"number",id:"budget",value:e.budget,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",onChange:o=>{n({...e,budget:o.target.value})},placeholder:"e.g., 500"}),v.jsxs("select",{value:e.budgetType,onChange:o=>n({...e,budgetType:o.target.value}),className:"w-full mt-2 px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200",children:[v.jsx("option",{value:"",disabled:!0,children:"Budget Type"}),v.jsx("option",{value:"per-hour",children:"Per Hour"}),v.jsx("option",{value:"per-day",children:"Per Day"}),v.jsx("option",{value:"per-week",children:"Per Week"}),v.jsx("option",{value:"per-month",children:"Per Month"}),v.jsx("option",{value:"per-work",children:"Per Work"})]})]})]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"preferredTime",className:"block text-sm text-gray-300 mb-2 font-medium",children:"Preferred Time (Optional)"}),v.jsx("input",{type:"text",value:e.preferredTime,onChange:o=>{n({...e,preferredTime:o.target.value})},className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"e.g., Weekdays 5-7 PM"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"file",className:"block text-sm text-gray-300 mb-2 font-medium",children:"Attach File (Optional)"}),v.jsx("input",{type:"file",onChange:o=>{n({...e,attachFile:o.target.value})},className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-300 mb-2 font-medium",children:"Your Contact Details"}),v.jsx("input",{type:"text",value:e.name,onChange:o=>{n({...e,name:o.target.value})},className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-400 mb-2",placeholder:"Enter Your FullName"}),v.jsx("input",{type:"email",value:e.email,onChange:o=>{n({...e,email:o.target.value})},className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-400",placeholder:"Enter Your Email"})]})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{htmlFor:"description",className:"block text-sm text-gray-300 mb-2 font-medium",children:"Description *"}),v.jsx("textarea",{className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Describe what you need help with...",value:e.description,rows:"5",onChange:o=>{n({...e,description:o.target.value})}})]}),v.jsx("div",{className:"md:col-span-2 flex justify-center",children:v.jsx("button",{type:"submit",className:"bg-yellow-400 text-gray-900 px-8 py-3 rounded-lg font-semibold shadow-lg hover:bg-yellow-500 transform hover:scale-105 transition duration-300",children:"Submit Request"})})]})]})})}),v.jsx(Ir,{})]})}function iO(){const{requirementId:r}=wb(),[e,n]=K.useState(null),[s,o]=K.useState(null);K.useEffect(()=>{if(!r){n("No requirement ID provided");return}const h=eT(Da(Us,"requirements",r),f=>{f.exists()?(o({id:f.id,...f.data()}),n(null)):(n("Requirement not found"),o(null))},f=>{console.error("Error fetching requirement:",f),n("Failed to load requirement")});return()=>h()},[r]);const u={name:"Sarah Johnson",expertise:"Senior React Developer | 10+ years experience",availability:"Weekdays 5-7 PM"};return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen flex items-center overflow-hidden",children:v.jsx("div",{className:"container mx-auto px-6 max-w-screen-lg",children:v.jsxs("div",{className:"max-w-full sm:max-w-2xl md:max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gray-700 text-center px-4 py-4 sm:px-8 sm:py-6 border-b border-gray-600",children:[v.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"My Requirement"}),v.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:"Review your submitted details and find a mentor."})]}),v.jsxs("div",{className:"p-4 sm:p-8",children:[v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-4 sm:space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Title"}),v.jsx("p",{className:"text-lg sm:text-xl text-white font-semibold",children:s.title})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Description"}),v.jsx("p",{className:"text-base sm:text-lg text-gray-200 leading-relaxed",children:s.description})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Preferred Time"}),v.jsx("p",{className:"text-base sm:text-lg text-white",children:s.preferredTime||"Not specified"})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Attached File"}),v.jsx("p",{className:"text-base sm:text-lg text-white",children:s.file?v.jsx("a",{href:"#",className:"text-yellow-400 hover:text-yellow-300 transition duration-300",children:s.file}):"None"})]})]}),v.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Category"}),v.jsx("p",{className:"text-base sm:text-lg text-white",children:s.category})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Budget"}),v.jsxs("p",{className:"text-base sm:text-lg text-white",children:[s.budget?`${s.budget} Coins`:"Not specified",s.budget&&s.budgetType&&v.jsxs("span",{className:"text-gray-400 text-xs sm:text-sm ml-2",children:["(",s.budgetType,")"]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide",children:"Contact Details"}),v.jsx("p",{className:"text-base sm:text-lg text-white",children:s.studentName}),v.jsx("p",{className:"text-base sm:text-lg text-white",children:s.studentEmail})]}),v.jsx("div",{className:"pt-2 sm:pt-4",children:v.jsx("button",{className:"w-full sm:w-auto bg-yellow-400 text-gray-900 px-4 py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-xs sm:text-sm",children:"Find Matching Mentors"})})]})]}),v.jsxs("div",{className:"mt-6 sm:mt-10 p-4 sm:p-6 bg-gray-700 rounded-lg",children:[v.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-4",children:"Matching Mentor"}),v.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("img",{src:"hg",alt:"Mentor Avatar",className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full mr-4"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-base sm:text-lg font-semibold text-white",children:u.name}),v.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:u.expertise}),v.jsxs("p",{className:"text-yellow-400 text-xs sm:text-sm",children:["Available: ",u.availability]})]})]}),v.jsx("button",{className:"w-full sm:w-auto bg-transparent border-2 border-yellow-400 text-yellow-400 px-4 py-1 rounded-lg font-semibold hover:bg-yellow-400 hover:text-gray-900 transition duration-300 text-xs sm:text-sm",children:"Contact Mentor"})]})]})]})]})})}),v.jsx(Ir,{})]})}function sO(){const[r,e]=K.useState(null);K.useEffect(()=>{const s=localStorage.getItem("userName");s&&e(s)},[]);const n={name:r,bio:"A passionate Senior React Developer with over 10 years of experience in building scalable web applications. I love mentoring students and helping them master modern JavaScript frameworks.",profilePicture:"./assests/images/man.jpg",experience:"10+ years",hourlyRate:"50 Coins",availability:["Weekdays 5-7 PM","Weekends 10 AM - 1 PM"],teachingStyle:"Interactive, hands-on coding sessions",languages:["English","Hindi"],skills:["React","Node.js","JavaScript","TypeScript","CSS","Git"],reviews:[{studentName:"John Doe",rating:5,comment:"Sarah was incredibly helpful with my React project. She explained hooks in a way that finally clicked!"},{studentName:"Emma Smith",rating:4,comment:"Great mentor, very knowledgeable. Could improve on time management during sessions."}],membershipPlan:{name:"Standard Plan",price:"$240 / month",description:"I'll be your go-to person and provide additional perspectives on tech and career topics.",features:["2 calls per month (30min/call)","Unlimited Q&A via chat","Expect responses in 2 days"],spotsLeft:1}};return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-16 sm:pt-20 md:pt-24 pb-12 sm:pb-16 md:pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gray-700 px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b border-gray-600 flex flex-col sm:flex-row justify-between items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"Mentor Profile"}),v.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:"Meet your potential mentor."})]}),v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-3 sm:px-4 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-xs sm:text-sm",children:"Edit Profile"})]}),v.jsxs("div",{className:"p-4 sm:p-6 md:p-8 space-y-6 sm:space-y-8 md:space-y-10",children:[v.jsxs("div",{className:"flex flex-col items-center text-center sm:items-start sm:text-left gap-4 sm:gap-6",children:[v.jsx("img",{src:n.profilePicture,alt:`${n.name}'s Profile`,className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full border-4 border-yellow-400 shadow-md"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white",children:n.name}),v.jsxs("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:[n.experience," Experience"]}),v.jsx("p",{className:"text-gray-200 mt-2 text-sm sm:text-base leading-relaxed",children:n.bio})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Pricing"}),v.jsxs("p",{className:"text-base sm:text-lg text-white font-semibold",children:[n.hourlyRate," / Hour"]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Availability"}),v.jsx("ul",{className:"space-y-1",children:n.availability.map((s,o)=>v.jsx("li",{className:"text-base sm:text-lg text-white",children:s},o))})]})]}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Teaching Style"}),v.jsx("p",{className:"text-base sm:text-lg text-white",children:n.teachingStyle})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Languages"}),v.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:n.languages.map((s,o)=>v.jsx("span",{className:"bg-gray-700 text-yellow-400 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:s},o))})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Skills & Technologies"}),v.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:n.skills.map((s,o)=>v.jsx("span",{className:"bg-gray-700 text-yellow-400 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:s},o))})]}),v.jsxs("div",{className:"bg-gray-700 p-4 sm:p-6 rounded-lg",children:[v.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white mb-2 sm:mb-4",children:n.membershipPlan.name}),v.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white mb-1 sm:mb-2",children:n.membershipPlan.price}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base mb-3 sm:mb-4",children:n.membershipPlan.description}),v.jsx("ul",{className:"space-y-1 sm:space-y-2 mb-4 sm:mb-6",children:n.membershipPlan.features.map((s,o)=>v.jsxs("li",{className:"text-gray-200 text-sm sm:text-base flex items-center gap-2",children:[v.jsx("span",{className:"text-yellow-400",children:"●"})," ",s]},o))}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm",children:"Apply Now"})}),v.jsxs("p",{className:"text-gray-400 text-xs sm:text-sm mt-1 sm:mt-2 text-end",children:["Only ",n.membershipPlan.spotsLeft," spot left!"]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-2 sm:mb-4",children:"Student Reviews & Ratings"}),v.jsx("div",{className:"space-y-4 sm:space-y-6",children:n.reviews.map((s,o)=>v.jsxs("div",{className:"bg-gray-700 p-3 sm:p-4 rounded-lg",children:[v.jsxs("div",{className:"flex items-center justify-between mb-1 sm:mb-2",children:[v.jsx("p",{className:"text-base sm:text-lg font-semibold text-white",children:s.studentName}),v.jsx("div",{className:"flex",children:[...Array(5)].map((u,h)=>v.jsx("span",{className:`text-yellow-400 ${h<s.rating?"opacity-100":"opacity-50"}`,children:"★"},h))})]}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:s.comment})]},o))})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm",children:"Contact Mentor"})})]})]})})}),v.jsx(Ir,{})]})}function aO(){const[r,e]=K.useState(!1),[n,s]=K.useState(null),[o,u]=K.useState(null);K.useEffect(()=>{const f=localStorage.getItem("userEmail"),p=localStorage.getItem("userName");f&&s(f),p&&u(p)},[]);const h={name:o,email:n,profilePicture:"./assests/images/man2.webp",bio:"A passionate learner looking to master web development and build real-world projects with the help of experienced mentors.",interests:["React","JavaScript","CSS","Python"],recentActivity:[{action:"Submitted a requirement",details:"Need help with React hooks and state management.",date:"March 25, 2025"},{action:"Contacted a mentor",details:"Reached out to Sarah Johnson for mentorship.",date:"March 20, 2025"}]};return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gray-700 px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b border-gray-600 flex flex-col sm:flex-row justify-between items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-white",children:"User Profile"}),v.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:"View and manage your profile details."})]}),v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-3 sm:px-4 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-xs sm:text-sm",children:"Edit Profile"})]}),v.jsxs("div",{className:"p-4 sm:p-6 md:p-8 space-y-6 sm:space-y-8 md:space-y-10",children:[v.jsxs("div",{className:"flex flex-col items-center text-center md:items-start md:text-left gap-4 sm:gap-6",children:[v.jsx("img",{src:h.profilePicture,alt:`${h.name}'s Profile`,className:"w-24 h-24 sm:w-28 sm:h-28 md:w-32 md:h-32 rounded-full border-4 border-yellow-400 shadow-md"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white",children:h.name}),v.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:h.email}),v.jsx("p",{className:"text-gray-200 mt-2 text-sm sm:text-base leading-relaxed",children:h.bio})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Interests"}),v.jsx("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:h.interests.map((f,p)=>v.jsx("span",{className:"bg-gray-700 text-yellow-400 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:f},p))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-2 sm:mb-4",children:"Recent Activity"}),v.jsx("div",{className:"space-y-4 sm:space-y-6",children:h.recentActivity.map((f,p)=>v.jsxs("div",{className:"bg-gray-700 p-3 sm:p-4 rounded-lg",children:[v.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-1 sm:mb-2",children:[v.jsx("p",{className:"text-base sm:text-lg font-semibold text-white",children:f.action}),v.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:f.date})]}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:f.details})]},p))})]})]})]})})}),v.jsx(Ir,{})]})}function oO(){const[r,e]=K.useState(1),n=()=>e(r+1),s=()=>e(r-1);return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-16 sm:pt-20 md:pt-24 pb-12 sm:pb-16 md:pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-4 sm:px-6",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gray-700 px-4 sm:px-6 md:px-8 py-4 sm:py-6 border-b border-gray-600",children:[v.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Create Your Mentor Profile"}),v.jsx("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:"Complete the steps below to become a mentor."}),v.jsxs("div",{className:"flex mt-3 sm:mt-4 space-x-2 sm:space-x-4 overflow-x-auto",children:[v.jsx("button",{onClick:()=>e(1),className:`text-xs sm:text-sm font-semibold whitespace-nowrap ${r===1?"text-yellow-400":"text-gray-400"}`,children:"Step 1: Basic Info"}),v.jsx("button",{onClick:()=>r>1&&e(2),className:`text-xs sm:text-sm font-semibold whitespace-nowrap ${r===2?"text-yellow-400":"text-gray-400"}`,children:"Step 2: Teaching Preferences"}),v.jsx("button",{onClick:()=>r>2&&e(3),className:`text-xs sm:text-sm font-semibold whitespace-nowrap ${r===3?"text-yellow-400":"text-gray-400"}`,children:"Step 3: Review & Submit"})]})]}),v.jsxs("div",{className:"p-4 sm:p-6 md:p-8",children:[r===1&&v.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[v.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:"Step 1: Basic Information"}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Name"}),v.jsx("input",{type:"text",id:"name",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"Enter your name"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"experience",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Experience"}),v.jsx("input",{type:"text",id:"experience",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"e.g., 10+ years"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"skills",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Skills"}),v.jsx("input",{type:"text",id:"skills",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"e.g., React, Node.js, JavaScript"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"pricing",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Pricing (per hour)"}),v.jsx("input",{type:"text",id:"pricing",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"e.g., 50 Coins"})]}),v.jsx("div",{className:"flex justify-end gap-3 sm:gap-4",children:v.jsx("button",{onClick:n,className:"bg-yellow-400 text-gray-900 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Next"})})]}),r===2&&v.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[v.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:"Step 2: Teaching Preferences"}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"teachingStyle",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Teaching Style"}),v.jsx("textarea",{id:"teachingStyle",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"Describe your teaching style (e.g., Interactive, hands-on coding sessions)",rows:"4"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"availableTimeSlots",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Available Time Slots"}),v.jsx("input",{type:"text",id:"availableTimeSlots",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"e.g., Weekdays 5-7 PM, Weekends 10 AM - 1 PM"})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"languages",className:"block text-xs sm:text-sm text-gray-400 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:"Languages"}),v.jsx("input",{type:"text",id:"languages",className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300 text-sm sm:text-base",placeholder:"e.g., English, Hindi"})]}),v.jsxs("div",{className:"flex justify-end gap-3 sm:gap-4",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 text-gray-200 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold hover:bg-gray-500 transition duration-300 text-sm sm:text-base",children:"Back"}),v.jsx("button",{onClick:n,className:"bg-yellow-400 text-gray-900 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Next"})]})]}),r===3&&v.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[v.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-white",children:"Step 3: Review & Submit"}),v.jsx("p",{className:"text-gray-400 text-sm sm:text-base",children:"Please review your details before submitting. You can go back to any step to make changes."}),v.jsxs("div",{className:"bg-gray-700 p-4 sm:p-6 rounded-lg space-y-3 sm:space-y-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"text-base sm:text-lg font-semibold text-white",children:"Basic Information"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Name: Sarah Johnson"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Experience: 10+ years"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Skills: React, Node.js, JavaScript"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Pricing: 50 Coins"}),v.jsx("button",{onClick:()=>e(1),className:"text-yellow-400 text-xs sm:text-sm hover:underline",children:"Edit"})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-base sm:text-lg font-semibold text-white",children:"Teaching Preferences"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Teaching Style: Interactive, hands-on coding sessions"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Available Time Slots: Weekdays 5-7 PM, Weekends 10 AM - 1 PM"}),v.jsx("p",{className:"text-gray-200 text-sm sm:text-base",children:"Languages: English, Hindi"}),v.jsx("button",{onClick:()=>e(2),className:"text-yellow-400 text-xs sm:text-sm hover:underline",children:"Edit"})]})]}),v.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Your profile will be reviewed for approval. Only genuine mentors will be approved."}),v.jsxs("div",{className:"flex justify-end gap-3 sm:gap-4",children:[v.jsx("button",{onClick:s,className:"bg-gray-600 text-gray-200 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold hover:bg-gray-500 transition duration-300 text-sm sm:text-base",children:"Back"}),v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-4 sm:px-6 py-1 sm:py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300 text-sm sm:text-base",children:"Submit for Approval"})]})]})]})]})})}),v.jsx(Ir,{})]})}function lO(){const r=Bs();return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen flex items-center",children:v.jsx("div",{className:"container mx-auto px-6",children:v.jsxs("div",{className:"max-w-md mx-auto bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsxs("div",{className:"bg-gray-700 px-8 py-6 border-b border-gray-600",children:[v.jsx("h2",{className:"text-3xl font-bold text-white",children:"Verify OTP"}),v.jsx("p",{className:"text-gray-400 mt-1",children:"Your OTP has been sent to your email and phone."})]}),v.jsxs("div",{className:"p-8",children:[v.jsxs("form",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"otp",className:"block text-sm text-gray-400 font-medium uppercase tracking-wide mb-2",children:"OTP For Mobile"}),v.jsx("input",{type:"text",id:"otp",value:"",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Enter the OTP",readOnly:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"otp",className:"block text-sm text-gray-400 font-medium uppercase tracking-wide mb-2",children:"OTP For Email"}),v.jsx("input",{type:"text",id:"otp",value:"",className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:border-yellow-400 transition duration-300",placeholder:"Enter the OTP",readOnly:!0})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx("button",{type:"button",className:"w-full bg-yellow-400 text-gray-900 px-6 py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 transform hover:scale-105 transition duration-300",onClick:()=>{userType=="mentor"?r("/mentorProfileCreate"):userType=="student"&&r("/postRequirment")},children:"Verify OTP"})})]}),v.jsxs("div",{className:"mt-6 flex text-center justify-center items-center",children:[v.jsx("p",{className:"text-gray-400",children:"Didn’t receive the OTP?"}),v.jsx("button",{className:"text-yellow-400 hover:text-yellow-300 transition duration-300 ml-2",children:"Resend OTP"})]})]})]})})}),v.jsx(Ir,{})]})}function uO(){const r=Bs(),e=[{id:1,name:"Sarah Johnson",profilePicture:"./assests/images/man.jpg",experience:"10+ years",skills:["React","Node.js","JavaScript"],pricing:"50 Coins / Hour",rating:4.5,languages:["English"],teachingStyle:["Hands-on"]},{id:2,name:"Michael Brown",profilePicture:"./assests/images/man2.webp",experience:"7 years",skills:["Python","Django","SQL"],pricing:"40 Coins / Hour",rating:4.8,languages:["Hindi"],teachingStyle:["Project-based"]},{id:3,name:"Emily Davis",profilePicture:"./assests/images/man.jpg",experience:"5 years",skills:["Java","Spring Boot","AWS"],pricing:"60 Coins / Hour",rating:"4.2",languages:["Spanish"],teachingStyle:["Theoretical"]},{id:4,name:"David Lee",profilePicture:"./assests/images/man2.webp",experience:"8 years",skills:["Angular","TypeScript","CSS"],pricing:"55 Coins / Hour",rating:"4.6",languages:["French"],teachingStyle:["Hands-on"]}];return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 font-sans",children:[v.jsx(Cr,{}),v.jsx("section",{className:"bg-gradient-to-br from-gray-800 via-gray-900 to-blue-900 pt-24 pb-20 min-h-screen",children:v.jsxs("div",{className:"container mx-auto px-4 sm:px-6",children:[v.jsxs("div",{className:"text-center mb-12 px-2",children:[v.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl font-bold text-white tracking-tight",children:"Find Your Perfect Mentor"}),v.jsx("p",{className:"text-gray-400 mt-3 text-base sm:text-lg",children:"Connect with experienced mentors to achieve your learning goals."})]}),v.jsx("div",{className:"mb-8 flex justify-center px-2",children:v.jsxs("div",{className:"relative w-full max-w-2xl",children:[v.jsx("input",{type:"text",value:"React",className:"w-full px-4 sm:px-5 py-2 sm:py-3 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition duration-300 placeholder-gray-500",placeholder:"Search mentors by name, skills, or keywords...",readOnly:!0}),v.jsx("button",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-yellow-400 text-gray-900 px-3 sm:px-4 py-1 rounded-lg font-semibold shadow-md hover:bg-yellow-500 hover:shadow-lg transition duration-300 text-sm sm:text-base",children:"Search"})]})}),v.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[v.jsxs("div",{className:"lg:w-1/4 bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 border border-gray-700",children:[v.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white mb-4 sm:mb-6 border-b border-gray-600 pb-2",children:"Filters"}),v.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[[{id:"skills",label:"Skills",options:["React","Node.js","Python","Java","Angular","TypeScript"]},{id:"experience",label:"Experience Level",options:["1-3 years","3-5 years","5+ years","10+ years"]},{id:"pricing",label:"Pricing (Coins/Hour)",options:["0-30","30-50","50-100","100+"]},{id:"languages",label:"Languages",options:["English","Hindi","Spanish","French"]},{id:"teachingStyle",label:"Teaching Style",options:["Hands-on","Theoretical","Project-based","Interactive"]},{id:"availability",label:"Availability",options:["Weekdays","Weekends","Evenings","Flexible"]}].map(({id:n,label:s,options:o})=>v.jsxs("div",{children:[v.jsx("label",{className:"block text-xs sm:text-sm text-gray-300 font-medium uppercase tracking-wide mb-1 sm:mb-2",children:s}),v.jsxs("select",{id:n,className:"w-full px-3 sm:px-4 py-1 sm:py-2 bg-gray-700 border border-gray-600 rounded-lg text-gray-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 transition duration-300 text-sm sm:text-base",children:[v.jsxs("option",{value:"",children:["Select ",s]}),o.map((u,h)=>v.jsx("option",{children:u},h))]})]},n)),v.jsx("button",{className:"w-full bg-gray-600 text-gray-200 px-4 py-2 rounded-lg font-semibold shadow-md hover:bg-gray-500 hover:shadow-lg transition duration-300 text-sm sm:text-base",children:"Clear Filters"})]})]}),v.jsx("div",{className:"lg:w-3/4 space-y-4 sm:space-y-6",children:e.length>0?e.map(n=>v.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg p-4 sm:p-6 flex flex-col items-center text-center md:items-start md:text-left md:flex-row space-y-4 md:space-y-0 md:space-x-6 border border-gray-700 hover:shadow-xl transition duration-300",children:[v.jsxs("div",{className:"flex flex-col items-center md:items-start",children:[v.jsx("img",{src:n.profilePicture,alt:`${n.name}'s Profile`,className:"w-24 h-24 sm:w-32 sm:h-32 rounded-lg border-4 border-yellow-400 shadow-md object-cover"}),v.jsx("p",{className:"text-base sm:text-lg text-white font-semibold mt-2 md:hidden",children:n.pricing})]}),v.jsxs("div",{className:"flex-1 flex flex-col items-center md:items-start",children:[v.jsxs("div",{className:"w-full flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[v.jsxs("div",{className:"text-center md:text-left",children:[v.jsx("h3",{className:"text-xl sm:text-2xl font-semibold text-white",children:n.name}),v.jsxs("p",{className:"text-gray-400 mt-1 text-sm sm:text-base",children:[n.experience," Experience"]})]}),v.jsxs("div",{className:"flex justify-center sm:justify-start items-center mt-2 sm:mt-0",children:[[...Array(5)].map((s,o)=>v.jsx("span",{className:`text-yellow-400 ${o<Math.floor(parseFloat(n.rating))?"opacity-100":"opacity-50"}`,children:"★"},o)),v.jsxs("span",{className:"text-gray-400 ml-1 sm:ml-2 text-sm sm:text-base",children:["(",n.rating,")"]})]})]}),v.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mt-3",children:n.skills.map((s,o)=>v.jsx("span",{className:"bg-gray-700 text-yellow-400 px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:s},o))}),v.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mt-2",children:n.languages.map((s,o)=>v.jsx("span",{className:"bg-blue-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:s},o))}),v.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-2 mt-2",children:n.teachingStyle.map((s,o)=>v.jsx("span",{className:"bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold",children:s},o))}),v.jsx("p",{className:"text-lg text-white font-semibold mt-3 hidden md:block",children:n.pricing})]}),v.jsx("div",{className:"w-full md:w-auto flex justify-center md:block md:self-end",children:v.jsx("button",{className:"bg-yellow-400 text-gray-900 px-4 py-2 rounded-lg font-semibold shadow-md hover:bg-yellow-500 hover:shadow-lg transform hover:scale-105 transition duration-300 text-sm sm:text-base",onClick:()=>{r("/mentorProfile")},children:"View Profile"})})]},n.id)):v.jsxs("div",{className:"text-center text-gray-400 py-12",children:[v.jsx("p",{className:"text-lg sm:text-xl",children:"No mentors found matching your criteria."}),v.jsx("p",{className:"mt-2 text-sm sm:text-base",children:"Try adjusting your filters or search terms."})]})})]})]})}),v.jsx(Ir,{})]})}function cO(){const[r,e]=K.useState([]),[n,s]=K.useState("all Categories"),[o,u]=K.useState("");K.useEffect(()=>{(async()=>{try{const g=(await ZD(kD(Us,"requirements"))).docs.map(E=>({id:E.id,...E.data()}));e(g)}catch(p){console.error("Error fetching requirements:",p)}})()},[]);const h=r.filter(f=>{const p=n===""||n==="all Categories"||f.category===n,g=o===""||f.requirementTitle.toLowerCase().includes(o.toLowerCase());return p&&g});return v.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-200 flex flex-col",children:[v.jsx("header",{className:"sticky top-0 z-50",children:v.jsx(Cr,{})}),v.jsxs("main",{className:"flex-grow pt-24 pb-12 px-6",children:[" ",v.jsxs("div",{className:"container mx-auto max-w-7xl",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-yellow-400 text-center",children:"Available Mentorship Requests"}),v.jsxs("div",{className:"mb-8 flex flex-col md:flex-row gap-4 justify-center items-center",children:[v.jsx("div",{className:"w-full max-w-md",children:v.jsx("input",{type:"text",value:o,placeholder:"Search requests...",onChange:f=>u(f.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400"})}),v.jsx("div",{className:"w-full max-w-xs",children:v.jsxs("select",{onChange:f=>s(f.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-400",children:[v.jsx("option",{value:"all Categories",children:"All Categories"}),v.jsx("option",{value:"project-guidance",children:"Project Guidance"}),v.jsx("option",{value:"assignment-help",children:"Assignment Help"}),v.jsx("option",{value:"mentorship",children:"Mentorship"}),v.jsx("option",{value:"live-coding",children:"Live Coding"})]})})]}),h.length>0?v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(f=>v.jsx("div",{className:"bg-gray-800 rounded-xl overflow-hidden shadow-lg hover:shadow-yellow-400/20 transition-all duration-300 border border-gray-700 hover:border-yellow-400",children:v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:f.requirementTitle}),v.jsxs("span",{className:"bg-gray-700 text-yellow-400 px-3 py-1 rounded-full text-xs font-semibold",children:[f.budget," Coins"]})]}),v.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[v.jsx("span",{className:"bg-blue-900/50 text-blue-400 px-2 py-1 rounded text-xs",children:f.category}),v.jsx("span",{className:"text-gray-500 text-sm",children:f.preferredTime})]}),v.jsx("p",{className:"mt-4 text-gray-300 line-clamp-3",children:f.description}),v.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700 flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium",children:f.name}),v.jsx("p",{className:"text-xs text-gray-500",children:f.email})]}),v.jsx(Tn,{to:`/requirementDetail/${f.id}`,className:"bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-4 rounded-lg text-sm transition",children:"View Details"})]})]})},f.id))}):v.jsx("p",{className:"text-center text-gray-400",children:"No mentorship requests found."})]})]}),v.jsx("footer",{className:"bg-gray-800 border-t border-gray-700",children:v.jsx(Ir,{})})]})}function hO(){const{requirementId:r}=wb(),[e,n]=K.useState(null),[s,o]=K.useState(null),[u,h]=K.useState(!1);K.useEffect(()=>{if(!r){o("No requirement ID provided");return}const p=eT(Da(Us,"requirements",r),g=>{g.exists()?(n({id:g.id,...g.data()}),o(null)):(o("Requirement not found"),n(null))},g=>{console.error("Error fetching requirement:",g),o("Failed to load requirement")});return()=>p()},[r]);const f=p=>{if(!p)return"Date not available";try{return p.seconds?new Date(p.seconds*1e3).toLocaleDateString():new Date(p).toLocaleDateString()}catch{return"Invalid date"}};return!e&&!s?v.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex justify-center items-center",children:v.jsxs("svg",{className:"animate-spin h-8 w-8 text-yellow-400",viewBox:"0 0 24 24",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),v.jsx("path",{fill:"currentColor",d:"M4 12a8 8 0 018-8v8h-8z"})]})}):s?v.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex justify-center items-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-yellow-400 mb-4",children:s}),v.jsx(Tn,{to:"/mentorDashboard",className:"bg-yellow-400 text-gray-900 px-6 py-3 rounded-lg",children:"Back to Dashboard"})]})}):v.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-200",children:v.jsxs("div",{className:"container mx-auto p-6",children:[v.jsxs(Tn,{to:"/mentorDashboard",className:"flex items-center text-yellow-400 hover:text-yellow-300 mb-6",children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back to all requests"]}),v.jsxs("div",{className:"bg-gray-800 rounded-xl shadow-lg overflow-hidden",children:[v.jsx("div",{className:"p-6 sm:p-8 border-b border-gray-700",children:v.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:e.requirementTitle||"No Title"}),v.jsxs("div",{className:"flex items-center mt-2 gap-3",children:[v.jsx("span",{className:"bg-blue-900/50 text-blue-400 px-3 py-1 rounded-full text-sm",children:e.category||"No Category"}),v.jsxs("span",{className:"text-gray-400 text-sm",children:["Posted: ",f(e.createdAt)]})]})]}),v.jsxs("div",{className:"bg-yellow-400 text-gray-900 px-4 py-2 rounded-lg font-bold text-lg",children:[e.budget||"0"," Coins"]})]})}),v.jsx("div",{className:"p-6 sm:p-8",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[v.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-4 text-yellow-400",children:"Description"}),v.jsx("p",{className:"text-gray-300 whitespace-pre-line",children:e.description||"No description provided"})]}),e.file&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-4 text-yellow-400",children:"Attached File"}),v.jsxs("a",{href:e.file,className:"inline-flex items-center text-yellow-400 hover:text-yellow-300 border border-yellow-400 rounded-lg px-4 py-2",download:!0,children:[v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:v.jsx("path",{fillRule:"evenodd",d:"M8 4a3 3 0 00-3 3v4a5 5 0 0010 0V7a1 1 0 112 0v4a7 7 0 11-14 0V7a5 5 0 0110 0v4a3 3 0 11-6 0V7a1 1 0 012 0v4a1 1 0 102 0V7a3 3 0 00-3-3z",clipRule:"evenodd"})}),e.fileName||"Download File"]})]})]}),v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"bg-gray-700/50 p-6 rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4 text-yellow-400",children:"Student Details"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Name"}),v.jsx("p",{className:"font-medium",children:e.name||"Anonymous"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Email"}),v.jsx("p",{className:"font-medium text-yellow-400",children:e.email||"No email provided"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-400",children:"Preferred Time"}),v.jsx("p",{className:"font-medium",children:e.preferredTime||"Not specified"})]})]})]}),v.jsxs("div",{className:"bg-gray-700/50 p-6 rounded-lg",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4 text-yellow-400",children:"Connect with Student"}),v.jsxs("p",{className:"text-gray-300 mb-4",children:["You'll need to pay ",60," coins to contact this student"]}),v.jsxs("button",{onClick:()=>h(!u),className:"w-full bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-4 rounded-lg transition flex items-center justify-center",children:[v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:[v.jsx("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),v.jsx("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})]}),"Contact Student (",60," Coins)"]}),u&&v.jsx("p",{className:"text-gray-300 mt-4",children:"Mobile Number : 7289975427"})]})]})]})})]})]})})}const dO=wA([{path:"/",element:v.jsx(HA,{})},{path:"/findMentors",element:v.jsx(uO,{})},{path:"/login",element:v.jsx(nO,{})},{path:"/postRequirment",element:v.jsx(rO,{})},{path:"/signup",element:v.jsx(tO,{})},{path:"/mentorProfileCreate",element:v.jsx(oO,{})},{path:"/verify",element:v.jsx(lO,{})},{path:"/mentorProfile",element:v.jsx(sO,{})},{path:"/myRequirement",element:v.jsx(iO,{})},{path:"/studentProfile",element:v.jsx(aO,{})},{path:"/mentorDashboard",element:v.jsx(cO,{})},{path:"/requirementDetail/:requirementId",element:v.jsx(hO,{})}]);jw.createRoot(document.getElementById("root")).render(v.jsx(K.StrictMode,{children:v.jsx(kA,{router:dO})}));
